#!/bin/bash

# ãƒžãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã®ãƒªã‚¹ãƒˆç•ªå·ã‚’1ã«çµ±ä¸€ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

echo "ðŸ”§ ãƒžãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒªã‚¹ãƒˆç•ªå·ã‚’ä¿®æ­£ä¸­..."

# MD029ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ï¼ˆé€£ç¶šã™ã‚‹ç•ªå·ä»˜ããƒªã‚¹ãƒˆã‚’ã™ã¹ã¦1ã«å¤‰æ›´ï¼‰
find . -name "*.md" \
  -not -path "./node_modules/*" \
  -not -path "./dist/*" \
  -not -path "./dist-beta/*" \
  -type f \
  -exec sed -i '' -E 's/^([0-9]+)\. /1. /g' {} \;

echo "âœ… ä¿®æ­£å®Œäº†"
echo ""
echo "ðŸ“Š ä¿®æ­£çµæžœã‚’ç¢ºèª:"
npm run lint:md 2>&1 | grep -c "MD029" || echo "MD029ã‚¨ãƒ©ãƒ¼: 0ä»¶"
