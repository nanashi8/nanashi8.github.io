#!/usr/bin/env python3
"""
英文ファイルの各行に対応するフレーズ訳を生成
全訳を参考にしながら、意味が通るように翻訳
"""

# 英文ファイルパス
txt_path = "./public/data/passages-for-phrase-work/advanced_4493_Family-Gathering-Traditions.txt"

# 英文を読み込む
with open(txt_path, 'r', encoding='utf-8') as f:
    english_lines = [line.rstrip('\n') for line in f.readlines()]

print(f"英文行数: {len(english_lines)}")
print("フレーズ訳を生成中...")

# 各行に対応する日本語訳
# 全訳と原文を参照して、適切な訳を割り当てる
japanese_translations = []

# 行ごとの翻訳（全訳を参考に作成）
translations_map = {
    0: "新年の家族の集まり - 人生について近況を語る",
    1: "",  # 空行
    2: "1月2日、私たちの拡大家族は伝統的な新年のお祝いのために祖父母の家に集まりました。",
    3: "",
    4: "遠くに住む親戚が努力して",
    5: "",
    6: "家に帰ってきました。",
    7: "",
    8: "そして家は笑い声、物語、",
    9: "",
    10: "そして美味しい食べ物で満たされました。",
    11: "",
    12: "夕食の後、",
    13: "",
    14: "みんなが居間に一緒に座り、",
    15: "",
    16: "お互いの人生について近況を語り合いました。",
    17: "",
    18: "「ようこそ、みなさんようこそ！」祖母は暖かく言いました",
    19: "",
    20: "お茶とお菓子を持ってきながら。",
    21: "",
    22: "「誰かお茶を一杯いかがですか？",
    23: "",
    24: "本当に素晴らしいです",
    25: "",
    26: "家族全員が一緒にいられるのは。",
    27: "",
    28: "もう",
    29: "",
    30: "お互いにほとんど会えませんね。」",
    31: "",
    32: "「今年もまたホストしてくださってありがとうございます、",
    33: "",
    34: "おばあちゃん」叔母が答えました。",
    35: "",
    36: "「あなたの家はいつも私たちの家族の心のように感じます。」",
    37: "",
    38: "祖母は微笑みました。",
    39: "",
    40: "「どういたしまして。",
    41: "",
    42: "どうぞくつろいでください。」",
    43: "",
    44: "彼女は続けました、「",
    45: "",
    46: "できる限り、",
    47: "",
    48: "皆さんを招き続けます。",
    49: "",
    50: "さあ、起こっていることすべてを教えてください！",
    51: "",
    52: "すべてのニュースを聞きたいです。」",
    53: "",
    54: "叔父の武が最初に話しました。",
    55: "",
    56: "「ええと、大きなニュースがあります。",
    57: "",
    58: "ついに仕事を変えました。",
    59: "",
    60: "同じ会社で長い間働いていました―15年間―でも変化の時だと決めました。」",
    61: "",
    62: "「本当に？",
    63: "",
    64: "今は何をしているの？」父が興味深げに尋ねました。",
    65: "",
    66: "「物流会社で",
    67: "",
    68: "ドライバーとして働いています。",
    69: "",
    70: "オフィスワークとは大きく違いますが、",
    71: "",
    72: "実際に楽しんでいます。",
    73: "",
    74: "さまざまな都市に",
    75: "",
    76: "旅行できるし、",
    77: "",
    78: "新しい場所を見られるし、",
    79: "",
    80: "スケジュールもより柔軟です。」",
    81: "",
    82: "「それはかなりの変化ですね！」祖母が言いました。",
    83: "",
    84: "「その決定に満足していますか？」",
    85: "",
    86: "「絶対に。",
    87: "",
    88: "一日中デスクに座っているのに疲れていました―つまり、",
    89: "",
    90: "本当にそのライフスタイルに",
    91: "",
    92: "疲れていました。",
    93: "",
    94: "今は屋外で動き回っているだけでなく、",
    95: "",
    96: "ずっと健康的です。",
    97: "",
    98: "コンピュータ画面を見つめることからの頭痛ももうありません！」",
    99: "",
}

# 最初の100行を設定済み
# 残りの行は英文を見ながら同様のパターンで翻訳が必要
# まず最初の100行を出力して確認

for i in range(len(english_lines)):
    if i in translations_map:
        japanese_translations.append(translations_map[i])
    else:
        # まだ翻訳していない行は英文をそのまま（後で手動で翻訳）
        japanese_translations.append(f"[未翻訳: {english_lines[i][:30]}...]")

# 出力ファイルパス
output_path = "./public/data/passages-for-phrase-work/advanced_4493_Family-Gathering-Traditions-ja-phrases-DRAFT.txt"

with open(output_path, 'w', encoding='utf-8') as f:
    for line in japanese_translations:
        f.write(line + '\n')

print(f"生成完了: {len(japanese_translations)}行")
print(f"出力先: {output_path}")
print(f"\n最初の100行は翻訳済み")
print(f"残り{len(english_lines) - 100}行は[未翻訳]マーク付き")
print("\n次のステップ: 全1639行の完全な翻訳が必要です")
