import{B as f}from"./ScheduleStrategy-BFw-1z1Q.js";import{l as p}from"./index-DZEYaTGs.js";import"./chart-vendor-Eu4deRvW.js";import"./react-vendor-C14am9Lm.js";class v extends f{async schedule(m){const{params:s,startTime:S,dependencies:c}=m,o=c.scheduler;this.log("ハイブリッドモード開始",{questionCount:s.questions.length,mode:s.mode});const n=o.buildContext(s),a=o.detectSignals(n),y=o.calculatePriorities(s.questions,n,a,!1),b=o.applyAntiVibration(y,n),e=o.sortAndBalance(b,s,n),C=o.postProcess(e,n),u=c.antiVibration.calculateVibrationScore(e,n.recentAnswers,20),i=e.filter(t=>t.position>=70),r=e.filter(t=>t.position>=40&&t.position<70),d=i.length+r.length,l=e.length;p.info("[HybridScheduleStrategy] 優先単語配置完了",{incorrectWords:i.slice(0,5).map(t=>t.question.word),stillLearningWords:r.slice(0,5).map(t=>t.question.word),incorrectCount:i.length,stillLearningCount:r.length,otherCount:l-d,reviewRatio:l>0?`${(d/l*100).toFixed(0)}%`:"0%",top5:e.slice(0,5).map(t=>{var h;return`${t.question.word}(${(h=t.status)==null?void 0:h.category})`})});const g=performance.now()-S;return p.info("[HybridScheduleStrategy] スケジューリング完了",{processingTime:Math.round(g)+"ms",vibrationScore:u,incorrectCount:i.length,stillLearningCount:r.length,totalCount:C.length}),this.buildResult(e,{source:"HybridScheduleStrategy",elapsed:g,vibrationScore:u,signalCount:a.length})}}export{v as HybridScheduleStrategy};
//# sourceMappingURL=HybridScheduleStrategy-BK2kzOV8.js.map
