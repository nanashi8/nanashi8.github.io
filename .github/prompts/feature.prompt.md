# 新機能追加プロンプト

**対象**: 新しいFeatureを追加する場合

---

## 事前確認

1. **重複チェック**
   - 既存の同様な機能がないか確認する
   - 類似機能がある場合は、差分のみを実装する
   - 既存コードを最大限再利用する

2. **Feature-First構造への準拠**
   - 関連ファイルを同じディレクトリに配置
   - 他のFeatureへの依存は最小限にする
   - 共通部分は `Common/` または適切な共有場所に配置

---

## 実装ガイドライン

### ディレクトリ構成
```
Features/〇〇/
├── 〇〇View.swift (メイン画面)
├── 〇〇ViewModel.swift (メインロジック)
├── Components/ (UI部品)
│   └── 〇〇CardView.swift
├── Services/ (ビジネスロジック)
│   └── 〇〇Service.swift
└── Models/ (データ構造)
    └── 〇〇Model.swift
```

### 責務の分離
- **Model**: データ構造とバリデーション
- **ViewModel**: プレゼンテーションロジック、状態管理
- **View**: UI表示のみ、ロジックを含まない
- **Service**: ビジネスロジック、外部依存

### 命名規則
- View: `〇〇View.swift`
- ViewModel: `〇〇ViewModel.swift`
- Model: `〇〇Model.swift`

### 日本語コメント
各層の役割を日本語コメントで明確に説明する：
```swift
// MARK: - データモデル
// 〇〇機能で使用する基本データ構造

// MARK: - ビジネスロジック
// 〇〇の計算・判定処理

// MARK: - UI表示
// 〇〇画面のレイアウト定義
```

---

## チェックリスト

- [ ] 既存の類似機能を確認し、重複を避けた
- [ ] Feature-First構造に従ってファイルを配置した
- [ ] Model、ViewModel、Viewの責務を明確に分離した
- [ ] 日本語コメントで各層の役割を説明した
- [ ] 命名規則に従った
- [ ] 他のFeatureへの依存を最小限にした
- [ ] 共通部分は適切に共有化した
