#!/bin/sh

echo "🚀 Pre-push チェック開始..."

# スマートテスト実行（変更内容に基づいて最適なテストを選択）
npm run test:smart || {
  echo "❌ テストに失敗しました"
  echo "💡 基本機能が壊れている可能性があります"
  echo "💡 強制的にプッシュする場合は git push --no-verify を使用してください"
  exit 1
}

echo "✨ すべてのチェックが完了しました！プッシュを続行します"
