{
  "name": "servant",
  "displayName": "Servant",
  "description": "„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂÜÖ„Å´‰Ωè„ÇÄAI„Çµ„Éº„Éê„É≥„Éà„ÄÇË®≠Ë®àÊñπÈáù„ÇíÁõ£Ë¶ñ„Åó„ÄÅAI‰ΩúÊ•≠ÊôÇ„Å´„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÊÉÖÂ†±„Çí„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„ÅßÂèéÈõÜ„ÉªÊèê‰æõ„Åó„Å¶ÂäπÁéáÂåñ„Åó„Åæ„Åô",
  "version": "0.3.21",
  "publisher": "nanashi8",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/nanashi8/nanashi8.github.io.git",
    "directory": "extensions/servant"
  },
  "bugs": {
    "url": "https://github.com/nanashi8/nanashi8.github.io/issues"
  },
  "homepage": "https://github.com/nanashi8/nanashi8.github.io/tree/main/extensions/servant#readme",
  "engines": {
    "vscode": "^1.90.0"
  },
  "capabilities": {
    "untrustedWorkspaces": {
      "supported": true,
      "description": "Restricted Mode „Åß„ÅØÊúÄÂ∞èÊ©üËÉΩÔºà„Çπ„ÉÜ„Éº„Çø„ÇπË°®Á§∫„Å®‰ø°È†ºÊ°àÂÜÖÔºâ„ÅÆ„ÅøÂãï‰Ωú„Åó„Åæ„Åô„ÄÇ„Éï„É´Ê©üËÉΩ„Å´„ÅØ„ÉØ„Éº„ÇØ„Çπ„Éö„Éº„Çπ„ÅÆ‰ø°È†º„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ"
    }
  },
  "categories": [
    "Linters",
    "Programming Languages",
    "Other"
  ],
  "keywords": [
    "ai",
    "servant",
    "copilot",
    "instructions",
    "policy",
    "validation",
    "code-quality",
    "architecture",
    "ai-guard",
    "git-hooks",
    "pre-commit",
    "quick-fix",
    "cache"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "chatParticipants": [
    {
      "id": "servant.chat",
      "name": "servant",
      "description": "„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çµ„Éº„Éê„É≥„Éà - ÂïèÈ°åÊ§úÁü•„ÄÅË®≠Ë®àÊñπÈáùÁõ£Ë¶ñ„ÄÅAI‰ΩúÊ•≠ÊîØÊè¥",
      "isSticky": true,
      "commands": [
        {
          "name": "problems",
          "description": "VSCodeÂïèÈ°å„Éë„Éç„É´„ÅÆ„Ç®„É©„Éº/Ë≠¶Âëä„ÇíÂ†±Âëä"
        },
        {
          "name": "project",
          "description": "„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÊßãÊàêÊÉÖÂ†±„ÇíË°®Á§∫"
        }
      ]
    }
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "servant.validate",
        "title": "Servant: Validate Instructions"
      },
      {
        "command": "servant.validateBeforeCommit",
        "title": "Servant: Validate Before Commit"
      },
      {
        "command": "servant.recordSpecCheck",
        "title": "Servant: Record Spec Check"
      },
      {
        "command": "servant.reviewRequiredInstructions",
        "title": "Servant: Review Required Instructions"
      },
      {
        "command": "servant.installHooks",
        "title": "Servant: Install Git Hooks"
      },
      {
        "command": "servant.uninstallHooks",
        "title": "Servant: Uninstall Git Hooks"
      },
      {
        "command": "servant.indexProject",
        "title": "Servant: Index Project for AI"
      },
      {
        "command": "servant.showProjectMap",
        "title": "Servant: Show Project Knowledge Map"
      },
      {
        "command": "servant.learnFromHistory",
        "title": "Servant: Learn from Git History"
      },
      {
        "command": "servant.showHotspots",
        "title": "Servant: Show Problem Hotspots"
      },
      {
        "command": "servant.showAIHotspots",
        "title": "Servant: Show AI Hotspots (from action log)"
      },
      {
        "command": "servant.showLearningStats",
        "title": "Servant: Show Learning Statistics"
      },
      {
        "command": "servant.resetLearning",
        "title": "Servant: Reset Learning Data"
      },
      {
        "command": "servant.showAIStats",
        "title": "Servant: Show AI Action Statistics"
      },
      {
        "command": "servant.showRecentAIActions",
        "title": "Servant: Show Recent AI Actions"
      },
      {
        "command": "servant.resetAITracking",
        "title": "Servant: Reset AI Tracking Data"
      },
      {
        "command": "servant.evaluateAI",
        "title": "Servant: Evaluate AI Performance"
      },
      {
        "command": "servant.showAITrend",
        "title": "Servant: Show AI Performance Trend"
      },
      {
        "command": "servant.buildNeuralGraph",
        "title": "Servant: Build Neural Dependency Graph"
      },
      {
        "command": "servant.showNeuralGraph",
        "title": "Servant: Show Neural Graph Statistics"
      },
      {
        "command": "servant.propagateForward",
        "title": "Servant: Propagate Forward from Active File"
      },
      {
        "command": "servant.showNeuralLearningStats",
        "title": "Servant: Show Neural Learning Statistics"
      },
      {
        "command": "servant.learnFromGit",
        "title": "Servant: Learn Workflow from Git History"
      },
      {
        "command": "servant.optimizeCurrentTask",
        "title": "Servant: Optimize Current Task"
      },
      {
        "command": "servant.showOptimizationStats",
        "title": "Servant: Show Optimization Statistics"
      },
      {
        "command": "servant.showConstellation",
        "title": "Servant: üåü Show Constellation View"
      },
      {
        "command": "servant.analyzeArchitecture",
        "title": "Servant: Analyze Project Architecture"
      },
      {
        "command": "servant.autopilot.showLastReport",
        "title": "Servant: Show Autopilot Last Report"
      },
      {
        "command": "servant.autopilot.adjust",
        "title": "Servant: Adjust Autopilot Preflight"
      },
      {
        "command": "servant.autopilot.review",
        "title": "Servant: Review Autopilot (Deliberation)"
      },
      {
        "command": "servant.autopilot.ingestPostReviewFromClipboard",
        "title": "Servant: Ingest Autopilot Post-Review (from Clipboard)"
      },
      {
        "command": "servant.specBook.open",
        "title": "Servant: Open Working Spec"
      },
      {
        "command": "servant.specBook.appendDecision",
        "title": "Servant: Append Decision Log"
      },
      {
        "command": "servant.context.build",
        "title": "Servant: Build AI Context Packet"
      },
      {
        "command": "servant.quickFixCommit",
        "title": "Servant: üöÄ Quick Fix Commit (DECISIONSËøΩË®ò‚Üí„Ç≥„Éü„ÉÉ„Éà)"
      },
      {
        "command": "servant.chat.reportProblems",
        "title": "Servant: Report Problems to Copilot Chat"
      },
      {
        "command": "servant.applyLearningReport",
        "title": "Servant: Apply Learning Report (ÂÜÖÈÉ®Áî®)"
      }
    ],
    "configuration": {
      "title": "Servant",
      "properties": {
        "servant.enable": {
          "type": "boolean",
          "default": true,
          "description": "Enable/disable Servant"
        },
        "servant.terminalStatus.enabled": {
          "type": "boolean",
          "default": false,
          "description": "Show Servant status updates in an integrated terminal (yellow text)"
        },
        "servant.severity": {
          "type": "string",
          "enum": [
            "error",
            "warning",
            "information",
            "hint"
          ],
          "default": "error",
          "description": "Diagnostic severity for CRITICAL violations"
        },
        "servant.preCommit.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable pre-commit validation"
        },
        "servant.preCommit.strictMode": {
          "type": "boolean",
          "default": false,
          "description": "Block commits even for warnings (not just errors)"
        },
        "servant.preCommit.autoFix": {
          "type": "boolean",
          "default": false,
          "description": "Automatically apply Quick Fixes before commit"
        },
        "servant.preCommit.ignorePatterns": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "node_modules",
            "dist",
            "build",
            ".git"
          ],
          "description": "File patterns to ignore in pre-commit validation"
        },
        "servant.guard.runRepoScriptsBeforeCommit": {
          "type": "boolean",
          "default": false,
          "description": "(Optional) Run repo-local scripts/pre-commit-ai-guard.sh inside VS Code when running 'Servant: Validate Before Commit'. Disabled by default to avoid double-running."
        },
        "servant.specCheck.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Require recording mandatory instruction review before allowing commits"
        },
        "servant.specCheck.maxAgeHours": {
          "type": "number",
          "default": 24,
          "description": "Maximum age (hours) of spec-check record before it expires"
        },
        "servant.commitMsg.enabled": {
          "type": "boolean",
          "default": false,
          "description": "Enable commit message validation"
        },
        "servant.performance.enableCache": {
          "type": "boolean",
          "default": true,
          "description": "Enable validation result caching for better performance"
        },
        "servant.performance.cacheLocation": {
          "type": "string",
          "default": ".vscode/cache",
          "description": "Location for cache files (relative to workspace root)"
        },
        "servant.performance.maxCacheSize": {
          "type": "number",
          "default": 100,
          "description": "Maximum number of cache entries in memory"
        },
        "servant.performance.enableIncremental": {
          "type": "boolean",
          "default": true,
          "description": "Enable incremental validation (only validate changed files)"
        },
        "servant.autopilot.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable Servant Autopilot (proactive guidance + post-review prompts)"
        },
        "servant.autopilot.autoOptimizeOnStart": {
          "type": "boolean",
          "default": true,
          "description": "Automatically generate best-next-step suggestions when work starts"
        },
        "servant.autopilot.proactiveSpecCheck": {
          "type": "boolean",
          "default": true,
          "description": "Proactively remind spec-check freshness while editing (without running heavy checks)"
        },
        "servant.autopilot.askPostReview": {
          "type": "boolean",
          "default": true,
          "description": "Ask short post-review questions to improve next attempts"
        },
        "servant.autopilot.promptMode": {
          "type": "string",
          "enum": [
            "auto",
            "always",
            "never"
          ],
          "default": "auto",
          "description": "How strongly Autopilot prompts before work (auto=non-blocking on high risk/large work; always=requires approval)"
        },
        "servant.autopilot.revealOutputOnStart": {
          "type": "boolean",
          "default": true,
          "description": "Always reveal Output panel on work start (preserve focus)"
        },
        "servant.autopilot.largeWorkThresholdFiles": {
          "type": "number",
          "default": 20,
          "description": "Treat work as large when modified files count reaches this threshold"
        },
        "servant.autopilot.closedLoopReplanOnSave": {
          "type": "boolean",
          "default": true,
          "description": "Enable closed-loop replanning on save (save ‚Üí incremental validate ‚Üí replan suggestions)"
        },
        "servant.autopilot.closedLoopThrottleMs": {
          "type": "number",
          "default": 8000,
          "description": "Throttle interval (ms) for closed-loop replanning on save"
        },
        "servant.performance.largeFileThreshold": {
          "type": "number",
          "default": 1048576,
          "description": "File size threshold for large file handling (in bytes)"
        },
        "servant.ai.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable AI-powered code analysis and suggestions"
        },
        "servant.ai.autoFix": {
          "type": "boolean",
          "default": false,
          "description": "Automatically apply AI-generated fixes"
        },
        "servant.ai.model": {
          "type": "string",
          "default": "copilot-gpt-4",
          "description": "AI model to use for analysis"
        },
        "servant.ai.contextCollection": {
          "type": "boolean",
          "default": true,
          "description": "Automatically collect project context when AI starts working"
        },
        "servant.ai.projectIndexing": {
          "type": "boolean",
          "default": true,
          "description": "Build knowledge graph of project structure for AI assistance"
        },
        "servant.ai.relatedFileSuggestions": {
          "type": "boolean",
          "default": true,
          "description": "Suggest related files when AI is working"
        },
        "servant.notifications.mode": {
          "type": "string",
          "enum": [
            "quiet",
            "standard",
            "strict"
          ],
          "default": "quiet",
          "description": "Notification verbosity mode (quiet: minimal interruptions)"
        },
        "servant.notifications.cooldownMs": {
          "type": "number",
          "default": 60000,
          "description": "Cooldown in milliseconds for repeated notifications (0 to disable)"
        },
        "servant.learning.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable adaptive learning from failures"
        },
        "servant.learning.cycleSize": {
          "type": "number",
          "default": 15,
          "description": "Number of validations before automatic learning"
        },
        "servant.learning.autoUpdateInstructions": {
          "type": "boolean",
          "default": false,
          "description": "Automatically update Instructions after learning (CAUTION: may modify instruction files)"
        },
        "servant.learning.gitHistoryLimit": {
          "type": "number",
          "default": 100,
          "description": "Number of recent commits to analyze"
        },
        "servant.specBook.specPath": {
          "type": "string",
          "default": "docs/specifications/WORKING_SPEC.md",
          "description": "Path to the enforced working spec (relative to workspace root)"
        },
        "servant.specBook.decisionsPath": {
          "type": "string",
          "default": "docs/specifications/DECISIONS.md",
          "description": "Path to the decision log (relative to workspace root)"
        },
        "servant.specBook.enforceDecisionOnUIChange": {
          "type": "boolean",
          "default": true,
          "description": "Warn (or block in strict mode) if UI-related files change without updating the decision log"
        },
        "servant.context.outputPath": {
          "type": "string",
          "default": ".aitk/context/AI_CONTEXT.md",
          "description": "Path to the generated AI context packet (relative to workspace root)"
        },
        "servant.chat.autoReportProblems": {
          "type": "boolean",
          "default": false,
          "description": "Automatically notify @servant in Copilot Chat when new errors are detected"
        },
        "servant.context.enforceBeforeCommit": {
          "type": "boolean",
          "default": true,
          "description": "Warn (or block in strict mode) if AI context packet is missing or stale at pre-commit"
        },
        "servant.context.autoBuildOnStartup": {
          "type": "boolean",
          "default": true,
          "description": "Automatically (silently) build AI context packet on extension startup"
        },
        "servant.context.autoBuildOnSpecChange": {
          "type": "boolean",
          "default": true,
          "description": "Automatically (silently) rebuild AI context packet when spec/instructions change"
        },
        "servant.context.autoBuildThrottleMs": {
          "type": "number",
          "default": 30000,
          "description": "Throttle interval (ms) for automatic AI context packet generation"
        },
        "servant.context.maxAgeMinutes": {
          "type": "number",
          "default": 120,
          "description": "Max age (minutes) for AI context packet freshness before pre-commit warns/blocks"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "typecheck": "tsc -p ./ --noEmit",
    "clean:dist": "node ./scripts/clean-dist.mjs",
    "bundle": "node ./scripts/esbuild.mjs",
    "compile": "npm run typecheck && npm run clean:dist && npm run bundle",
    "watch": "node ./scripts/esbuild.mjs --watch",
    "pretest": "npm run compile",
    "test": "vitest run",
    "test:watch": "vitest",
    "test:coverage": "vitest run --coverage",
    "lint": "eslint src",
    "package": "vsce package"
  },
  "devDependencies": {
    "@types/node": "^20.10.0",
    "@types/vscode": "^1.80.0",
    "@typescript-eslint/eslint-plugin": "^6.13.0",
    "@typescript-eslint/parser": "^6.13.0",
    "@vitest/coverage-v8": "^1.0.0",
    "@vscode/test-electron": "^2.3.8",
    "eslint": "^8.54.0",
    "esbuild": "^0.20.2",
    "typescript": "^5.3.0",
    "vitest": "^1.0.0",
    "@vscode/vsce": "^2.22.0"
  },
  "dependencies": {
    "gray-matter": "^4.0.3",
    "markdown-it": "^14.0.0",
    "simple-git": "^3.21.0",
    "three": "0.160.0"
  }
}
