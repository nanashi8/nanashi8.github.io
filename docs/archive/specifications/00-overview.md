---
title: システム全体概要
created: 2025-11-12
updated: 2025-12-07
status: deprecated
tags: [archive, ai, adaptive]
---

# システム全体概要

## 📌 プロジェクト概要

**プロジェクト名**: 英単語3択クイズ（高校受験対応版）  
**バージョン**: 2.0.0  
**最終更新**: 2025年11月19日

## 🎯 目的

中学生が高校受験に向けて効率的に英単語・英熟語を学習できるインタラクティブなクイズアプリケーション。
和訳クイズ、スペルクイズ、長文読解の3つの学習モードに加え、AI学習アシスタント、進捗管理、統計分析機能を提供。

## 🏗️ アーキテクチャ

### ディレクトリ構造

```
nanashi8.github.io/
├── src/
│   ├── App.tsx              # メインアプリケーション（タブ管理）
│   ├── App.css              # グローバルスタイル
│   ├── main.tsx             # エントリーポイント
│   ├── types.ts             # TypeScript型定義
│   ├── utils.ts             # ユーティリティ関数
│   └── components/
│       ├── QuizView.tsx     # 和訳クイズビュー
│       ├── SpellingView.tsx # スペルクイズビュー
│       ├── ReadingView.tsx  # 長文読解ビュー
│       ├── CreateView.tsx   # 問題作成ビュー
│       ├── FileSelector.tsx # ファイル選択コンポーネント
│       ├── ScoreBoard.tsx   # スコア表示
│       └── QuestionCard.tsx # 問題カード
├── public/
│   └── data/                # サンプルCSVデータ
├── docs/
│   ├── specifications/      # 仕様書
│   └── references/          # 参考資料
└── package.json
```

## 🎨 UI構成

### タブ構造

アプリケーションは6つのタブで構成:

1. **和訳タブ** - 英単語から和訳を選ぶ3択クイズ
1. **スペルタブ** - 和訳から虫食いスペルを完成させるクイズ
1. **長文タブ** - 長文読解と単語学習
1. **統計タブ** - 学習進捗の可視化と弱点分析
1. **設定タブ** - アプリケーション設定とデータ管理
1. **問題編集タブ** - 問題の閲覧と編集（管理用）

### レイアウト

```
┌─────────────────────────────────────────────────────┐
│         🎯 英単語3択クイズ (ヘッダー)                │
├─────────────────────────────────────────────────────┤
│ [和訳][スペル][長文][統計][設定][問題編集]          │ ← タブメニュー
├─────────────────────────────────────────────────────┤
│                                                     │
│           タブコンテンツエリア                       │
│                                                     │
└─────────────────────────────────────────────────────┘
```

## 📊 データフロー

### 状態管理

```typescript
App.tsx (親コンポーネント)
  ├── allQuestions (全単語データ: 4,700語)
  ├── categoryList (10カテゴリー)
  ├── quizState (和訳クイズの状態)
  ├── selectedCategory (選択中のカテゴリー)
  ├── selectedDifficulty (難易度フィルター)
  ├── selectedWordPhraseFilter (単語/熟語フィルター)
  ├── adaptiveMode (適応的学習モード)
  ├── aiPersonality (AI人格タイプ)
  └── activeTab (現在のタブ)
      │
      ├─→ QuizView (和訳タブ)
      ├─→ SpellingView (スペルタブ)
      ├─→ ComprehensiveReadingView (長文タブ)
      ├─→ StatsView (統計タブ)
      ├─→ SettingsView (設定タブ)
      └─→ QuestionEditorView (問題編集タブ)
```

### データの流れ

1. **CSV読み込み** → `parseCSV()` → `Question[]` (4,700語)
1. **カテゴリー/難易度フィルター** → `getFilteredQuestions()` → 出題問題
1. **適応的学習AI** → `selectAdaptiveQuestions()` → 弱点優先出題
1. **進捗記録** → `addQuizResult()` → LocalStorage保存
1. **統計分析** → `analyzeRadarChart()` → 弱点カテゴリー特定

## 🔧 主要技術

| 技術 | 用途 |
|------|------|
| React 18 | UIフレームワーク |
| TypeScript | 型安全性 |
| Vite | ビルドツール |
| CSS3 | スタイリング（ダークモード対応） |
| LocalStorage | 進捗データ保存（自動圧縮） |
| Canvas API | レーダーチャート描画 |

## 🤖 AI機能

### 適応的学習システム

1. **間隔反復学習（SM-2アルゴリズム）**
   - 記憶定着率に基づく復習スケジュール
   - 個別単語の習熟度追跡

1. **レーダーチャート分析**
   - カテゴリー別弱点の可視化
   - 自動改善プランの生成

1. **言語学的関連性**
   - 語源・語根による関連語優先出題
   - 効率的な語彙拡大支援

1. **AI人格システム**
   - 5種類の人格タイプ
   - 学習状況に応じたコメント生成

## 📱 レスポンシブ対応

- デスクトップ: フル機能
- タブレット: レイアウト調整
- スマートフォン: タッチ操作最適化

ブレークポイント: `@media (max-width: 600px)`

## 🚀 ビルド・デプロイ

### 開発環境

```bash
npm run dev  # 開発サーバー起動 (http://localhost:5173)
```

### 本番ビルド

```bash
npm run build    # distディレクトリにビルド
npm run preview  # ビルド結果をプレビュー
```

### デプロイ

GitHub Pagesにデプロイ（詳細は`../references/deploy-explained.md`参照）

## 🔄 データ連携

### CSV形式（7列）

```csv
語句,読み,意味,語源等解説,関連語,関連分野,難易度
apple,ア́ップル,りんご,古英語æppel...,fruit(フル́ート): 果物...,食・健康,初級
look after,ルッ́ク ア́フター,〜の世話をする,look(見る)と after...,take care of...,日常生活,初級
```

### データ規模

- **総単語数**: 3,600語
- **総熟語数**: 1,100熟語
- **合計**: 4,700項目
- **カテゴリー数**: 10カテゴリー
- **難易度**: 初級/中級/上級

### 進捗データ管理

- **保存先**: LocalStorage
- **自動圧縮**: 30日以上前のデータを自動削除
- **エクスポート/インポート**: JSON形式

## 📝 変更履歴

| 日付 | 変更内容 |
|------|----------|
| 2025-11-12 | 初版作成 |
| 2025-11-12 | 長文タブに自然なチャンクレイアウトを実装 |
| 2025-11-19 | バージョン2.0.0にアップデート - AI学習システム、進捗管理、統計機能を追加 |
| 2025-11-19 | 仕様書を現在の実装に合わせて大幅改訂 |
