<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­¦ç¿’ã‚¢ãƒ—ãƒªçµ±åˆç‰ˆ - Quiz & Study</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .tab-navigation {
            display: flex;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 0;
            margin: 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .tab-button {
            flex: 1;
            padding: 1rem;
            background: transparent;
            border: none;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }
        .tab-button:hover {
            background: rgba(255,255,255,0.1);
        }
        .tab-button.active {
            background: rgba(255,255,255,0.2);
            border-bottom-color: white;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        
        /* å…±é€šã‚³ãƒ³ãƒ†ãƒŠ */
        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
    </style>
</head>
<body>
    <!-- ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <nav class="tab-navigation">
        <button class="tab-button active" data-tab="quiz">
            â“ ã‚¯ã‚¤ã‚ºã‚¢ãƒ—ãƒª
        </button>
        <button class="tab-button" data-tab="study">
            ğŸ“š è‹±èªå­¦ç¿’ã‚¢ãƒ—ãƒª
        </button>
    </nav>

    <!-- Quiz ã‚¿ãƒ– -->
    <div id="quiz-tab" class="tab-content active">
        <div id="app">
            <!-- ãƒ›ãƒ¼ãƒ ç”»é¢ -->
            <div id="home-screen" class="screen active">
                <header>
                    <h1>SimpleWord ãƒ›ãƒ¼ãƒ </h1>
                    <p class="subtitle">è‹±å˜èªã‚¯ã‚¤ã‚ºã‚¢ãƒ—ãƒªï¼ˆWebç‰ˆãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ï¼‰</p>
                </header>

                <main class="menu-cards">
                    <div class="card" onclick="startQuiz()">
                        <div class="card-icon">â“</div>
                        <div class="card-content">
                            <h2>ã‚¯ã‚¤ã‚ºã‚’ã¯ã˜ã‚ã‚‹</h2>
                            <p>é¸ã‚“ã å•é¡Œã‚»ãƒƒãƒˆã‹ã‚‰å‡ºé¡Œã—ã¾ã™</p>
                        </div>
                        <div class="card-arrow">â€º</div>
                    </div>

                    <div class="card" onclick="showSettings()">
                        <div class="card-icon">âš™ï¸</div>
                        <div class="card-content">
                            <h2>å‡ºé¡Œè¨­å®š</h2>
                            <p>åˆ†é‡ãƒ»é›£æ˜“åº¦ãƒ»å›æ•°ã‚’è¨­å®š</p>
                        </div>
                        <div class="card-arrow">â€º</div>
                    </div>

                    <div class="card disabled">
                        <div class="card-icon">ğŸ“</div>
                        <div class="card-content">
                            <h2>å•é¡Œé›†ç®¡ç†</h2>
                            <p>ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ»ç·¨é›†</p>
                        </div>
                        <div class="card-arrow">â€º</div>
                    </div>

                    <div class="card disabled">
                        <div class="card-icon">ğŸ“Š</div>
                        <div class="card-content">
                            <h2>å­¦ç¿’çµæœ</h2>
                            <p>å˜èªåˆ¥ãƒ»ã‚»ãƒƒãƒˆåˆ¥ã®æˆç¸¾</p>
                        </div>
                        <div class="card-arrow">â€º</div>
                    </div>
                </main>
            </header>
            </div>

            <!-- ã‚¯ã‚¤ã‚ºç”»é¢ -->
            <div id="quiz-screen" class="screen">
                <div id="quiz-container">
                    <div class="quiz-header">
                        <button onclick="goHome()" class="back-button">â† æˆ»ã‚‹</button>
                        <div class="progress">å•é¡Œ <span id="current-question">1</span> / <span id="total-questions">10</span></div>
                    </div>

                    <div id="question-container">
                        <h2 id="question-text">èª­ã¿è¾¼ã¿ä¸­...</h2>
                        <div id="choices-container"></div>
                    </div>

                    <div id="feedback-container" style="display: none;">
                        <div id="feedback-message"></div>
                        <button onclick="nextQuestion()" class="next-button">æ¬¡ã®å•é¡Œã¸ â†’</button>
                    </div>
                </div>
            </div>

            <!-- è¨­å®šç”»é¢ -->
            <div id="settings-screen" class="screen">
                <header>
                    <button onclick="goHome()" class="back-button">â† æˆ»ã‚‹</button>
                    <h1>å‡ºé¡Œè¨­å®š</h1>
                </header>

                <main class="settings-form">
                    <div class="setting-group">
                        <label>åˆ†é‡ï¼ˆå°†æ¥å®Ÿè£…ï¼‰</label>
                        <p class="setting-note">ç¾åœ¨ã¯ã‚µãƒ³ãƒ—ãƒ«å•é¡Œã®ã¿</p>
                    </div>

                    <div class="setting-group">
                        <label>é›£æ˜“åº¦ï¼ˆå°†æ¥å®Ÿè£…ï¼‰</label>
                        <p class="setting-note">ç¾åœ¨ã¯ãƒ©ãƒ³ãƒ€ãƒ </p>
                    </div>

                    <div class="setting-group">
                        <label>å‡ºé¡Œæ•°ï¼ˆå°†æ¥å®Ÿè£…ï¼‰</label>
                        <p class="setting-note">ç¾åœ¨ã¯10å•å›ºå®š</p>
                    </div>

                    <button onclick="goHome()" class="btn-primary">è¨­å®šã‚’ä¿å­˜ã—ã¦æˆ»ã‚‹</button>
                </main>
            </div>

            <!-- çµæœç”»é¢ -->
            <div id="result-screen" class="screen">
                <header>
                    <h1>çµæœç™ºè¡¨</h1>
                </header>

                <main class="result-container">
                    <div class="score-display">
                        <div class="score-circle">
                            <span id="score-text">0</span>
                            <span class="score-label">/ 10 å•æ­£è§£</span>
                        </div>
                    </div>

                    <div id="result-message" class="result-message"></div>

                    <div class="button-group">
                        <button onclick="restartQuiz()" class="btn-primary">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
                        <button onclick="goHome()" class="btn-secondary">ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹</button>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <!-- Study ã‚¿ãƒ– -->
    <div id="study-tab" class="tab-content">
        <div class="app-container">
            <header>
                <h1>ğŸ“š å­¦ç¿’å‹è‹±èªãƒ•ãƒ¬ãƒ¼ã‚ºã‚¢ãƒ—ãƒª</h1>
                <p>è‹±èªé•·æ–‡ã‚’ãƒ•ãƒ¬ãƒ¼ã‚ºã«åˆ†å‰²ã—ã€ç™ºéŸ³ãƒ»ç¿»è¨³ãƒ»ä¿®æ­£ã‚’å­¦ç¿’ã—ã¾ã™</p>
            </header>

            <section class="input-section">
                <h2>ğŸ“ è‹±èªãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›</h2>
                <textarea id="inputText" rows="6" placeholder="è‹±èªã®é•·æ–‡ã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„..."></textarea>
                <div class="button-group">
                    <button id="splitBtn" class="btn-primary">æ–‡ç¯€ã«åˆ†å‰²</button>
                    <button id="clearBtn" class="btn-secondary">ã‚¯ãƒªã‚¢</button>
                </div>
            </section>

            <section class="settings-section">
                <h2>âš™ï¸ è¨­å®š</h2>
                <div class="settings-grid">
                    <div class="setting-item">
                        <label for="speedSlider">å†ç”Ÿé€Ÿåº¦: <span id="speedValue">1.0</span>x</label>
                        <input type="range" id="speedSlider" min="0.5" max="2.0" step="0.1" value="1.0">
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="autoPlayNext">
                            é€£ç¶šå†ç”Ÿãƒ¢ãƒ¼ãƒ‰
                        </label>
                    </div>
                </div>
            </section>

            <section class="phrases-section">
                <div class="section-header">
                    <h2>ğŸ¯ ãƒ•ãƒ¬ãƒ¼ã‚ºä¸€è¦§</h2>
                    <button id="playAllBtn" class="btn-secondary" style="display: none;">å…¨ã¦é€£ç¶šå†ç”Ÿ</button>
                </div>
                <div id="phrasesList" class="phrases-container"></div>
            </section>

            <section class="history-section">
                <h2>ğŸ“Š å­¦ç¿’å±¥æ­´</h2>
                <div class="button-group">
                    <button id="showHistoryBtn" class="btn-secondary">å±¥æ­´ã‚’è¡¨ç¤º</button>
                    <button id="exportHistoryBtn" class="btn-secondary">ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                    <button id="importHistoryBtn" class="btn-secondary">ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</button>
                    <button id="clearHistoryBtn" class="btn-danger">å±¥æ­´ã‚’å…¨æ¶ˆå»</button>
                </div>
                <input type="file" id="importFile" accept=".json" style="display: none;">
                <div id="historyList" class="history-container"></div>
            </section>

            <section class="corrections-section">
                <h2>âœï¸ ä¿®æ­£è¨³ã®ç®¡ç†</h2>
                <div class="button-group">
                    <button id="showCorrectionsBtn" class="btn-secondary">ä¿®æ­£è¨³ã‚’è¡¨ç¤º</button>
                    <button id="exportCorrectionsBtn" class="btn-secondary">ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                    <button id="clearCorrectionsBtn" class="btn-danger">ä¿®æ­£è¨³ã‚’å…¨æ¶ˆå»</button>
                </div>
                <div id="correctionsList" class="corrections-container"></div>
            </section>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/localforage@1.10.0/dist/localforage.min.js"></script>
    <script src="app.js"></script>
    <script src="study-utils.js"></script>
    <script src="study-app.js"></script>
    
    <script>
        // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                const tabName = button.dataset.tab;
                
                // ã™ã¹ã¦ã®ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰ active ã‚’å‰Šé™¤
                document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚¿ãƒ–ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
                button.classList.add('active');
                document.getElementById(`${tabName}-tab`).classList.add('active');
            });
        });
    </script>
</body>
</html>
