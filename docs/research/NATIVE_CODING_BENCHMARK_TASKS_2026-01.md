# 母国語コーディング・ベンチ課題集（2026-01）

**作成日**: 2026年1月14日  
**ステータス**: ドラフト（課題追加しながら運用）  
**対象**: 日本語を核とした母国語コーディング（日本語の優位性を測る）

関連:
- 評価ベンチ設計: [NATIVE_CODING_EVALUATION_BENCHMARK.md](NATIVE_CODING_EVALUATION_BENCHMARK.md)
- 煮詰め手順（Gate運用）: [NATIVE_CODING_REFINEMENT_WORKFLOW.md](NATIVE_CODING_REFINEMENT_WORKFLOW.md)
- 監査ログ/責任分界: [NATIVE_CODING_AUDIT_GOVERNANCE_SPEC.md](NATIVE_CODING_AUDIT_GOVERNANCE_SPEC.md)

---

## 0. この課題集の狙い（日本語優位性の測定）

日本語の優位性は「翻訳しても同じ」ではなく、以下が混ざった実務文として自然に書ける点にある。

- **高文脈**（暗黙前提・省略）
- **粒度可変**（抽象→具体の指示切り替え）
- **専門語×日常語の混在**（Position、DTA、メタAI、CI…と「いい感じに」）
- **依頼表現**（できれば/なるべく/〜してほしい＝要求強度の階層）

この課題集は、上記の強み/事故りポイントが出るように「日本語要求」を意図的に作っている。

---

## 1. 実施ルール（最小）

- 各タスクは **日本語要求（raw）→確認質問→確定仕様→差分→テスト→観測** の順で実施
- UI変更が絡む場合は **UI変更禁止仕様書** を必ず参照: [docs/development/UI_IMMUTABLE_SPECIFICATIONS.md](../development/UI_IMMUTABLE_SPECIFICATIONS.md)
- 1試行ごとに監査ログ（最低限の項目）を残す（形式は任意）

推奨コマンド（目安）:
- 単体テスト: `npm test`
- 型/品質ゲート: `npm run quality:check`
- スモーク: `npm run test:smoke`

---

## 2. 課題テンプレ（記録用）

- タスクID:
- タスク種別: T1/T2/T3/T4/T5
- 日本語要求（raw）:
- 英語版（B2用・任意）:
- 想定する曖昧さポイント:
- 期待する確認質問（例）:
- 確定仕様（テンプレに落とす）:
- 受け入れ条件（テスト観点）:
- 触る可能性が高い場所（候補）:
- 禁止事項/制約:

---

## 3. 課題セット（16件）

### NC-01: 「自然に」メッセージを調整したい（粒度可変・程度表現）

- タスク種別: T2 → T3 → T4
- 日本語要求（raw）: 
  - 「学習中に出るメッセージ、もう少し自然にして。押しつけがましくない感じで」
- 英語版（B2用）:
  - "Make the in-session messages sound more natural and less pushy." 
- 想定する曖昧さポイント:
  - 「自然に」「押しつけがましくない」の定義
  - どのメッセージ群が対象か
- 期待する確認質問（例）:
  - 対象はどの画面/どのタイミング？（開始/正解/不正解/セッション終了…）
  - 敬体/常体、絵文字の可否、長さ上限は？
- 受け入れ条件（テスト観点）:
  - 対象の文言が置換される
  - UIのレイアウト崩れが発生しない（視覚回帰 or スモーク）
- 触る可能性が高い場所（候補）:
  - [src/ai/engagement/gamificationAI.ts](../../src/ai/engagement/gamificationAI.ts)
  - [src/timeBasedGreeting.ts](../../src/timeBasedGreeting.ts)

---

### NC-02: 「できれば」要求強度を扱う（依頼表現→MUST/SHOULD）

- タスク種別: T1
- 日本語要求（raw）:
  - 「できれば、学習中はミスを責めない言い方にして。必ずじゃないけど、なるべく。」
- 想定する曖昧さポイント:
  - MUST/SHOULD/MAYの推定
- 受け入れ条件（テスト観点）:
  - 仕様テンプレ上で、要求強度が明記される（例: SHOULD）
  - 非目標（例: 既存のスコア計算は変えない）が明記される

---

### NC-03: 主語省略で誤実装しがちな仕様（高文脈）

- タスク種別: T2
- 日本語要求（raw）:
  - 「それ、前みたいに戻して」
- 想定する曖昧さポイント:
  - 参照（それ/前）が不明
- 受け入れ条件（テスト観点）:
  - 変更生成前に、未確定点として止められる（確認質問が必須）

---

### NC-04: ScoreBoardの“触ってよい範囲”を守る（制約駆動）

- タスク種別: T1 → T3
- 日本語要求（raw）:
  - 「スコアボードの表示、もうちょっと見やすく。情報は減らさずに」
- 想定する曖昧さポイント:
  - 「見やすく」の指標（余白/行間/強調/順序）
- 制約:
  - ScoreBoardのタブ順・表示内容は変更禁止（UI変更禁止仕様書）
- 受け入れ条件（テスト観点）:
  - 禁止事項に抵触しない
  - 視覚回帰/スモークが通る
- 触る可能性が高い場所（候補）:
  - [src/components/ScoreBoard.tsx](../../src/components/ScoreBoard.tsx)
  - [docs/development/UI_IMMUTABLE_SPECIFICATIONS.md](../development/UI_IMMUTABLE_SPECIFICATIONS.md)

---

### NC-05: 「ちょっと早めに」警告を出したい（程度表現→数値化）

- タスク種別: T2 → T3 → T4
- 日本語要求（raw）:
  - 「LocalStorageの容量、ちょっと早めに警告して。4MBは遅い気がする」
- 想定する曖昧さポイント:
  - 「ちょっと早め」の閾値
- 受け入れ条件（テスト観点）:
  - 具体閾値が仕様として確定（例: 3MB）
  - 既存挙動（4MBの圧縮など）を壊さない
- 触る可能性が高い場所（候補）:
  - [src/App.tsx](../../src/App.tsx)

---

### NC-06: 専門語×日常語混在の要求（メタAI・Position）

- タスク種別: T1
- 日本語要求（raw）:
  - 「Positionの計算、いまの感じは好き。だけど疲れてるときはもう少し優しめにしたい。メタAIのシグナルをうまく使って」
- 想定する曖昧さポイント:
  - 「優しめ」の意味（出題数/難易度/復習比率/遅延…）
- 受け入れ条件（テスト観点）:
  - “何をどう変えるか”が仕様テンプレで明確化される
  - 変更が必要なら、差分最小で実装方針が示される
- 触る可能性が高い場所（候補）:
  - [src/ai/scheduler/QuestionScheduler.ts](../../src/ai/scheduler/QuestionScheduler.ts)

---

### NC-07: 「いい感じに」性能改善して（曖昧さ→計測）

- タスク種別: T2
- 日本語要求（raw）:
  - 「スケジューラ、いい感じに軽くして。たぶんlocalStorage読みが多い」
- 想定する曖昧さポイント:
  - 「軽くして」の指標（ms、読み回数、頻度）
- 受け入れ条件（テスト観点）:
  - まず計測計画（どこをどう測るか）が提案される
  - 変更を入れるなら、回帰テスト/ベンチの方針が示される

---

### NC-08: 日本語の“非目標”をちゃんと拾う（事故防止）

- タスク種別: T1
- 日本語要求（raw）:
  - 「UIは変えないで。出題の順番だけ、もう少し納得感出して」
- 受け入れ条件（テスト観点）:
  - 非目標（UI変更禁止）が仕様に明記される
  - “納得感”をどう測るか（代理指標でも）を提案できる

---

### NC-09: ドキュメント整合性（日本語での運用・説明責任）

- タスク種別: T3 → T5
- 日本語要求（raw）:
  - 「新しく追加したresearch文書、リンク切れしないようにして」
- 受け入れ条件（テスト観点）:
  - docsリンク検証が通る/追加される
- 触る可能性が高い場所（候補）:
  - [tests/docsIntegrity.spec.ts](../../tests/docsIntegrity.spec.ts)
  - [package.json](../../package.json)

---

### NC-10: 日本語仕様から受け入れ条件を生成（T1の核）

- タスク種別: T1
- 日本語要求（raw）:
  - 「スモークテスト、落ちるときに原因が分かりやすくして」
- 想定する曖昧さポイント:
  - 「分かりやすい」の具体（ログ/スクショ/エラーメッセージ）
- 受け入れ条件（テスト観点）:
  - “何をもって分かりやすい”を、テスト観点に落とせる

---

### NC-11: 「なるべく壊さない」変更（差分最小の訓練）

- タスク種別: T3
- 日本語要求（raw）:
  - 「設定画面に1項目だけ足したい。なるべく既存UIは壊さないで」
- 受け入れ条件（テスト観点）:
  - 差分が局所的
  - 既存スモークが通る
- 触る可能性が高い場所（候補）:
  - [src/components/SettingsView.tsx](../../src/components/SettingsView.tsx)

---

### NC-12: データ品質（日本語での説明＋機械検証）

- タスク種別: T1 → T3
- 日本語要求（raw）:
  - 「データ品質チェック、失敗したとき何が悪いかもう少し説明して」
- 受け入れ条件（テスト観点）:
  - 出力が“どのファイル/どの行/どのルール”まで落ちる
  - 既存の検証コマンド体系を壊さない

---

### NC-13: 「〜っぽい」UI文言（曖昧さlintの材料）

- タスク種別: T2
- 日本語要求（raw）:
  - 「この表示、初心者っぽくない。もうちょい優しい言い方で」
- 受け入れ条件（テスト観点）:
  - “初心者っぽくない”を曖昧さとして検出し、確認質問に誘導できる

---

### NC-14: 混在語彙（カタカナ/略語/制度語彙）

- タスク種別: T1
- 日本語要求（raw）:
  - 「CIのquality gateは維持したい。だけどローカルの開発体験は軽くして」
- 受け入れ条件（テスト観点）:
  - “維持”と“軽く”の衝突を検出し、優先度を確認できる

---

### NC-15: 例外条件の抜け（日本語あるある）

- タスク種別: T2
- 日本語要求（raw）:
  - 「たまに動かないときがあるから直して」
- 受け入れ条件（テスト観点）:
  - 再現条件・環境・頻度・ログの有無など、例外条件を質問できる

---

### NC-16: “日本語での監査”を運用に落とす

- タスク種別: T5
- 日本語要求（raw）:
  - 「あとから見返して分かるように、意図と仮定を残して」
- 受け入れ条件（テスト観点）:
  - 監査ログの最小項目（意図/仮定/差分/テスト/結果）が揃う
  - 個人情報や秘密情報をログに含めないルールが明示される

---

## 4. 次の拡張（任意）

- 課題を30件に増やし、T1〜T5を均等に混ぜる
- 各課題に「日本語→英語」のB2入力を付与し、差分を観測する
- “確認質問なし（B3）”を強制し、事故率（Safety Pass）を測る

