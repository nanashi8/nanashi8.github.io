# UDD（未知駆動開発）の有意性：Validate-first と品質システムとしての位置づけ

**作成日**: 2026年1月14日  
**ステータス**: 構想（根拠整理・適用ガイド）  
**キーワード**: 未知駆動開発（UDD）, Validate-first, リーク遮断, 原因分解, 監査可能性, 品質ゲート

---

## 0. この文書の狙い

UDD（未知駆動開発）の価値を「性能が上がる」ではなく、
**未知を“検証可能な手続き”に落として探索を前進させる品質システム**として説明する。

このリポジトリには、すでに以下が強く存在する：
- 失敗を早期に検出する **品質ゲート**
- “静かに壊れる”を防ぐ **境界と禁止事項の明文化**
- 原因を潰して一回で直す **対症療法禁止**

それらを、UDDのコア（Validate-first / 未知分類 / 原因分解 / 監査）として統合する。

---

## 1. UDDを「開発手法」ではなく「品質システム」として定義する

UDDの最小定義：
- **未知を分類する**（何が分かっていないかを、再現可能に管理する）
- **Validate-first**（リーク遮断・分割設計・手続き固定を最初にやる）
- **結果より原因分解**（成功/失敗を“次の観測・設計変更”に変換する）

ここでの“成果”は、正解の断言ではなく次の2つ：
- **評価が破綻せずに回る**（手続きの固定）
- **壊れ方が分類される**（原因分解ができ、次の打ち手が具体化する）

この定義は、[CLINICAL_TRIAL_OS_CONCEPT.md](CLINICAL_TRIAL_OS_CONCEPT.md) と
[UDD_METABOLIC_MONITORING_VALIDATION_SUMMARY_JP.md](UDD_METABOLIC_MONITORING_VALIDATION_SUMMARY_JP.md) に明示されている。

---

## 2. なぜUDDが有意なのか（このリポジトリの“既存思想”と整合する点）

### 2-1. 「性能」より「誤検知（偽陽性）と破綻」を先に潰す（Validate-first）

UDDは、結果の数値より先に、結果の信頼性を壊す要因（リーク、分割崩壊、前処理の混入、手続きのブレ）を遮断する。

このリポジトリの品質思想も同じで、
- 早期発見
- 段階的実行（高速チェック→完全テスト）
- 明確なフィードバック
を“システム”として運用している。

根拠：
- [QUALITY_SYSTEM.md](../quality/QUALITY_SYSTEM.md)

### 2-2. 「症状対応」ではなく「原因分解→根本対応」を強制する

UDDは「壊れ方」を分類し、原因に対して一回で直す。
これは、プロジェクトで明文化されている“対症療法禁止”と一致する。

根拠：
- [NO_SYMPTOMATIC_FIXES_POLICY.md](../guidelines/NO_SYMPTOMATIC_FIXES_POLICY.md)

### 2-3. “触ってはいけない境界”を固定し、探索の事故を減らす

UDDの探索は、自由度が高いほど事故りやすい。
だからこそ「境界」「禁止」を明文化し、探索を安全にする必要がある。

このリポジトリでは、
- UI変更禁止仕様（色/構造/順序などの不変条件）
- プロジェクト境界（親ディレクトリ誤配置を自動検出）
を強く固定している。

根拠：
- [UI_IMMUTABLE_SPECIFICATIONS.md](../development/UI_IMMUTABLE_SPECIFICATIONS.md)
- [PROJECT_BOUNDARY_VIOLATION_REPORT.md](../reports/PROJECT_BOUNDARY_VIOLATION_REPORT.md)

### 2-4. “品質の定義”をデータにも拡張する（統合品質パイプライン）

UDDは「未知」を扱うため、データ品質や重複、変換の整合性がすぐにボトルネックになる。
このリポジトリは、コンテンツ/データを対象にした統合検証（重複検出など）を持ち、
“検証可能性”をプロダクト資産へ押し込んでいる。

根拠：
- [INTEGRATED_QUALITY_PIPELINE.md](../quality/INTEGRATED_QUALITY_PIPELINE.md)

---

## 3. UDDの中核：未知の分類（最低限のタクソノミー）

UDDの最小の未知分類（提案）：

1. **分布未知**：訓練時と運用時で分布が変わる（ユーザー層、問題難易度、季節性など）
2. **観測未知**：観測・前処理・計測がズレる（データ欠損、ログ仕様変更、集計定義のブレ）
3. **ラベル未知**：正解/教師が揺れる（仕様曖昧、正解定義が状況依存）
4. **評価未知**：評価手続きが壊れている（リーク、分割不適切、比較不能、メトリクスのミスマッチ）

重要：UDDは“未知をゼロにする”のではなく、
**未知を「検証可能な問い」と「ログ」に変換して前進する**。

---

## 4. Validate-first を作業手順に落とす（テンプレ）

UDDを運用する最小テンプレ（提案）：

1. **境界を固定**：触らない領域（UI不変条件、ディレクトリ境界、禁止事項）を先に確認
2. **比較軸を固定**：ベースライン（既存挙動/既存手法/単純ルール）を決める
3. **評価手続きを固定**：分割・前処理・集計の「fit範囲」を宣言し、リーク遮断
4. **停止条件を固定**：No-Go条件（評価が破綻/原因分解不能/誤検知（偽陽性）支配）を先に書く
5. **原因分解ログを残す**：未知分類（分布/観測/ラベル/評価）で失敗を記録

“パイプラインとしての作業手順”の根拠：
- [AI_WORKFLOW_INSTRUCTIONS.md](../references/AI_WORKFLOW_INSTRUCTIONS.md)

---

## 5. まとめ（UDDの“有意性”の言い方）

UDDの有意性は「当たる」ではなく、次を同時に満たす点にある：
- **評価が破綻しない**（Validate-first）
- **失敗が次の手に変換される**（原因分解と未知分類）
- **探索が安全に高速化する**（境界・禁止・品質ゲート・監査）

このリポジトリの既存の品質システムは、UDDの要求（検証可能性、早期発見、原因特定）と整合している。
したがってUDDは「外から持ち込む新手法」ではなく、
**既存の運用思想を“未知の扱い”へ拡張するための名称（ラベル）**としても使える。

---

## 6. 関連（ミクロマクロ理論×UDD）

ミクロ↔マクロ接続（マルチスケール / equation-free / closure）を、UDD（Validate-first / 未知分類 / 監査）で運用に落とす整理は、次の文書に分離しています。

- [MICRO_MACRO_UDD_ARCHITECTURE.md](MICRO_MACRO_UDD_ARCHITECTURE.md)
- [MICRO_MACRO_UDD_QC_COMPATIBILITY.md](MICRO_MACRO_UDD_QC_COMPATIBILITY.md)

