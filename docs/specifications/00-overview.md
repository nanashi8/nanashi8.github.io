# システム全体概要

## 📌 プロジェクト概要

**プロジェクト名**: 英単語3択クイズ  
**バージョン**: 1.0.0  
**最終更新**: 2025年11月12日

## 🎯 目的

英語学習者が効率的に単語を学習できるインタラクティブなクイズアプリケーション。
和訳クイズ、スペルクイズ、長文読解の3つの学習モードを提供。

## 🏗️ アーキテクチャ

### ディレクトリ構造

```
nanashi8.github.io/
├── src/
│   ├── App.tsx              # メインアプリケーション（タブ管理）
│   ├── App.css              # グローバルスタイル
│   ├── main.tsx             # エントリーポイント
│   ├── types.ts             # TypeScript型定義
│   ├── utils.ts             # ユーティリティ関数
│   └── components/
│       ├── QuizView.tsx     # 和訳クイズビュー
│       ├── SpellingView.tsx # スペルクイズビュー
│       ├── ReadingView.tsx  # 長文読解ビュー
│       ├── CreateView.tsx   # 問題作成ビュー
│       ├── FileSelector.tsx # ファイル選択コンポーネント
│       ├── ScoreBoard.tsx   # スコア表示
│       └── QuestionCard.tsx # 問題カード
├── public/
│   └── data/                # サンプルCSVデータ
├── docs/
│   ├── specifications/      # 仕様書
│   └── references/          # 参考資料
└── package.json
```

## 🎨 UI構成

### タブ構造

アプリケーションは4つのタブで構成:

1. **和訳タブ** - 英単語から和訳を選ぶ3択クイズ
2. **スペルタブ** - 和訳から虫食いスペルを完成させるクイズ
3. **長文タブ** - 長文読解と単語学習
4. **問題作成タブ** - 新しい問題の作成

### レイアウト

```
┌─────────────────────────────────┐
│  🎯 英単語3択クイズ (ヘッダー)   │
├─────────────────────────────────┤
│ [和訳][スペル][長文][問題作成]   │ ← タブメニュー
├─────────────────────────────────┤
│                                 │
│     タブコンテンツエリア         │
│                                 │
└─────────────────────────────────┘
```

## 📊 データフロー

### 状態管理

```typescript
App.tsx (親コンポーネント)
  ├── quizState (和訳クイズの状態)
  ├── unknownWords (長文から追加された単語)
  └── activeTab (現在のタブ)
      │
      ├─→ QuizView (和訳タブ)
      ├─→ SpellingView (スペルタブ)
      ├─→ ReadingView (長文タブ)
      └─→ CreateView (問題作成タブ)
```

### データの流れ

1. **CSV読み込み** → `parseCSV()` → `Question[]`
2. **長文の分からない単語** → `handleAddUnknownWords()` → `unknownWords[]`
3. **unknownWords + CSV問題** → 和訳・スペルクイズで利用

## 🔧 主要技術

| 技術 | 用途 |
|------|------|
| React 18 | UIフレームワーク |
| TypeScript | 型安全性 |
| Vite | ビルドツール |
| CSS3 | スタイリング |
| CSV | データ形式 |

## 📱 レスポンシブ対応

- デスクトップ: フル機能
- タブレット: レイアウト調整
- スマートフォン: タッチ操作最適化

ブレークポイント: `@media (max-width: 600px)`

## 🚀 ビルド・デプロイ

### 開発環境

```bash
npm run dev  # 開発サーバー起動 (http://localhost:5173)
```

### 本番ビルド

```bash
npm run build    # distディレクトリにビルド
npm run preview  # ビルド結果をプレビュー
```

### デプロイ

GitHub Pagesにデプロイ（詳細は`../references/deploy-explained.md`参照）

## 🔄 データ連携

### CSV形式（7列）

```csv
語句,読み,意味,語源等解説,関連語,関連分野,難易度
apple,アップル,りんご,古英語æppel,fruit,食べ物,初級
```

### 長文補習問題

長文タブで選択した分からない単語は、自動的に和訳・スペルクイズに追加される。

## 📝 変更履歴

| 日付 | 変更内容 |
|------|----------|
| 2025-11-12 | 初版作成 |
| 2025-11-12 | 長文タブに自然なチャンクレイアウトを実装 |
