# 高校受験レベル英単語集作成仕様書

## 📌 概要

高校受験レベルの英単語集を作成するための詳細仕様。和訳クイズとスペルクイズの両方で使用可能な、CSV形式のデータを生成します。

**対象レベル:** 高校受験（初級・中級・上級）  
**目標単語数:** 約2,000〜2,500語  
**フォーマット:** CSV（UTF-8 エンコーディング）  
**出力ファイル:** `public/data/high-school-words.csv`

---

## 📊 データ構造

### CSV形式

7列のカンマ区切り形式。ヘッダー行を含む。

```csv
語句,読み,意味,語源等解説,関連語,関連分野,難易度
```

### フィールド詳細

#### 1. 語句（word）
- **型:** string
- **説明:** 英単語またはフレーズ
- **例:** `apple`, `take care of`
- **ルール:**
  - 小文字で記述（固有名詞除く）
  - 複合語・句動詞も含む
  - スペルは米国英語を基準とする

#### 2. 読み（reading）
- **型:** string
- **説明:** **アクセント記号を正確に表したカタカナ読み**
- **例:** `ア́ップル`, `テ́イクケ́アオブ`
- **重要ルール:**
  - **国際基準のアクセント記号（́）を第一音節に必ず付与**
  - 自動生成ではなく、正確なアクセント位置を手動確認すること
  - 複数音節の場合、主強勢位置に記号を付ける
  - カタカナ表記は日本語の中学生が読めるレベルで自然に
- **悪い例:** `アップル`（記号なし）、`アッ́プル`（促音に記号）
- **良い例:** `ア́ップル`、`インポ́ータント`

#### 3. 意味（meaning）
- **型:** string
- **説明:** 日本語の意味
- **例:** `りんご`, `〜の世話をする`
- **ルール:**
  - 中学生が理解できる平易な日本語
  - 複数の意味がある場合は「・」で区切る（カンマは使わない）
  - 動詞は「〜する」、形容詞は「〜な」など品詞に応じた形
- **例（複数意味）:** `取る・撮る・かかる`

#### 4. 語源等解説（explanation）
- **型:** string
- **説明:** 中学生が語彙を増やすために役立つ語源・語幹情報
- **ルール:**
  - ラテン語・ギリシャ語・古英語などの語源を簡潔に記述
  - 同じ語源・語幹を持つ派生語を含める
  - 派生語は「語句(読み): 意味」の形式で記載
  - 中学生レベルに理解できる説明を心がける
- **例:**
  ```
  ラテン語の "habilis"(扱いやすい)が語源。同じ語源を持つ単語に "ability(アビ́リティ): 能力" がある。
  ```
  ```
  ラテン語の "accipere"(受け取る)が語源。"ad-"(〜へ)と "capere"(つかむ)から。同じ語源を持つ単語に "capture(キャ́プチャー): 捕らえる" がある。
  ```

#### 5. 関連語（relatedWords）
- **型:** string（ダブルクオートで囲む）
- **説明:** 関連する語句・類義語・反意語のリスト
- **形式:** `"語句1(読み1): 意味1, 語句2(読み2): 意味2, ..."`
- **ルール:**
  - 必ずダブルクオートで全体を囲む（CSV内にカンマを含むため）
  - 各関連語は「語句(読み): 意味」のトリプル形式
  - 複数の関連語はカンマ+スペースで区切る
  - 読みにもアクセント記号を付ける
  - 2〜4語程度を推奨
- **例:**
  ```
  "can(キャ́ン): 〜できる, possible(ポ́ッシブル): 可能な"
  ```
  ```
  "receive(レシ́ーヴ): 受け取る, refuse(リフュ́ーズ): 拒否する"
  ```

#### 6. 関連分野（category）
- **型:** string
- **説明:** 単語が属する分野・カテゴリ
- **ルール:**
  - 以下のカテゴリリストから**必ず1つ**選択
  - リストにない場合は最も近いものを選ぶか、新規追加の提案を行う

**カテゴリ一覧:**
```
学習, 伝達, 思考, 概念, 生活, 文化, 社会, 科学, 環境, 教育
交通, 金融, 経済, 法律, 政治, 歴史, 地理, 健康, 人体, 人間関係
生物, 自然, 食べ物, スポーツ, レジャー, 位置, 動作, 状態, 変化, 温度
時間, 色, 価格, 手続き, 文法, 形容, 量, 頻度, 前置詞, 接続詞, 限定詞, 名詞, 副詞, 評価, 感情, 性質, 程度, 方向, 地理
```

#### 7. 難易度（difficulty）
- **型:** string
- **説明:** 高校受験における難易度レベル
- **値:** `初級`, `中級`, `上級` のいずれか（厳密一致）
- **目安:**
  - **初級:** 中学1〜2年レベル、基本動詞・名詞・形容詞（約1,000語）
  - **中級:** 中学3年〜高校受験標準レベル（約800語）
  - **上級:** 高校受験難関校レベル、応用単語（約700語）

---

## 📝 作成ガイドライン

### 単語選定基準

1. **高校受験頻出度**
   - 過去問での出現頻度が高い
   - 複数の参考書・単語帳に掲載されている
   - 英検3級〜準2級レベルを中心に

2. **語彙の広がり**
   - 基本単語から体系的に派生語を学べる
   - 語源グループとしてまとまっている
   - 多義語は代表的な意味から

3. **実用性**
   - 日常会話・読解で頻繁に使われる
   - 学術文・説明文で重要な役割を持つ

### 品詞バランス

目安となる品詞構成比（2,500語中）:
- **動詞:** 約30%（750語）
- **名詞:** 約30%（750語）
- **形容詞:** 約20%（500語）
- **副詞:** 約10%（250語）
- **その他（前置詞・接続詞・代名詞等）:** 約10%（250語）

### 難易度配分

- **初級（1,000語）:** 40%
- **中級（800語）:** 32%
- **上級（700語）:** 28%

### 作成プロセス

#### ステップ1: 単語リスト作成
1. 高校受験用単語帳・過去問から頻出語を抽出
2. 語源グループごとに整理
3. 難易度を仮割り当て

#### ステップ2: データ生成（100語単位）
1. 語句・意味を確定
2. **読みを辞書等で確認し、正確なアクセント記号を付与**（最重要）
3. 語源・派生語を調査・記述
4. 関連語を2〜4語選定（読み・意味を付記）
5. 適切なカテゴリを選択
6. 難易度を最終確認

#### ステップ3: CSV追記
1. 末尾追記方式でCSVに追加（コンテキストエラー回避）
2. カンマ数、ダブルクオートの整合性をチェック
3. UTF-8エンコーディングを確認

#### ステップ4: 検証
1. CSV構文エラーがないか確認
2. 読みのアクセント記号の抜け漏れをサンプリングチェック
3. カテゴリが一覧にあるか確認
4. 難易度が「初級・中級・上級」のいずれかか確認

---

## 🔧 実装詳細

### バッチ処理方式

**推奨:** 100語単位でのサブバッチ処理

- **理由:** 大規模パッチでのコンテキストエラーを回避
- **進捗報告:** 100語完了ごとに報告
- **大バッチ:** 500語を5×100語に分割

**処理フロー:**
```
100語生成 → CSV追記 → 検証 → 進捗報告 → 次の100語...
```

### CSV追記時の注意点

1. **ダブルクオート:**
   - `relatedWords`フィールドは必ずダブルクオートで囲む
   - フィールド内のダブルクオートは`""`でエスケープ

2. **カンマ:**
   - `meaning`フィールドでは複数意味の区切りに「・」を使用
   - カンマは列区切り専用

3. **改行コード:**
   - LF（`\n`）を使用
   - フィールド内改行は避ける

4. **エンコーディング:**
   - UTF-8（BOM なし）

### サンプルCSV行

```csv
able,エ́イブル,〜できる,ラテン語の "habilis"(扱いやすい)が語源。同じ語源を持つ単語に "ability(アビ́リティ): 能力" がある。,"can(キャ́ン): 〜できる, possible(ポ́ッシブル): 可能な",状態,初級
accept,アクセ́プト,受け入れる,ラテン語の "accipere"(受け取る)が語源。"ad-"(〜へ)と "capere"(つかむ)から。同じ語源を持つ単語に "capture(キャ́プチャー): 捕らえる" がある。,"receive(レシ́ーヴ): 受け取る, refuse(リフュ́ーズ): 拒否する",動作,初級
```

---

## ✅ 品質チェックリスト

各バッチ完了時に以下を確認:

- [ ] 全ての単語に**アクセント記号付き**読みが付いているか
- [ ] 語源等解説に派生語（語句+読み+意味）が含まれているか
- [ ] 関連語が`"語句(読み): 意味"`形式で記述されているか
- [ ] カテゴリが指定リストに存在するか
- [ ] 難易度が「初級・中級・上級」のいずれかか
- [ ] CSV構文エラー（カンマ数、クオート不整合）がないか
- [ ] UTF-8エンコーディングか
- [ ] 重複単語がないか

---

## 📚 参考資料

### 語源参考サイト
- [Etymology Online](https://www.etymonline.com/)
- [Wiktionary](https://en.wiktionary.org/)

### アクセント確認辞書
- [Weblio英和辞典](https://ejje.weblio.jp/)
- [Cambridge Dictionary](https://dictionary.cambridge.org/)
- [Oxford Learner's Dictionaries](https://www.oxfordlearnersdictionaries.com/)

### 高校受験単語帳（参考）
- ターゲット中学英単語1800
- システム英単語 中学版
- 速読英単語 中学版

---

## 🔄 更新履歴

- **2025-01-13:** 初版作成
  - 基本仕様の確定
  - CSV形式・フィールド定義
  - 作成ガイドライン策定
  - バッチ処理方式の確立
