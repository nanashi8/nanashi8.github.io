# 長文読解機能 動作確認チェックリスト

## 実行日時
2026年1月2日

## 確認環境
- ブラウザ: 最新版Chrome/Safari推奨
- URL: http://localhost:5173/
- テスト対象: J_2022_5パッセージ

---

## ✅ Phase 10 動作確認項目

### 1. 基本表示（優先度: 高）

- [ ] **アプリ起動確認**
  - [ ] トップページが正常に表示される
  - [ ] コンソールエラーなし

- [ ] **長文タブへの遷移**
  - [ ] 「英語」教科タブをクリック
  - [ ] 「📖 長文」サブタブが表示される
  - [ ] 「📖 長文」タブをクリック

- [ ] **ReadingPassageView表示**
  - [ ] ローディングスピナーが表示される（一瞬）
  - [ ] 「📖 パッセージ: J_2022_5」が表示される
  - [ ] 語数・文数が表示される（457語 / 29文）
  - [ ] 全文が表示される

### 2. ExplanationBoard（優先度: 高）

- [ ] **初期状態**
  - [ ] 「👆 下の全文から一文を選択してください」が表示される
  - [ ] 4つのタブが表示される（節句分割 | フレーズ訳 | 日本語訳 | 語句確認）

- [ ] **文選択**
  - [ ] 全文中の任意の文にカーソルを合わせる
  - [ ] ホバー時に青背景になる
  - [ ] クリックすると黄背景になる
  - [ ] ExplanationBoardの内容が更新される

### 3. 節句分割タブ（優先度: 高）

テスト文: "More students of my school will start to become interested in the problem if they read about it in the school newspaper."

- [ ] **節句分割表示**
  - [ ] 従属節が `(...)` で囲まれている
  - [ ] 句が `<...>` で囲まれている（もしあれば）
  - [ ] 主節がそのまま表示される
  - [ ] `/` で節が区切られている

- [ ] **SVOCM下線**
  - [ ] S（主語）に赤い実線が引かれている
  - [ ] V（動詞）に青い二重線が引かれている
  - [ ] O（目的語）に緑の破線が引かれている（もしあれば）
  - [ ] C（補語）に橙の点線が引かれている（もしあれば）
  - [ ] M（修飾語）に紫の波線が引かれている（もしあれば）

- [ ] **凡例表示**
  - [ ] S: 主語、V: 動詞、などの凡例が表示される

### 4. フレーズ訳タブ（優先度: 中）

- [ ] **タブ切り替え**
  - [ ] 「フレーズ訳」タブをクリック
  - [ ] 2カラムグリッドが表示される

- [ ] **フレーズ表示**
  - [ ] 左側に英語フレーズが表示される
  - [ ] 右側に日本語訳が表示される
  - [ ] 複数のフレーズが表示される
  - [ ] 英語フレーズの背景が灰色
  - [ ] 日本語フレーズの背景が黄色

### 5. 日本語訳タブ（優先度: 中）

- [ ] **タブ切り替え**
  - [ ] 「日本語訳」タブをクリック

- [ ] **翻訳表示**
  - [ ] 完全な日本語訳が表示される
  - [ ] 黄色背景で表示される
  - [ ] フォントサイズが適切（1.125rem程度）

### 6. 語句確認タブ（優先度: 高）

- [ ] **タブ切り替え**
  - [ ] 「語句確認」タブをクリック

- [ ] **注釈語句表示**
  - [ ] 「📝 この文に含まれる重要語句」セクションが表示される
  - [ ] 注釈語句が表示される（例: farm product(s), plate, waste, cause等）
  - [ ] 各語句に [+ 追加] ボタンがある

- [ ] **[+ 追加]ボタン**
  - [ ] ボタンをクリック
  - [ ] カスタム問題セットに追加される（確認は別タブで）

- [ ] **重要語句表示**
  - [ ] 「🔍 検出された重要語句」セクションが表示される（もしあれば）
  - [ ] 熟語や文法パターンが表示される

### 7. 全文表示エリア（優先度: 高）

- [ ] **テキスト表示**
  - [ ] Times New Romanフォントで表示される
  - [ ] 両端揃え（justify）になっている
  - [ ] 行間が適切（line-height: 2程度）

- [ ] **複数文選択**
  - [ ] 別の文をクリック
  - [ ] 前の文の黄背景が解除される
  - [ ] 新しい文が黄背景になる
  - [ ] ExplanationBoardの内容が更新される

### 8. レスポンシブ対応（優先度: 低）

- [ ] **デスクトップ表示**
  - [ ] フレーズ訳が2カラムで表示される
  - [ ] ExplanationBoardが適切なサイズ

- [ ] **モバイル表示（DevToolsで確認）**
  - [ ] フレーズ訳が1カラムになる
  - [ ] フォントサイズが縮小される
  - [ ] タップ可能領域が十分

### 9. パフォーマンス（優先度: 中）

- [ ] **データ読み込み**
  - [ ] ローディング時間が1秒以内
  - [ ] コンソールにワーニングが少ない

- [ ] **文選択の反応速度**
  - [ ] クリック後、即座に背景色が変わる
  - [ ] ExplanationBoardの更新が滑らか

- [ ] **タブ切り替え**
  - [ ] タブクリック後、即座に切り替わる
  - [ ] LocalStorageに状態が保存される

### 10. エラーハンドリング（優先度: 中）

- [ ] **コンソールログ確認**
  - [ ] `[ReadingPassageView] パッセージ読み込み開始: J_2022_5`
  - [ ] `[PassageLoader] 完全データ読み込み完了`
  - [ ] `[ReadingPassageView] パッセージ読み込み完了`
  - [ ] `[ReadingPassageView] 文を選択: 1`（文選択時）

- [ ] **エラー状態（テストは不要、実装確認のみ）**
  - ファイルが見つからない場合のエラー表示
  - データ不整合時のwarning表示

---

## 🐛 発見したバグ・問題点

### 優先度: 高
（記入欄）

### 優先度: 中
（記入欄）

### 優先度: 低
（記入欄）

---

## 💡 改善提案

### UI/UX
（記入欄）

### パフォーマンス
（記入欄）

### 機能追加
（記入欄）

---

## 📊 最終判定

- [ ] **全ての優先度:高項目をクリア**
- [ ] **致命的なバグなし**
- [ ] **ユーザビリティ問題なし**

**総合評価**: ⭐⭐⭐⭐⭐ (5段階)

**本番リリース可否**: ✅ 可 / ❌ 否

---

## 📝 テスト実施者コメント

（記入欄）

---

## 次のアクション

確認完了後:
1. バグがあれば修正
2. UI調整が必要なら実施
3. 問題なければコミット&プッシュ
