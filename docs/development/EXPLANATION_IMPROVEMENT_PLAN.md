# 解説データ改善計画（150工程）

**作成日**: 2025年12月15日  
**対象**: 文法問題1,780問（25単元）  
**目標**: 全問題に高品質な解説を付与

---

## 📊 データ規模

| 学年 | 単元数 | 総問題数 | 平均問題数/単元 |
|------|--------|----------|----------------|
| 1年 | 11単元 | 710問 | 64.5問 |
| 2年 | 8単元 | 590問 | 73.8問 |
| 3年 | 6単元 | 480問 | 80.0問 |
| **合計** | **25単元** | **1,780問** | **71.2問** |

### 単元別詳細

```
1年生:
- Unit0: 60問 (be動詞基本)
- Unit1: 60問 (一般動詞基本)
- Unit2: 90問 (三人称単数)
- Unit3: 65問 (疑問詞)
- Unit4: 65問 (can/現在進行形)
- Unit5: 70問 (一般動詞過去)
- Unit6: 60問 (be動詞過去)
- Unit7: 60問 (未来表現)
- Unit8: 60問 (命令文/感嘆文)
- Unit9: 60問 (過去進行形)
- Unit10: 60問 (総合復習)

2年生:
- Unit0: 60問 (復習)
- Unit1: 60問 (過去形復習)
- Unit2: 60問 (未来表現)
- Unit3: 60問 (助動詞)
- Unit4: 125問 (不定詞)
- Unit5: 60問 (動名詞)
- Unit6: 80問 (比較級)
- Unit7: 85問 (最上級)

3年生:
- Unit0: 120問 (復習)
- Unit1: 70問 (現在完了)
- Unit2: 60問 (受動態)
- Unit3: 70問 (不定詞応用)
- Unit4: 90問 (分詞修飾)
- Unit5: 70問 (関係代名詞)
```

---

## 🎯 解説品質基準

### 必須要素（★★★）

1. **文法ポイント説明** - 該当する文法事項の明確な説明
2. **和訳** - 正解文の日本語訳
3. **正解の根拠** - なぜその答えが正しいのか

### 推奨要素（★★☆）

4. **語順ルール** - 特にsentenceOrderingで重要
5. **よくある間違い** - 学習者が間違えやすいポイント
6. **例文比較** - 正誤例の対比

### オプション要素（★☆☆）

7. **発展知識** - 関連文法や応用
8. **記憶のヒント** - 覚え方のコツ

---

## 📝 問題タイプ別テンプレート

### 1. sentenceOrdering（並び替え）

```
「{和訳}」です。

【文法ポイント】
{主要文法事項の説明}

【語順ルール】
{正しい語順とその理由}

【よくある間違い】
× {間違った語順例}
○ {正しい語順例}
```

**例:**
```
「私たちは昨日公園で走りました」です。

【文法ポイント】
run → ran (不規則動詞の過去形)

【語順ルール】
主語 + 動詞 + 場所(in the park) + 時(yesterday)
※英語では「場所→時」の順序が基本です

【よくある間違い】
× We ran yesterday in the park
○ We ran in the park yesterday
```

### 2. fillInBlank（穴埋め）

```
{正解語} が正解です。

【理由】
{なぜその語が入るのか}

【文法ポイント】
{関連する文法事項}

（オプション）
×避けるべき間違い: {よくある誤答とその理由}
```

### 3. verbForm（動詞変化）

```
{元の形} → {正解形} です。

【変化ルール】
{規則/不規則の説明}

【使い方】
{該当する時制や文脈での使用法}
```

### 4. paraphrase（言い換え）

```
{元の文} を {変換後の文} に言い換えます。

【変換ポイント】
{時制変換/構文変換の説明}

【注意点】
{意味の変化や注意すべき点}
```

### 5. conversation（会話）

```
{正解選択肢} が正解です。

【文脈理解】
{会話の流れと状況説明}

【文法ポイント】
{使用されている文法事項}
```

---

## 🛠️ 150工程実装計画

### フェーズ1: 準備（工程1-15）

| 工程 | 内容 | 成果物 | 完了条件 |
|------|------|--------|----------|
| 1 | 解説品質基準策定（必須要素） | 品質基準ドキュメント | ✅ レビュー完了 |
| 2 | 解説品質基準策定（推奨要素） | 同上に追記 | ✅ レビュー完了 |
| 3 | sentenceOrdering基本テンプレート | テンプレートファイル | ✅ 適用可能 |
| 4 | sentenceOrdering疑問文テンプレート | 同上に追記 | ✅ 適用可能 |
| 5 | sentenceOrdering副詞位置テンプレート | 同上に追記 | ✅ 適用可能 |
| 6 | fillInBlank動詞形テンプレート | テンプレートファイル | ✅ 適用可能 |
| 7 | fillInBlank前置詞テンプレート | 同上に追記 | ✅ 適用可能 |
| 8 | fillInBlank助動詞テンプレート | 同上に追記 | ✅ 適用可能 |
| 9 | verbForm規則変化テンプレート | テンプレートファイル | ✅ 適用可能 |
| 10 | verbForm不規則変化テンプレート | 同上に追記 | ✅ 適用可能 |
| 11 | paraphrase時制変換テンプレート | テンプレートファイル | ✅ 適用可能 |
| 12 | paraphrase構文変換テンプレート | 同上に追記 | ✅ 適用可能 |
| 13 | conversation文脈理解テンプレート | テンプレートファイル | ✅ 適用可能 |
| 14 | 解説自動生成スクリプト開発 | improve-explanation-quality.py | ✅ テスト通過 |
| 15 | 解説品質検証スクリプト開発 | validate-explanation-quality.py | ✅ テスト通過 |

### フェーズ2: 1年生（工程16-75）

#### Unit 0-1（工程16-25）
- 基礎文法の丁寧な解説
- be動詞と一般動詞の違いを明確化

#### Unit 2-3（工程26-35）
- 三単現のsルール徹底解説
- 疑問詞語順の体系的説明

#### Unit 4-7（工程36-55）
- 助動詞と時制の組み合わせ
- 過去形の規則/不規則を分類

#### Unit 8-10 + 全体検証（工程56-75）
- 命令文・感嘆文の特殊構文
- 1年生全体の語順ルール統一

### フェーズ3: 2年生（工程76-115）

#### Unit 0-3（工程76-90）
- 復習問題の解説強化
- 助動詞の詳細用法

#### Unit 4-5（工程91-103）
- 不定詞3用法の明確化（125問）
- 動名詞との使い分け

#### Unit 6-7 + 全体検証（工程104-115）
- 比較表現の体系化
- 1-2年連携確認

### フェーズ4: 3年生（工程116-140）

#### Unit 0-2（工程116-127）
- 総合復習の充実（120問）
- 現在完了の用法別解説
- 受動態の詳細説明

#### Unit 3-5 + 全体検証（工程128-140）
- 不定詞応用（形容詞的用法等）
- 分詞修飾の詳細
- 関係代名詞の体系化
- 高校受験対策

### フェーズ5: 最終調整（工程141-150）

| 工程 | 内容 | 対象範囲 |
|------|------|----------|
| 141 | 全単元語順ルール体系化 | 全1,780問 |
| 142 | 副詞句位置ルール統一 | sentenceOrdering全375問 |
| 143 | 疑問詞語順全単元統一 | 疑問文関連全問 |
| 144 | 時制使い分け全単元統一 | 時制関連全問 |
| 145 | よくある間違い追加 | 重要問題500問 |
| 146 | 自動品質チェック実行 | 全1,780問 |
| 147 | サンプリング手動チェック | 100問抽出 |
| 148 | ユーザーテスト実施 | 各学年10問ずつ |
| 149 | 最終品質保証 | 全単元 |
| 150 | リリース準備 | ドキュメント整備 |

---

## 📈 進捗管理

### マイルストーン

- [ ] **M1**: フェーズ1完了（工程15） - 準備完了
- [ ] **M2**: 1年Unit0-1完了（工程25） - 初期検証
- [ ] **M3**: 1年生全単元完了（工程75） - 基礎固め
- [ ] **M4**: 2年生全単元完了（工程115） - 応用展開
- [ ] **M5**: 3年生全単元完了（工程140） - 発展完成
- [ ] **M6**: 最終調整完了（工程150） - リリース

### 品質メトリクス

- 必須要素充足率: 100%目標
- 推奨要素充足率: 80%以上目標
- 平均解説文字数: 200-400文字/問
- 品質スコア: 4.0/5.0以上

---

## 🔧 自動化ツール

### 1. improve-explanation-quality.py
- 既存解説の分析
- テンプレートベースの解説生成
- 文法ポイント自動抽出

### 2. validate-explanation-quality.py
- 必須要素の検証
- 文字数チェック
- 品質スコア算出

### 3. explanation-progress-tracker.py
- 工程別進捗管理
- 完了率可視化
- レポート生成

---

## 📚 参考資料

- 中学英語文法体系表
- 学習指導要領（英語）
- 高校入試頻出文法事項

---

## 🚀 次のアクション

1. ✅ 本ドキュメント作成（工程1完了）
2. ⏭️ 品質基準の詳細化（工程2）
3. ⏭️ テンプレート作成（工程3-13）
4. ⏭️ スクリプト開発（工程14-15）
5. ⏭️ 1年Unit0で実証（工程16-20）

---

**更新履歴**
- 2025-12-15: 初版作成
