# リスク登録簿 (Risk Register)

## 概要
AI学習システムの実装・運用における主要リスクと緩和策を管理。

---

## 技術リスク

### T1: LocalStorage容量制限
- **説明:** ブラウザのlocalStorage上限(5-10MB)を超過しデータ損失
- **影響:** 高（学習履歴消失、ユーザー離脱）
- **確率:** 中（長期ユーザー、大量単語で発生可能）
- **緩和策:**
  - 定期的な古いログのクリーンアップ（30日以前）
  - 容量監視機能実装（警告at 80%）
  - 重要データの優先保存（進捗>ログ）
  - IndexedDB移行の検討（Phase 2）
- **担当:** フロントエンド
- **ステータス:** 対策中

### T2: 校正データ不足
- **説明:** 初期ユーザーで校正パラメータ学習に十分なデータなし
- **影響:** 中（予測精度低下、ユーザー体験悪化）
- **確率:** 高（新規ユーザー全員）
- **緩和策:**
  - 保守的なデフォルトパラメータ使用
  - 段階的校正（N=10, 30, 100で更新）
  - グローバルパラメータからのウォームスタート
  - コールドスタート専用モデル検討
- **担当:** MemoryAI
- **ステータス:** 計画中

### T3: 忘却曲線モデルのオーバーフィット
- **説明:** 個別パラメータが過学習し汎化性能低下
- **影響:** 中（不適切な出題タイミング）
- **確率:** 中（長期ユーザーで顕在化）
- **緩和策:**
  - 正則化（パラメータ変動の制限）
  - 検証セット分割（最新20%で評価）
  - モデル複雑度制限（パラメータ数最小化）
  - 定期的な再校正（月次）
- **担当:** MemoryAI
- **ステータス:** 設計段階

### T4: AntiVibrationFilterの過度な抑制
- **説明:** 重複防止が強すぎて学習機会が減少
- **影響:** 低-中（学習効率低下）
- **確率:** 低（調整済みだが監視必要）
- **緩和策:**
  - AB実験で効果測定
  - 重複率と学習効率のバランス監視
  - ペナルティ強度のA/Bテスト
  - ユーザーフィードバック収集
- **担当:** QuestionScheduler
- **ステータス:** 監視中

### T5: パフォーマンス劣化
- **説明:** スケジューラ計算コストでUI応答性低下
- **影響:** 高（ユーザー離脱）
- **確率:** 中（単語数増加で顕在化）
- **緩和策:**
  - スケジューラのプリフェッチ実装
  - 計算のWeb Worker移譲
  - キャッシング戦略（最近10問）
  - プロファイリングと最適化
- **担当:** フロントエンド
- **ステータス:** 一部実装済（要監視）

---

## データリスク

### D1: スキーマ変更による互換性問題
- **説明:** `WordProgress`型の変更で既存データ読込エラー
- **影響:** 高（アプリクラッシュ、データ損失）
- **確率:** 高（機能追加ごとに発生）
- **緩和策:**
  - スキーマバージョニング実装（`schemaVersion`フィールド）
  - マイグレーション関数群（v1→v2等）
  - フォールバック値設定
  - ユニットテストで全バージョン検証
- **担当:** progressStorage
- **ステータス:** 未実装（P0）

### D2: データ整合性問題
- **説明:** 並行更新や異常終了で不整合データ発生
- **影響:** 中（誤った学習進捗）
- **確率:** 低-中（競合状態は稀だが）
- **緩和策:**
  - 楽観的ロック（バージョン番号）
  - 整合性検証関数（起動時実行）
  - 不正値の自動補正
  - 重複排除ロジック
- **担当:** progressStorage
- **ステータス:** 部分実装

### D3: プライバシー漏洩
- **説明:** ログやメトリクスにPII混入
- **影響:** 致命的（法的問題、信頼失墜）
- **確率:** 低（現状サーバー送信なし）
- **緩和策:**
  - PIIフィルタリング（word_idのみ記録）
  - データ最小化原則遵守
  - 定期的なコードレビュー
  - プライバシー影響評価（Phase 2）
- **担当:** 全体
- **ステータス:** 監視中

---

## 運用リスク

### O1: AB実験の誤った解釈
- **説明:** 統計的有意性の誤用や多重検定問題
- **影響:** 中（誤った意思決定）
- **確率:** 中（データサイエンス経験依存）
- **緩和策:**
  - 事前の検出力分析（サンプルサイズ設計）
  - 有意水準補正（Bonferroni等）
  - ピアレビュー（分析結果の相互確認）
  - 外部専門家コンサル検討
- **担当:** プロジェクト管理
- **ステータス:** ガイドライン策定中

### O2: Kill Switchの遅延発動
- **説明:** 異常検知が遅れユーザー影響拡大
- **影響:** 高（ユーザー体験悪化、クレーム）
- **確率:** 低-中（監視体制次第）
- **緩和策:**
  - リアルタイムメトリクス監視
  - 自動アラート設定（しきい値超過時）
  - 手動停止手順の明文化
  - ロールバック手順の事前検証
- **担当:** 運用担当
- **ステータス:** 手順策定中

### O3: 技術的負債の蓄積
- **説明:** 短期的修正の積み重ねでコード品質低下
- **影響:** 中-高（保守性低下、バグ増加）
- **確率:** 高（開発圧力下）
- **緩和策:**
  - 定期的なリファクタリング枠確保
  - コードレビュー強化
  - 自動テストカバレッジ維持（>80%）
  - 四半期ごとの技術的負債棚卸し
- **担当:** 開発チーム
- **ステータス:** 継続的取組

---

## ビジネスリスク

### B1: ユーザー期待とのギャップ
- **説明:** 「AI」への過度な期待に実装が追いつかない
- **影響:** 中（満足度低下、口コミ悪化）
- **確率:** 中（初期段階で顕著）
- **緩和策:**
  - 現実的な機能説明（ドキュメント整備）
  - 段階的な機能公開（Phase分け）
  - ユーザーフィードバックループ構築
  - 透明性向上（Priority Explainer等）
- **担当:** プロダクト
- **ステータス:** 対応中

### B2: 競合サービスとの差別化不足
- **説明:** 既存サービス（Anki等）との優位性が不明瞭
- **影響:** 中（ユーザー獲得困難）
- **確率:** 中（市場成熟度高い）
- **緩和策:**
  - 独自価値の明確化（メタAI協調、文脈学習）
  - ユースケース特化（英語学習最適化）
  - UX差別化（直感的UI、説明性）
  - コミュニティ構築
- **担当:** プロダクト
- **ステータス:** 戦略検討中

---

## リスク管理プロセス

### 定期レビュー
- **頻度:** 月次（開発中）、四半期（運用中）
- **参加者:** 開発・運用・プロダクト
- **内容:**
  1. 新規リスクの識別
  2. 既存リスクのステータス更新
  3. 緩和策の効果評価
  4. 優先度再評価

### エスカレーション基準
- **Critical:** 影響=高 かつ 確率=高 → 即時対応
- **High:** 影響=高 または 確率=高 → 1週間以内対応
- **Medium:** 影響=中 かつ 確率=中 → 1ヶ月以内計画
- **Low:** その他 → 監視継続

### 文書更新
- リスク発生時: 即座に記録追加
- 緩和完了時: ステータス更新
- 月次レビュー後: 全体見直し

---

**更新履歴:**
- 2025-12-20: 初版作成
