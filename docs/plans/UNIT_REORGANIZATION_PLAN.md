# NEW HORIZONå˜å…ƒå†ç·¨æˆè¨ˆç”»ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³Bï¼‰

## ğŸ“‹ è¨ˆç”»æ¦‚è¦

**æ–¹é‡**: æ—¢å­˜ã®å•é¡Œãƒ‡ãƒ¼ã‚¿ã‚’æœ€å¤§é™æ´»ç”¨ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«åã®ä»˜ã‘æ›¿ãˆã¨å†…å®¹è£œå®Œã«ã‚ˆã‚Šå…¬å¼ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã«æº–æ‹ ã•ã›ã‚‹

**æœŸé–“**: æ®µéšçš„å®Ÿæ–½ï¼ˆPhase 1-5ï¼‰

**ç›®æ¨™**: å…¨å˜å…ƒãŒå…¬å¼NEW HORIZONã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã«å®Œå…¨æº–æ‹ 

---

## ğŸ” ç¾çŠ¶åˆ†æã¾ã¨ã‚

### Grade 2 ãƒãƒƒãƒ”ãƒ³ã‚°è¡¨

| ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ« | ç¾åœ¨ã®å†…å®¹ | ç§»å‹•å…ˆ | å…¬å¼ã®å†…å®¹ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|---|---|---|---|---|
| unit0.json | beå‹•è©ã®éå»å½¢ | â“ | å‹•è©ã®éå»å½¢ï¼ˆå…¨èˆ¬ï¼‰ | æ‹¡å¼µ |
| unit1.json | éå»é€²è¡Œå½¢ | unit0 or unit1 | be going to/will | è¦ç¢ºèª |
| unit2.json | æœªæ¥è¡¨ç¾ | unit1 | æ¥ç¶šè© | ãƒªãƒãƒ¼ãƒ  |
| unit3.json | must/have to | unit4 | ä¸å®šè© | ãƒªãƒãƒ¼ãƒ  |
| unit4.json | ä¸å®šè© | unit3 | must/å‹•åè© | ãƒªãƒãƒ¼ãƒ  |
| unit5.json | å‹•åè© | unit4 | ï¼ˆèª¿æŸ»ç¶™ç¶šï¼‰ | çµ±åˆï¼Ÿ |
| unit6.json | æ¥ç¶šè© | unit2 | æ¯”è¼ƒç´š | ãƒªãƒãƒ¼ãƒ  |
| unit7.json | æ¯”è¼ƒç´š | unit6 | å—å‹•æ…‹ | ãƒªãƒãƒ¼ãƒ  |

### Grade 3 ãƒãƒƒãƒ”ãƒ³ã‚°è¡¨

| ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ« | ç¾åœ¨ã®å†…å®¹ | ç§»å‹•å…ˆ | å…¬å¼ã®å†…å®¹ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|---|---|---|---|---|
| unit0.json | å—å‹•æ…‹ | Grade2 unit7 | æ—¢ç¿’äº‹é …å¾©ç¿’ | ç§»å‹• |
| unit1.json | ç¾åœ¨å®Œäº† | unit1 | çµŒé¨“ç”¨æ³•+SVOC | è£œå®Œ |
| unit2.json | å®Œäº†ãƒ»ç¶™ç¶š | unit2 | å®Œäº†ãƒ»ç¶™ç¶š+é€²è¡Œå½¢ | è£œå®Œ |
| unit3.json | çµŒé¨“ãƒ»çµæœ | unit1? | It is...to / let/help | æ–°è¦ä½œæˆ |
| unit4.json | ä¸å®šè©å¿œç”¨ | unit3? | é–“æ¥ç–‘å•æ–‡+åˆ†è© | æ–°è¦ä½œæˆ |
| unit5.json | é–¢ä¿‚ä»£åè© | unit5 | é–¢ä¿‚ä»£åè© | âœ… |
| unit6.json | åˆ†è© | unit4 | ä»®å®šæ³• | æ–°è¦ä½œæˆ |

---

## ğŸ“… Phaseåˆ¥ä½œæ¥­è¨ˆç”»

### Phase 1: ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨æº–å‚™ï¼ˆ30åˆ†ï¼‰

**ç›®æ¨™**: ç¾çŠ¶ã‚’ä¿å­˜ã—ã€ä½œæ¥­ç’°å¢ƒã‚’æ•´ãˆã‚‹

**ã‚¿ã‚¹ã‚¯**:
1. å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
2. è©³ç´°ãªãƒãƒƒãƒ”ãƒ³ã‚°è¡¨ã®ç¢ºèª
3. ä½œæ¥­ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æº–å‚™

**ã‚³ãƒãƒ³ãƒ‰**:
```bash
# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir -p public/data/grammar/backup_before_reorganization_2025-12-18

# å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp public/data/grammar/grammar_grade{2,3}_unit*.json \
   public/data/grammar/backup_before_reorganization_2025-12-18/

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç¢ºèª
ls -la public/data/grammar/backup_before_reorganization_2025-12-18/
```

**æˆæœç‰©**:
- âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Œäº†
- âœ… ãƒãƒƒãƒ”ãƒ³ã‚°è¡¨ç¢ºå®š

---

### Phase 2: Grade 2 ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã®è©³ç´°ç¢ºèªï¼ˆ1æ™‚é–“ï¼‰

**ç›®æ¨™**: å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å•é¡Œå†…å®¹ã‚’ç²¾æŸ»ã—ã€æ­£ç¢ºãªãƒãƒƒãƒ”ãƒ³ã‚°ã‚’æ±ºå®š

**ã‚¿ã‚¹ã‚¯**:
1. å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å•é¡Œã‚’æŠ½å‡ºã—ã¦ã‚µãƒ³ãƒ—ãƒ«ç¢ºèª
2. æ–‡æ³•é …ç›®ã®è©³ç´°åˆ†æ
3. æœ€çµ‚ãƒãƒƒãƒ”ãƒ³ã‚°è¡¨ã®ä½œæˆ

**ç¢ºèªé …ç›®**:
- Unit 0: beå‹•è©ã®éå»å½¢ã®ã¿ï¼Ÿä¸€èˆ¬å‹•è©ã‚‚å«ã‚€ï¼Ÿ
- Unit 1: éå»é€²è¡Œå½¢ã¯å…¬å¼ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã®ã©ã“ã«è©²å½“ï¼Ÿ
- Unit 5: å‹•åè©ã¯ç‹¬ç«‹å˜å…ƒï¼ŸUnit 4ã®ä¸€éƒ¨ï¼Ÿ

**ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**:
```bash
# å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å•é¡Œã‚µãƒ³ãƒ—ãƒ«ã‚’è¡¨ç¤º
for i in {0..7}; do
  file="public/data/grammar/grammar_grade2_unit${i}.json"
  if [ -f "$file" ]; then
    echo "=== Unit $i ã‚µãƒ³ãƒ—ãƒ« ==="
    jq '.questions[0:3] | .[] | {japanese, grammar: .sentence}' "$file"
  fi
done
```

**æˆæœç‰©**:
- âœ… è©³ç´°ãƒãƒƒãƒ”ãƒ³ã‚°è¡¨ï¼ˆç¢ºå®šç‰ˆï¼‰
- âœ… æ–°è¦ä½œæˆãŒå¿…è¦ãªå˜å…ƒãƒªã‚¹ãƒˆ
- âœ… è£œå®ŒãŒå¿…è¦ãªæ–‡æ³•é …ç›®ãƒªã‚¹ãƒˆ

---

### Phase 3: Grade 2 å†ç·¨æˆï¼ˆ2-3æ™‚é–“ï¼‰

**ç›®æ¨™**: Grade 2ã®å…¨å˜å…ƒã‚’å…¬å¼ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã«æº–æ‹ ã•ã›ã‚‹

#### Step 3.1: å˜ç´”ãªãƒªãƒãƒ¼ãƒ ï¼ˆç«¶åˆãªã—ï¼‰

**ã‚¿ã‚¹ã‚¯**:
```bash
# ä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ï¼ˆç«¶åˆå›é¿ï¼‰
mkdir -p public/data/grammar/temp_g2

# Unit 2 â†’ Unit 1 (æœªæ¥è¡¨ç¾)
cp public/data/grammar/grammar_grade2_unit2.json \
   public/data/grammar/temp_g2/grammar_grade2_unit1_new.json

# Unit 6 â†’ Unit 2 (æ¥ç¶šè©)
cp public/data/grammar/grammar_grade2_unit6.json \
   public/data/grammar/temp_g2/grammar_grade2_unit2_new.json

# Unit 7 â†’ Unit 6 (æ¯”è¼ƒç´š)
cp public/data/grammar/grammar_grade2_unit7.json \
   public/data/grammar/temp_g2/grammar_grade2_unit6_new.json
```

#### Step 3.2: JSONå†…å®¹ã®æ›´æ–°

å„ãƒ•ã‚¡ã‚¤ãƒ«ã® `unit`, `title`, `grammar` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å…¬å¼å†…å®¹ã«æ›´æ–°

**Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆä¾‹**:
```python
import json

# Unit 1ã®ä¾‹
with open('temp_g2/grammar_grade2_unit1_new.json', 'r+', encoding='utf-8') as f:
    data = json.load(f)
    data['unit'] = 'Unit 1'
    data['title'] = 'æœªæ¥è¡¨ç¾'
    data['grammar'] = 'be going to / willã€æœªæ¥ã‚’è¡¨ã™è¡¨ç¾'
    f.seek(0)
    json.dump(data, f, ensure_ascii=False, indent=2)
    f.truncate()
```

#### Step 3.3: è¤‡é›‘ãªå†ç·¨æˆ

**Unit 3/4 ã®å…¥ã‚Œæ›¿ãˆ**:
- ç¾unit3 (must) â†’ æ–°unit4
- ç¾unit4 (ä¸å®šè©) â†’ æ–°unit3
- ç¾unit5 (å‹•åè©) â†’ æ–°unit4 ã«çµ±åˆ

**ã‚¿ã‚¹ã‚¯**:
```bash
# Unit 4 (ä¸å®šè©) â†’ Unit 3
cp public/data/grammar/grammar_grade2_unit4.json \
   public/data/grammar/temp_g2/grammar_grade2_unit3_new.json

# Unit 3 (must) + Unit 5 (å‹•åè©) â†’ Unit 4
# Python ã§2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒ¼ã‚¸
```

#### Step 3.4: Unit 0 ã®æ‹¡å¼µ

**å¿…è¦ãªè¿½åŠ å†…å®¹**:
- ä¸€èˆ¬å‹•è©ã®éå»å½¢ï¼ˆè¦å‰‡ãƒ»ä¸è¦å‰‡ï¼‰
- ç¾çŠ¶: beå‹•è©ã®ã¿

**ã‚¿ã‚¹ã‚¯**:
- ä¸€èˆ¬å‹•è©ã®å•é¡Œã‚’20-30å•è¿½åŠ 

#### Step 3.5: Unit 7 (å—å‹•æ…‹) ã®æ–°è¦ä½œæˆ

**ç¾çŠ¶**: è©²å½“ãƒ‡ãƒ¼ã‚¿ãªã—ï¼ˆGrade 3 Unit 0ã«èª¤é…ç½®ï¼‰

**ã‚¿ã‚¹ã‚¯**:
```bash
# Grade 3 Unit 0 â†’ Grade 2 Unit 7
cp public/data/grammar/grammar_grade3_unit0.json \
   public/data/grammar/temp_g2/grammar_grade2_unit7_new.json
# JSONå†…å®¹ã‚’æ›´æ–°
```

#### Step 3.6: Unit 1 ã®å‡¦ç†æ±ºå®š

**ç¾unit1å†…å®¹**: éå»é€²è¡Œå½¢

**é¸æŠè‚¢**:
1. **å‰Šé™¤**: å…¬å¼ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã«æ˜ç¤ºçš„ãªå˜å…ƒãªã—
2. **Unit 0ã«çµ±åˆ**: éå»å½¢ã®ç™ºå±•ã¨ã—ã¦
3. **åˆ¥ã‚«ãƒ†ã‚´ãƒª**: ç™ºå±•å­¦ç¿’ã¨ã—ã¦ä¿å­˜

**æ¨å¥¨**: Unit 0ã«çµ±åˆï¼ˆéå»å½¢ã®å¿œç”¨ã¨ã—ã¦ï¼‰

#### Step 3.7: Unit 5 ã®èª¿æŸ»ã¨æ±ºå®š

**å…¬å¼**: ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ç‰¹å®šã§ããš

**ã‚¿ã‚¹ã‚¯**:
- Excelè³‡æ–™ã‚’å†ç¢ºèª
- ç¾unit5 (å‹•åè©) ãŒUnit 4ã®ä¸€éƒ¨ã‹ç¢ºèª
- å¿…è¦ã«å¿œã˜ã¦ Unit 4 ã«çµ±åˆ

**æˆæœç‰©**:
- âœ… Grade 2 å…¨å˜å…ƒãŒå…¬å¼æ§‹æˆã«æº–æ‹ 
- âœ… temp_g2/ ã«æ–°ãƒ•ã‚¡ã‚¤ãƒ«ä¸€å¼

---

### Phase 4: Grade 3 å†ç·¨æˆï¼ˆ2-3æ™‚é–“ï¼‰

**ç›®æ¨™**: Grade 3ã®å…¨å˜å…ƒã‚’å…¬å¼ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã«æº–æ‹ ã•ã›ã‚‹

#### Step 4.1: Unit 0 ã®æ–°è¦ä½œæˆ

**å…¬å¼å†…å®¹**: æ—¢ç¿’äº‹é …ã®å¾©ç¿’

**ã‚¿ã‚¹ã‚¯**:
- æ–°è¦ä½œæˆï¼ˆæ—¢å­˜ã®unit0ã¯å‰Šé™¤æ¸ˆã¿ï¼‰
- ã¾ãŸã¯ç©ºãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆenabled: falseï¼‰ã¨ã—ã¦é…ç½®

#### Step 4.2: Unit 1-2 ã®è£œå®Œ

**Unit 1**:
- ç¾çŠ¶: ç¾åœ¨å®Œäº†ï¼ˆä¸€èˆ¬ï¼‰
- è¿½åŠ : SVOCã€SVOO ã®å•é¡Œ

**Unit 2**:
- ç¾çŠ¶: å®Œäº†ãƒ»ç¶™ç¶š
- è¿½åŠ : ç¾åœ¨å®Œäº†é€²è¡Œå½¢ã®å•é¡Œ

#### Step 4.3: Unit 3 ã®æ–°è¦ä½œæˆ

**å…¬å¼å†…å®¹**: It is ... to / let, help + äºº + å‹•è©åŸå½¢

**ã‚¿ã‚¹ã‚¯**:
- å®Œå…¨æ–°è¦ä½œæˆ
- 60-70å•

#### Step 4.4: Unit 4 ã®æ–°è¦ä½œæˆ

**å…¬å¼å†…å®¹**: é–“æ¥ç–‘å•æ–‡ + åˆ†è©

**ç¾çŠ¶**: unit6ã«åˆ†è©ãƒ‡ãƒ¼ã‚¿ã‚ã‚Š â†’ ç§»å‹•ã—ã¦çµ±åˆ
**ä¸è¶³**: é–“æ¥ç–‘å•æ–‡ â†’ æ–°è¦ä½œæˆ

**ã‚¿ã‚¹ã‚¯**:
```bash
# ç¾unit6 (åˆ†è©) ã‚’åŸºç¤ã«
cp public/data/grammar/grammar_grade3_unit6.json \
   public/data/grammar/temp_g3/grammar_grade3_unit4_base.json
# é–“æ¥ç–‘å•æ–‡ã®å•é¡Œã‚’è¿½åŠ 
```

#### Step 4.5: Unit 5 ã¯ç¶­æŒ

**Unit 5**: é–¢ä¿‚ä»£åè©ï¼ˆæ—¢ã«æ­£ã—ã„ï¼‰

#### Step 4.6: Unit 6 ã®æ–°è¦ä½œæˆ

**å…¬å¼å†…å®¹**: ä»®å®šæ³•

**ã‚¿ã‚¹ã‚¯**:
- å®Œå…¨æ–°è¦ä½œæˆ
- I wish / If + were / If + éå»å½¢
- 60-70å•

**æˆæœç‰©**:
- âœ… Grade 3 å…¨å˜å…ƒãŒå…¬å¼æ§‹æˆã«æº–æ‹ 
- âœ… temp_g3/ ã«æ–°ãƒ•ã‚¡ã‚¤ãƒ«ä¸€å¼

---

### Phase 5: åˆ‡ã‚Šæ›¿ãˆã¨æ¤œè¨¼ï¼ˆ30åˆ†ï¼‰

**ç›®æ¨™**: æ–°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ­£å¼ç‰ˆã¨ã—ã¦é…ç½®ã—ã€æ¤œè¨¼ã™ã‚‹

#### Step 5.1: å¤ã„ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–

```bash
# ç¾è¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
mkdir -p public/data/grammar/archive_old_structure
mv public/data/grammar/grammar_grade{2,3}_unit*.json \
   public/data/grammar/archive_old_structure/
```

#### Step 5.2: æ–°ãƒ•ã‚¡ã‚¤ãƒ«ã®é…ç½®

```bash
# Grade 2
mv public/data/grammar/temp_g2/*.json public/data/grammar/

# Grade 3
mv public/data/grammar/temp_g3/*.json public/data/grammar/
```

#### Step 5.3: æ¤œè¨¼

```bash
# æ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
./scripts/validate-unit-structure.sh

# æœŸå¾…çµæœ: âœ… æ¤œè¨¼æˆåŠŸ
```

#### Step 5.4: å•é¡Œæ•°ã®ç¢ºèª

```bash
# å„å˜å…ƒã®å•é¡Œæ•°ã‚’ç¢ºèª
for file in public/data/grammar/grammar_grade{2,3}_unit[0-9].json; do
  echo "$(basename $file): $(jq '.totalQuestions' $file) questions"
done
```

**æˆæœç‰©**:
- âœ… å…¨å˜å…ƒãŒå…¬å¼æ§‹æˆã«æº–æ‹ 
- âœ… æ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆæˆåŠŸ
- âœ… å•é¡Œæ•°ã®ç¢ºèªå®Œäº†

---

## ğŸ“Š æ–°è¦ä½œæˆãƒ»è£œå®ŒãŒå¿…è¦ãªå˜å…ƒ

### å„ªå…ˆåº¦Aï¼ˆå¿…é ˆãƒ»æ–°è¦ä½œæˆï¼‰

1. **Grade 2 Unit 7**: å—å‹•æ…‹
   - æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚ã‚Šï¼ˆç¾Grade 3 Unit 0ï¼‰â†’ ç§»å‹•ãƒ»æ›´æ–°

2. **Grade 3 Unit 0**: æ—¢ç¿’äº‹é …å¾©ç¿’
   - æ–°è¦ä½œæˆ or ç©ºãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆenabled: falseï¼‰

3. **Grade 3 Unit 3**: It is ... to / let, help
   - å®Œå…¨æ–°è¦ä½œæˆï¼ˆ60-70å•ï¼‰

4. **Grade 3 Unit 6**: ä»®å®šæ³•
   - å®Œå…¨æ–°è¦ä½œæˆï¼ˆ60-70å•ï¼‰

### å„ªå…ˆåº¦Bï¼ˆè£œå®Œï¼‰

5. **Grade 2 Unit 0**: ä¸€èˆ¬å‹•è©ã®éå»å½¢ã‚’è¿½åŠ 
   - æ—¢å­˜: beå‹•è©ã®ã¿ â†’ ä¸€èˆ¬å‹•è©20-30å•è¿½åŠ 

6. **Grade 2 Unit 5**: èª¿æŸ»å¾Œã«æ±ºå®š
   - å…¬å¼ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã®ç¢ºèªå¿…è¦

7. **Grade 3 Unit 1**: SVOCã€SVOO ã‚’è¿½åŠ 
   - æ—¢å­˜: ç¾åœ¨å®Œäº† â†’ 20-30å•è¿½åŠ 

8. **Grade 3 Unit 2**: ç¾åœ¨å®Œäº†é€²è¡Œå½¢ã‚’è¿½åŠ 
   - æ—¢å­˜: å®Œäº†ãƒ»ç¶™ç¶š â†’ 20-30å•è¿½åŠ 

9. **Grade 3 Unit 4**: é–“æ¥ç–‘å•æ–‡ã‚’è¿½åŠ 
   - æ—¢å­˜: åˆ†è©ï¼ˆç§»å‹•å¾Œï¼‰â†’ é–“æ¥ç–‘å•æ–‡30-40å•è¿½åŠ 

### å„ªå…ˆåº¦Cï¼ˆè¦ç¢ºèªï¼‰

10. **Grade 2 Unit 1**: éå»é€²è¡Œå½¢ã®æ‰±ã„
    - å‰Šé™¤ or Unit 0çµ±åˆ or ç™ºå±•å­¦ç¿’

---

## ğŸ”§ å®Ÿè£…ãƒ„ãƒ¼ãƒ«ãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### ãƒ„ãƒ¼ãƒ«1: ãƒ•ã‚¡ã‚¤ãƒ«ãƒªãƒãƒ¼ãƒ ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
#!/bin/bash
# scripts/rename-units.sh

mkdir -p public/data/grammar/temp_g2 public/data/grammar/temp_g3

# Grade 2 ãƒãƒƒãƒ”ãƒ³ã‚°
declare -A G2_MAP=(
  ["2"]="1"  # æœªæ¥è¡¨ç¾
  ["6"]="2"  # æ¥ç¶šè©
  ["4"]="3"  # ä¸å®šè©
  ["3"]="4"  # must (å‹•åè©ã¯å¾Œã§çµ±åˆ)
  ["7"]="6"  # æ¯”è¼ƒç´š
)

for old in "${!G2_MAP[@]}"; do
  new="${G2_MAP[$old]}"
  cp "public/data/grammar/grammar_grade2_unit${old}.json" \
     "public/data/grammar/temp_g2/grammar_grade2_unit${new}_new.json"
done
```

### ãƒ„ãƒ¼ãƒ«2: JSONæ›´æ–°ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```python
#!/usr/bin/env python3
# scripts/update-unit-info.py

import json
import sys

def update_unit_info(filepath, unit, title, grammar):
    with open(filepath, 'r+', encoding='utf-8') as f:
        data = json.load(f)
        data['unit'] = unit
        data['title'] = title
        data['grammar'] = grammar
        f.seek(0)
        json.dump(data, f, ensure_ascii=False, indent=2)
        f.truncate()
    print(f"âœ… Updated: {filepath}")

if __name__ == "__main__":
    update_unit_info(sys.argv[1], sys.argv[2], sys.argv[3], sys.argv[4])
```

### ãƒ„ãƒ¼ãƒ«3: ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ¼ã‚¸ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```python
#!/usr/bin/env python3
# scripts/merge-units.py

import json
import sys

def merge_units(file1, file2, output, new_unit, new_title, new_grammar):
    with open(file1, 'r', encoding='utf-8') as f:
        data1 = json.load(f)
    with open(file2, 'r', encoding='utf-8') as f:
        data2 = json.load(f)
    
    # åŸºæœ¬æƒ…å ±ã‚’æ›´æ–°
    merged = data1.copy()
    merged['unit'] = new_unit
    merged['title'] = new_title
    merged['grammar'] = new_grammar
    
    # å•é¡Œã‚’çµ±åˆ
    merged['questions'].extend(data2['questions'])
    merged['totalQuestions'] = len(merged['questions'])
    
    # questionTypesã‚’å†è¨ˆç®—
    types = {}
    for q in merged['questions']:
        qtype = q['type']
        types[qtype] = types.get(qtype, 0) + 1
    merged['questionTypes'] = types
    
    with open(output, 'w', encoding='utf-8') as f:
        json.dump(merged, f, ensure_ascii=False, indent=2)
    
    print(f"âœ… Merged: {file1} + {file2} â†’ {output}")

if __name__ == "__main__":
    merge_units(sys.argv[1], sys.argv[2], sys.argv[3], 
                sys.argv[4], sys.argv[5], sys.argv[6])
```

---

## â±ï¸ æ¨å®šä½œæ¥­æ™‚é–“

| Phase | å†…å®¹ | æ™‚é–“ | æ‹…å½“ |
|---|---|---|---|
| Phase 1 | ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨æº–å‚™ | 30åˆ† | AI |
| Phase 2 | Grade 2 è©³ç´°ç¢ºèª | 1æ™‚é–“ | AI + ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª |
| Phase 3 | Grade 2 å†ç·¨æˆ | 2-3æ™‚é–“ | AI |
| Phase 4 | Grade 3 å†ç·¨æˆ | 2-3æ™‚é–“ | AI |
| Phase 5 | åˆ‡ã‚Šæ›¿ãˆã¨æ¤œè¨¼ | 30åˆ† | AI |
| **åˆè¨ˆ** | - | **6-8æ™‚é–“** | - |

â€»æ–°è¦ä½œæˆãŒå¿…è¦ãªå˜å…ƒï¼ˆGrade 3 Unit 3, 6ï¼‰ã¯åˆ¥é€”æ™‚é–“ãŒå¿…è¦

---

## âœ… æˆåŠŸåŸºæº–

### æœ€çµ‚ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ã™ã¹ã¦ã®å˜å…ƒãƒ•ã‚¡ã‚¤ãƒ«ãŒå…¬å¼ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã«æº–æ‹ 
- [ ] `./scripts/validate-unit-structure.sh` ãŒã‚¨ãƒ©ãƒ¼ãªã—ã§å®Œäº†
- [ ] å„å˜å…ƒã®å•é¡Œæ•°ãŒé©åˆ‡ï¼ˆæœ€ä½50å•ä»¥ä¸Šï¼‰
- [ ] ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹
- [ ] Grade 2: Unit 0-7 ã®ã¿å­˜åœ¨
- [ ] Grade 3: Unit 0-6 ã®ã¿å­˜åœ¨
- [ ] ã™ã¹ã¦ã®å˜å…ƒã® `unit`, `title`, `grammar` ãŒå…¬å¼ã¨ä¸€è‡´
- [ ] æ–°è¦ä½œæˆã—ãŸå•é¡Œã®å“è³ªç¢ºèªå®Œäº†

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### Phase 1 å®Ÿè¡Œæº–å‚™

æ‰¿èªã„ãŸã ã‘ã‚Œã°ã€ã™ãã«Phase 1ï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨æº–å‚™ï¼‰ã‚’é–‹å§‹ã§ãã¾ã™ã€‚

**å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰**:
```bash
# Phase 1é–‹å§‹
mkdir -p public/data/grammar/backup_before_reorganization_2025-12-18
cp public/data/grammar/grammar_grade{2,3}_unit*.json \
   public/data/grammar/backup_before_reorganization_2025-12-18/
```

Phase 1å®Œäº†å¾Œã€Phase 2ã®è©³ç´°ç¢ºèªã«é€²ã¿ã¾ã™ã€‚

---

**ä½œæˆæ—¥**: 2025å¹´12æœˆ18æ—¥  
**æœ€çµ‚æ›´æ–°**: 2025å¹´12æœˆ18æ—¥  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: æ‰¿èªå¾…ã¡  
**å„ªå…ˆåº¦**: ğŸ”´ æœ€é«˜
