# Phase 2 実装計画 - 継続的品質改善

**開始予定**: 2025年12月13日  
**方針**: Phase 1の品質原則を継続 (質 > スピード)

## Phase 1からの継承

### ✅ 確立された品質原則

1. **テストを緩和せず、データを改善**
1. **時間をかけても質を優先**
1. **学習者に最高の価値を提供**
1. **自動化ツールの構築**

### 📊 Phase 1実績

- 100% テストパス (26/26)
- 367問の品質改善
- カバレッジ: 5% → 13%
- 再利用可能なツール作成

## Phase 2 目標

### 対象データ

次の優先順位で品質改善を実施:

#### 1. 残りの文法問題 (継続改善)
- **対象**: sentenceOrdering問題 (3,000+問)
- **現状**: 基本的な検証のみ
- **目標**: verbForm/fillInBlankと同等の品質基準
- **期待効果**: 文法カバレッジ 23.1% → 50%+

#### 2. Pronunciation/Accent問題 (新規)
- **対象**: 発音・アクセント問題 (2 files)
- **現状**: 未検証
- **目標**: 音声ファイル存在確認、IPA表記検証
- **期待効果**: カバレッジ 13% → 15%

#### 3. Vocabulary データ (品質強化)
- **対象**: 4,549エントリー
- **現状**: 基本検証済み
- **目標**: 更なる品質向上
  - 例文の自然さ検証
  - 品詞の一貫性チェック
  - 難易度の適切性確認
- **期待効果**: 学習効果の向上

## Phase 2 実装ステップ

### Step 1: sentenceOrdering品質改善 (優先度: 高)

**背景**: 
- 現在、sentenceOrderingは基本的なチェックのみ
- verbForm/fillInBlankと同等の品質基準が必要

**実施内容**:

1. **データ構造の理解**
   ```json
   {
     "id": "so-g1-u0-001",
     "words": ["I", "study", "English", "every", "day"],
     "correctOrder": "I study English every day.",
     "japanese": "私は毎日英語を勉強します。",
     "explanation": "主語 + 動詞 + 目的語の語順",
     "hint": "主語から始めよう"
   }
   ```

1. **品質基準の定義**
   - [ ] correctOrderが文法的に正しい
   - [ ] wordsに必要な単語が全て含まれている
   - [ ] wordsの組み合わせでcorrectOrderが作れる
   - [ ] explanationに語順のポイントが含まれている
   - [ ] japaneseがcorrectOrderと意味的に一致
   - [ ] hintが適切な方向性を示している

1. **テストの実装**
   ```typescript
   describe('sentenceOrdering品質検証', () => {
     it('words配列から正解文が構成できる', () => {
       // wordsの並び替えでcorrectOrderができることを確認
     });
     
     it('explanationに語順の説明が含まれている', () => {
       // 「主語」「動詞」「目的語」等の文法用語チェック
     });
   });
   ```

1. **データ改善スクリプト作成**
   - `scripts/improve-sentence-ordering-quality.py`
   - explanation自動改善
   - 3,000+問を処理

**期待される成果**:
- sentenceOrderingテスト: 0/10 → 10/10
- 改善問題数: 500+問
- 品質向上率: 15%+

### Step 2: Pronunciation/Accent検証 (優先度: 中)

**実施内容**:

1. **データファイルの確認**
   - pronunciation-questions.json
   - accent-questions.json

1. **品質基準の定義**
   - [ ] 音声ファイルが存在する (public/audio/)
   - [ ] IPA表記が正確
   - [ ] アクセント位置が正しい
   - [ ] 日本語訳が適切

1. **テストの実装**
   - 音声ファイル存在チェック
   - IPA表記の形式検証
   - アクセントマーカーの位置確認

**期待される成果**:
- カバレッジ: 13% → 15%
- 新規テスト: 15+個

### Step 3: Vocabulary品質強化 (優先度: 中)

**実施内容**:

1. **現状の再評価**
   - 既存テストのレビュー
   - 改善余地の特定

1. **追加品質基準**
   - [ ] 例文の自然さ (ネイティブチェック基準)
   - [ ] 品詞の一貫性 (名詞なら名詞形のみ)
   - [ ] 難易度の適切性 (学年相応)
   - [ ] 類義語の重複チェック

1. **改善スクリプト**
   - 例文の自動改善
   - 品詞の正規化
   - 難易度の再評価

**期待される成果**:
- 追加テスト: 10+個
- 改善エントリー: 200+個

## 実装スケジュール

### Week 1: sentenceOrdering (最優先)
- Day 1-2: データ構造分析、品質基準定義
- Day 3-4: テスト実装
- Day 5-6: 改善スクリプト作成
- Day 7: データ改善実行、検証

### Week 2: Pronunciation/Accent
- Day 8-9: データ調査、品質基準定義
- Day 10-11: テスト実装
- Day 12-13: データ改善
- Day 14: 検証、ドキュメント更新

### Week 3: Vocabulary強化
- Day 15-16: 現状評価、改善点特定
- Day 17-18: 追加テスト実装
- Day 19-20: 改善スクリプト作成
- Day 21: データ改善実行、検証

## 成功指標

### 定量的指標

| 指標 | Phase 1 | Phase 2目標 |
|------|---------|-------------|
| テストパス率 | 100% | 100% |
| カバレッジ | 13% | 25%+ |
| 検証済み問題数 | 19,949 | 30,000+ |
| 改善問題数 | 367 | 1,000+ |

### 定性的指標

- [ ] 品質原則の継続
- [ ] 自動化ツールの拡充
- [ ] ドキュメントの充実
- [ ] チーム内での品質意識向上

## リスクと対策

### リスク1: sentenceOrderingのデータ量
- **リスク**: 3,000+問の処理に時間がかかる
- **対策**: バッチ処理、並列化

### リスク2: 音声ファイルの管理
- **リスク**: 大量の音声ファイルのチェック
- **対策**: 自動スクリプトで効率化

### リスク3: 品質基準の維持
- **リスク**: Phase 2で基準が低下する可能性
- **対策**: CONTENT_QUALITY_PRINCIPLES.mdを厳守

## Phase 2完了後の展望

### Phase 3候補

1. **Reading Comprehension** (読解問題)
1. **Listening Comprehension** (リスニング問題)
1. **Writing Exercises** (ライティング課題)
1. **Speaking Practice** (スピーキング練習)

### 長期ビジョン

- **90%+ カバレッジ達成**
- **全データの品質保証**
- **AI支援学習機能の追加**
- **パーソナライズド学習パス**

## まとめ

Phase 2では、Phase 1で確立した品質原則を継続しながら:

1. **sentenceOrderingの品質改善** (最優先)
1. **新しいデータ型への対応** (Pronunciation/Accent)
1. **既存データの品質強化** (Vocabulary)

を実施し、**カバレッジ25%+**、**改善問題数1,000+**を目指します。

---

**開始準備完了**  
Phase 1の成功体験を活かし、引き続き**質を最優先**で進めます。
