# å“è³ªç®¡ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

**æœ€çµ‚æ›´æ–°**: 2025å¹´12æœˆ6æ—¥  
**å¯¾è±¡**: è‹±èªå­¦ç¿’ã‚¢ãƒ—ãƒª (nanashi8.github.io)

---

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
1. [ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹æˆ](#ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹æˆ)
1. [ãƒ†ã‚¹ãƒˆæˆ¦ç•¥](#ãƒ†ã‚¹ãƒˆæˆ¦ç•¥)
1. [ã‚·ã‚¹ãƒ†ãƒ å¥åº·è¨ºæ–­](#ã‚·ã‚¹ãƒ†ãƒ å¥åº·è¨ºæ–­) ğŸ†•
1. [Git Hooks](#git-hooks)
1. [CI/CD](#cicd)
1. [å“è³ªåŸºæº–](#å“è³ªåŸºæº–)
1. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## æ¦‚è¦

### ç›®çš„

ç ´å£Šçš„å¤‰æ›´ã‚’é˜²ãã€å®‰å®šã—ãŸã‚³ãƒ¼ãƒ‰å“è³ªã‚’ç¶­æŒã™ã‚‹ãŸã‚ã®è‡ªå‹•åŒ–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

### åŸå‰‡

- **è‡ªå‹•åŒ–å„ªå…ˆ**: æ‰‹å‹•ãƒã‚§ãƒƒã‚¯ã«ä¾å­˜ã—ãªã„
- **æ—©æœŸç™ºè¦‹**: ã‚³ãƒŸãƒƒãƒˆå‰ã«ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡º
- **æ®µéšçš„å®Ÿè¡Œ**: é«˜é€Ÿãƒã‚§ãƒƒã‚¯ â†’ å®Œå…¨ãƒ†ã‚¹ãƒˆã®é †ã§å®Ÿè¡Œ
- **æ˜ç¢ºãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: ã‚¨ãƒ©ãƒ¼åŸå› ã‚’å³åº§ã«ç‰¹å®š
- **å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹**: é€±æ¬¡ã®å¥åº·è¨ºæ–­ã§æŠ€è¡“çš„è² å‚µã‚’æ¤œå‡º ğŸ†•

### å°å…¥çµŒç·¯

**2025å¹´11æœˆ**: CSSãƒªãƒ•ã‚¡ã‚¯ã‚¿ã§ã‚¯ã‚¤ã‚ºæ©Ÿèƒ½ãŒç ´å£Š  
â†’ **å¯¾ç­–**: TypeScriptå‹ãƒã‚§ãƒƒã‚¯ + ESLint + Playwright + Git Hookså°å…¥  
â†’ **æˆæœ**: ç ´å£Šçš„å¤‰æ›´ã®äº‹å‰æ¤œå‡ºã«æˆåŠŸ

**2025å¹´12æœˆ**: ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹è‚¥å¤§åŒ–ã¨é‡è¤‡ã‚³ãƒ¼ãƒ‰ã®å¢—åŠ   
â†’ **å¯¾ç­–**: ã‚·ã‚¹ãƒ†ãƒ å¥åº·è¨ºæ–­ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å°å…¥  
â†’ **æˆæœ**: å‹å®šç¾©é‡è¤‡ã€å¤§ãã™ãã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã€localStorageä¸æ•´åˆã‚’è‡ªå‹•æ¤œå‡º

---

## ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹æˆ

### å…¨ä½“ãƒ•ãƒ­ãƒ¼

```
é–‹ç™ºä¸­
  â†“
ã‚³ãƒ¼ãƒ‰ç·¨é›†
  â†“
ä¿å­˜æ™‚: ESLintè‡ªå‹•å®Ÿè¡Œ (VS Code)
  â†“
git add
  â†“
git commit
  â†“
Pre-commit Hook ğŸ›¡ï¸
  â”œâ”€ TypeScriptå‹ãƒã‚§ãƒƒã‚¯ (5ç§’)
  â”œâ”€ CSS Lint (3ç§’)
  â””â”€ ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯ (2ç§’)
  â†“
ã‚³ãƒŸãƒƒãƒˆæˆåŠŸ
  â†“
git push
  â†“
GitHub Actions CI ğŸ¤–
  â”œâ”€ TypeScriptå‹ãƒã‚§ãƒƒã‚¯
  â”œâ”€ CSS Lint
  â”œâ”€ ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯
  â”œâ”€ Playwright E2Eãƒ†ã‚¹ãƒˆ
  â””â”€ ã‚·ã‚¹ãƒ†ãƒ å¥åº·è¨ºæ–­ (é€±æ¬¡) ğŸ†•
  â†“
å•é¡Œæ¤œå‡ºæ™‚
  â†“
GitHubã‚¤ã‚·ãƒ¥ãƒ¼è‡ªå‹•ä½œæˆ ğŸ†•
  â”œâ”€ ãƒ©ãƒ™ãƒ«: health-check, maintenance
  â”œâ”€ å„ªå…ˆåº¦ä»˜ã
  â””â”€ å¯¾å¿œãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
  â†“
ãƒ‡ãƒ—ãƒ­ã‚¤ (main branch)
```
  â†“
git add
  â†“
git commit
  â†“
Pre-commit Hook ğŸ›¡ï¸
  â”œâ”€ TypeScriptå‹ãƒã‚§ãƒƒã‚¯ (5ç§’)
  â”œâ”€ CSS Lint (3ç§’)
  â””â”€ ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯ (2ç§’)
  â†“
ã‚³ãƒŸãƒƒãƒˆæˆåŠŸ
  â†“
git push
  â†“
GitHub Actions CI ğŸ¤–
  â”œâ”€ TypeScriptå‹ãƒã‚§ãƒƒã‚¯
  â”œâ”€ CSS Lint
  â”œâ”€ ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯
  â””â”€ Playwright E2Eãƒ†ã‚¹ãƒˆ
  â†“
ãƒ‡ãƒ—ãƒ­ã‚¤ (main branch)
```

### å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°

| ãƒã‚§ãƒƒã‚¯ | ãƒ­ãƒ¼ã‚«ãƒ« (pre-commit) | GitHub Actions | é »åº¦ |
|---------|---------------------|----------------|------|
| TypeScriptå‹ãƒã‚§ãƒƒã‚¯ | âœ… (5ç§’) | âœ… | æ¯ã‚³ãƒŸãƒƒãƒˆ |
| CSS Lint | âœ… (3ç§’) | âœ… | æ¯ã‚³ãƒŸãƒƒãƒˆ |
| ãƒ“ãƒ«ãƒ‰ | âœ… (2ç§’) | âœ… | æ¯ã‚³ãƒŸãƒƒãƒˆ |
| Playwright E2E | âŒ (æ‰‹å‹•) | âœ… | PRæ™‚/ãƒ—ãƒƒã‚·ãƒ¥æ™‚ |
| ã‚·ã‚¹ãƒ†ãƒ å¥åº·è¨ºæ–­ ğŸ†• | âœ… (10ç§’) | âœ… | é€±æ¬¡/PRæ™‚ |

---

## ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### 1. TypeScriptå‹ãƒã‚§ãƒƒã‚¯

**ç›®çš„**: å‹ã‚¨ãƒ©ãƒ¼ã®æ—©æœŸæ¤œå‡º

```bash
# å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰
npm run typecheck

# å†…å®¹
tsc --noEmit
```

**æ¤œå‡ºå¯¾è±¡**:
- å‹ã®ä¸ä¸€è‡´
- æœªå®šç¾©å¤‰æ•°ã®å‚ç…§
- nullableãƒã‚§ãƒƒã‚¯æ¼ã‚Œ
- é–¢æ•°ã®å¼•æ•°/æˆ»ã‚Šå€¤ã®å‹ã‚¨ãƒ©ãƒ¼

**æˆæœ**:
- 2025å¹´12æœˆ2æ—¥æ™‚ç‚¹: **0ã‚¨ãƒ©ãƒ¼**
- å°å…¥å‰: 11ã‚¨ãƒ©ãƒ¼ â†’ æ®µéšçš„ä¿®æ­£ã§è§£æ±º

### 2. ESLint

**ç›®çš„**: ã‚³ãƒ¼ãƒ‰å“è³ªã¨React Hooksãƒ«ãƒ¼ãƒ«ã®æ¤œè¨¼

```bash
# å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰
npm run lint

# å†…å®¹
eslint .
```

**æ¤œå‡ºå¯¾è±¡**:
- React Hooksä¾å­˜é…åˆ—ã®ä¸å‚™
- useEffectç„¡é™ãƒ«ãƒ¼ãƒ—ãƒªã‚¹ã‚¯
- æœªä½¿ç”¨å¤‰æ•°
- ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„é•å

**ç¾çŠ¶**:
- 2025å¹´12æœˆ2æ—¥æ™‚ç‚¹: **56 problems** (warnings)
- ä¿®æ­£å¿…è¦é …ç›®:
  - `Date.now()` ã®ç´”ç²‹æ€§è­¦å‘Š
  - `setState` ã®useEffectå†…ä½¿ç”¨
  - Hookä¾å­˜é…åˆ—ã®ä¸è¶³

### 3. CSS Lint (Stylelint)

**ç›®çš„**: CSSå“è³ªã®æ¤œè¨¼

```bash
# å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰
npm run lint:css

# å†…å®¹
stylelint "src/**/*.css"
```

**è¨­å®š** (`.stylelintrc.json`):
```json
{
  "extends": "stylelint-config-standard",
  "rules": {
    "selector-class-pattern": null,
    "custom-property-pattern": null,
    "no-descending-specificity": null,
    "color-function-notation": "legacy"
  }
}
```

**æ¤œå‡ºå¯¾è±¡**:
- é‡è¤‡ã‚»ãƒ¬ã‚¯ã‚¿ï¼ˆè­¦å‘Šï¼‰
- ä¸æ­£ãªCSSæ§‹æ–‡
- è‰²è¡¨è¨˜ã®ä¸çµ±ä¸€
- ã‚»ãƒ¬ã‚¯ã‚¿ã®è©³ç´°åº¦å•é¡Œ

### 4. ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯

**ç›®çš„**: æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã®æˆåŠŸã‚’ä¿è¨¼

```bash
# å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰
npm run build

# å†…å®¹
vite build
```

**æ¤œå‡ºå¯¾è±¡**:
- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è§£æ±ºã‚¨ãƒ©ãƒ¼
- ãƒãƒ³ãƒ‰ãƒ«ã‚¨ãƒ©ãƒ¼
- ä¾å­˜é–¢ä¿‚ã®å•é¡Œ
- ãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰ã®æ¤œå‡º

**æˆæœ**:
- ãƒ“ãƒ«ãƒ‰æ™‚é–“: ç´„2ç§’
- ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º: 116KB (CSS)

### 5. Playwright E2Eãƒ†ã‚¹ãƒˆ

**ç›®çš„**: UIå‹•ä½œã®è‡ªå‹•æ¤œè¨¼

#### ãƒ†ã‚¹ãƒˆæ§‹æˆ

```
tests/
â”œâ”€â”€ smoke.spec.ts           # é«˜é€Ÿã‚¹ãƒ¢ãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆ (10ç§’)
â”‚   â”œâ”€ ã‚¢ãƒ—ãƒªèµ·å‹•ç¢ºèª
â”‚   â”œâ”€ ã‚¯ã‚¤ã‚ºé–‹å§‹ç¢ºèª
â”‚   â””â”€ åŸºæœ¬æ“ä½œç¢ºèª
â”‚
â””â”€â”€ visual-regression.spec.ts  # å®Œå…¨ãƒ†ã‚¹ãƒˆ (30ç§’)
    â”œâ”€ å…¨ç”»é¢ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
    â”œâ”€ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ç¢ºèª
    â””â”€ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå´©ã‚Œæ¤œå‡º
```

#### ã‚¹ãƒ¢ãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆ (smoke.spec.ts)

```typescript
test('ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã™ã‚‹', async ({ page }) => {
  await page.goto('/');
  await expect(page.locator('h1')).toBeVisible();
});

test('ã‚¯ã‚¤ã‚ºãŒé–‹å§‹ã§ãã‚‹', async ({ page }) => {
  await page.goto('/');
  await page.click('text=ã‚¯ã‚¤ã‚ºã‚’å§‹ã‚ã‚‹');
  await expect(page.locator('.quiz-question')).toBeVisible();
});
```

**å®Ÿè¡Œæ™‚é–“**: ç´„10ç§’  
**ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒ­ãƒ¼ã‚«ãƒ«ã§æ‰‹å‹•å®Ÿè¡Œã€CIã§è‡ªå‹•å®Ÿè¡Œ

#### Visual Regression ãƒ†ã‚¹ãƒˆ

```typescript
test('ã‚¯ã‚¤ã‚ºç”»é¢ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ', async ({ page }) => {
  await page.goto('/');
  await expect(page).toHaveScreenshot('quiz-home.png');
});
```

**å®Ÿè¡Œæ™‚é–“**: ç´„30ç§’  
**ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: CI ã®ã¿è‡ªå‹•å®Ÿè¡Œ

#### Smart Test (å·®åˆ†ãƒ™ãƒ¼ã‚¹å®Ÿè¡Œ)

**ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: `scripts/smart-test.sh`

```bash
#!/bin/bash
# Gitå·®åˆ†ã‹ã‚‰å½±éŸ¿ç¯„å›²ã‚’åˆ¤å®šã—ã€å¿…è¦ãªãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ

if git diff --name-only HEAD~1 | grep -q "src/components/QuizApp"; then
  echo "QuizAppå¤‰æ›´æ¤œå‡º â†’ å®Œå…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ"
  npm run test:e2e
else
  echo "è»½å¾®ãªå¤‰æ›´ â†’ ã‚¹ãƒ¢ãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆã®ã¿"
  npm run test:smoke
fi
```

**ä½¿ç”¨æ–¹æ³•**:
```bash
./scripts/smart-test.sh
```

---

## ã‚·ã‚¹ãƒ†ãƒ å¥åº·è¨ºæ–­

### æ¦‚è¦

ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®æŠ€è¡“çš„è² å‚µã‚’å®šæœŸçš„ã«æ¤œå‡ºã—ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®å¿…è¦æ€§ã‚’è‡ªå‹•é€šçŸ¥

### è¨ºæ–­é …ç›®

1. **localStorage ã‚­ãƒ¼ä¸€è²«æ€§**
   - å‘½åè¦å‰‡ã®çµ±ä¸€æ€§ãƒã‚§ãƒƒã‚¯
   - é‡è¤‡ã‚­ãƒ¼ã®æ¤œå‡º

1. **é‡è¤‡ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ/é–¢æ•°**
   - åŒåé–¢æ•°ã®è¤‡æ•°å®šç¾©æ¤œå‡º
   - ã‚³ãƒ”ãƒšã‚³ãƒ¼ãƒ‰ã®ç™ºè¦‹

1. **useEffect ä¾å­˜é…åˆ—**
   - exhaustive-depsè­¦å‘Šã®ç„¡åŠ¹åŒ–ç®‡æ‰€ã‚«ã‚¦ãƒ³ãƒˆ

1. **æœªä½¿ç”¨å¤‰æ•°**
   - `_` prefixå¤‰æ•°ã®éå‰°ä½¿ç”¨æ¤œå‡º

1. **CSSé‡è¤‡**
   - åŒä¸€ã‚¯ãƒ©ã‚¹åã®é‡è¤‡å®šç¾©æ¤œå‡º
   - ã‚»ãƒ¬ã‚¯ã‚¿ã®é‡è¤‡ã‚«ã‚¦ãƒ³ãƒˆ

1. **ãƒ‡ãƒãƒƒã‚°ã‚³ãƒ¼ãƒ‰æ®‹ç•™**
   - console.log/error/warn ã®æ®‹ç•™ãƒã‚§ãƒƒã‚¯
   - æœ¬ç•ªç’°å¢ƒã¸ã®æ··å…¥é˜²æ­¢

1. **å‹å®šç¾©é‡è¤‡**
   - interface/typeã®é‡è¤‡å®šç¾©æ¤œå‡º
   - types.tsã¸ã®é›†ç´„æ¨å¥¨

1. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºè‚¥å¤§åŒ–**
   - 1000è¡Œè¶…ã®ãƒ•ã‚¡ã‚¤ãƒ«æ¤œå‡º
   - åˆ†å‰²ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ¨å¥¨

1. **importæ–‡æ•´ç†**
   - æœªä½¿ç”¨importã®æ¤œå‡º

1. **ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚³ãƒ¼ãƒ‰**
    - å‰Šé™¤å¿˜ã‚Œã‚³ãƒ¼ãƒ‰ã®æ¤œå‡º

### å®Ÿè¡Œæ–¹æ³•

#### ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œ
```bash
npm run health-check
```

#### è‡ªå‹•å®Ÿè¡Œï¼ˆGitHub Actionsï¼‰

**ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«**: æ¯é€±æœˆæ›œæ—¥ 9:00 JST  
**ãƒˆãƒªã‚¬ãƒ¼**: PRãƒãƒ¼ã‚¸æ™‚ã€æ‰‹å‹•å®Ÿè¡Œ

**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: `.github/workflows/health-check.yml`

```yaml
on:
  schedule:
    - cron: '0 0 * * 1'  # æ¯é€±æœˆæ›œ UTC 0:00
  workflow_dispatch:     # æ‰‹å‹•å®Ÿè¡Œå¯èƒ½
  pull_request:
    branches: [ main ]
```

### è¨ºæ–­çµæœã®å‡¦ç†

#### å•é¡Œæ¤œå‡ºæ™‚

1. **GitHubã‚¤ã‚·ãƒ¥ãƒ¼è‡ªå‹•ä½œæˆ**
   - ãƒ©ãƒ™ãƒ«: `health-check`, `maintenance`, `automated`
   - ã‚¿ã‚¤ãƒˆãƒ«: ã€ŒğŸ¥ å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å¿…è¦: ã‚·ã‚¹ãƒ†ãƒ å¥åº·è¨ºæ–­ (æ—¥ä»˜)ã€
   - æœ¬æ–‡: è¨ºæ–­çµæœã€å„ªå…ˆåº¦ã€å¯¾å¿œãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

1. **ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆä¿å­˜**
   - è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆ: 30æ—¥é–“ä¿å­˜
   - å±¥æ­´ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°å¯èƒ½

1. **é€šçŸ¥**
   - ã‚¤ã‚·ãƒ¥ãƒ¼ä½œæˆã§ãƒãƒ¼ãƒ é€šçŸ¥
   - æ—¢å­˜ã‚¤ã‚·ãƒ¥ãƒ¼ãŒã‚ã‚‹å ´åˆã¯ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ 

#### å•é¡Œãªã—æ™‚

```
âœ… ã‚·ã‚¹ãƒ†ãƒ å¥åº·è¨ºæ–­å®Œäº†: å•é¡Œã¯æ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ
ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã¯è‰¯å¥½ãªçŠ¶æ…‹ã§ã™ ğŸ‰
```

### å„ªå…ˆåº¦ã‚¬ã‚¤ãƒ‰

| å„ªå…ˆåº¦ | å•é¡Œã®ç¨®é¡ | å¯¾å¿œæœŸé™ |
|-------|-----------|---------|
| ğŸ”´ é«˜ | å‹å®šç¾©é‡è¤‡ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ | å³åº§ã«å¯¾å¿œ |
| ğŸŸ¡ ä¸­ | ãƒ•ã‚¡ã‚¤ãƒ«è‚¥å¤§åŒ–ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ | 1-2é€±é–“ä»¥å†… |
| ğŸŸ¢ ä½ | å‘½åè¦å‰‡ã€ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ« | æ¬¡å›ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ |

### ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚µã‚¤ã‚¯ãƒ«

```
æ¯é€±æœˆæ›œ 9:00
   â†“
è‡ªå‹•è¨ºæ–­å®Ÿè¡Œ
   â†“
å•é¡Œæ¤œå‡ºï¼Ÿ
   â†“ YES
ã‚¤ã‚·ãƒ¥ãƒ¼ä½œæˆ/æ›´æ–°
   â†“
é–‹ç™ºè€…é€šçŸ¥
   â†“
å„ªå…ˆåº¦ç¢ºèª
   â†“
å¯¾å¿œå®Ÿæ–½
   â†“
å†è¨ºæ–­
   â†“
å•é¡Œè§£æ¶ˆç¢ºèª
   â†“
ã‚¤ã‚·ãƒ¥ãƒ¼ã‚¯ãƒ­ãƒ¼ã‚º
```

### è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [docs/quality/HEALTH_CHECK_REPORT.md](HEALTH_CHECK_REPORT.md)

**å†…å®¹**:
- æ¤œå‡ºã•ã‚ŒãŸå•é¡Œã®è©³ç´°
- å½±éŸ¿åº¦åˆ†æ
- æ¨å¥¨å¯¾å¿œç­–
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°è¨ˆç”»

---

## Git Hooks

### Huskyã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
npm install --save-dev husky
npx husky install
```

### Pre-commit Hook

**ãƒ•ã‚¡ã‚¤ãƒ«**: `.husky/pre-commit`

```bash
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Pre-commit ãƒã‚§ãƒƒã‚¯é–‹å§‹..."

# TypeScriptå‹ãƒã‚§ãƒƒã‚¯
echo "â³ TypeScriptå‹ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œä¸­..."
npm run typecheck
if [ $? -ne 0 ]; then
  echo "âŒ TypeScriptå‹ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™"
  exit 1
fi
echo "âœ… TypeScriptå‹ãƒã‚§ãƒƒã‚¯å®Œäº†"

# CSSãƒªãƒ³ãƒˆ
echo "â³ CSSãƒã‚§ãƒƒã‚¯å®Ÿè¡Œä¸­..."
npm run lint:css
if [ $? -ne 0 ]; then
  echo "âŒ CSSã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™"
  exit 1
fi
echo "âœ… CSSãƒã‚§ãƒƒã‚¯å®Œäº†"

# ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯
echo "â³ ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œä¸­..."
npm run build
if [ $? -ne 0 ]; then
  echo "âŒ ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™"
  exit 1
fi
echo "âœ… ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯å®Œäº†"

echo "âœ¨ ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ã«æˆåŠŸã—ã¾ã—ãŸ"
```

**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: `git commit` å®Ÿè¡Œæ™‚  
**æ‰€è¦æ™‚é–“**: ç´„10ç§’  
**å¤±æ•—æ™‚**: ã‚³ãƒŸãƒƒãƒˆãŒä¸­æ–­ã•ã‚Œã‚‹

### Pre-commit å®Ÿè¡Œä¾‹

```bash
$ git commit -m "feat: add new component"

ğŸ” Pre-commit ãƒã‚§ãƒƒã‚¯é–‹å§‹...
â³ TypeScriptå‹ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œä¸­...
âœ… TypeScriptå‹ãƒã‚§ãƒƒã‚¯å®Œäº†
â³ CSSãƒã‚§ãƒƒã‚¯å®Ÿè¡Œä¸­...
âœ… CSSãƒã‚§ãƒƒã‚¯å®Œäº†
â³ ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œä¸­...
âœ… ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯å®Œäº†
âœ¨ ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ã«æˆåŠŸã—ã¾ã—ãŸ

[main abc1234] feat: add new component
 2 files changed, 50 insertions(+)
```

---

## CI/CD

### GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

#### 1. ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯ (`.github/workflows/build.yml`)

```yaml
name: ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Node.js ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
        run: npm ci
      
      - name: TypeScriptå‹ãƒã‚§ãƒƒã‚¯
        run: npm run typecheck
      
      - name: ãƒ“ãƒ«ãƒ‰
        run: npm run build
```

#### 2. CSSãƒã‚§ãƒƒã‚¯ (`.github/workflows/css-lint.yml`)

```yaml
name: CSSå“è³ªãƒã‚§ãƒƒã‚¯

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  css-lint:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Node.js ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
        run: npm ci
      
      - name: CSSãƒªãƒ³ãƒˆ
        run: npm run lint:css
```

#### 3. E2Eãƒ†ã‚¹ãƒˆ (`.github/workflows/e2e.yml`) - ğŸ†• ä»Šå¾Œè¿½åŠ äºˆå®š

```yaml
name: E2Eãƒ†ã‚¹ãƒˆ

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Node.js ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
        run: npm ci
      
      - name: Playwright ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
        run: npx playwright install --with-deps
      
      - name: E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
        run: npm run test:e2e
      
      - name: ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: playwright-report
          path: playwright-report/
```

### ãƒãƒƒã‚¸è¡¨ç¤º

`README.md` ã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒã‚¸ã‚’è¿½åŠ :

```markdown
[![CSSå“è³ªãƒã‚§ãƒƒã‚¯](https://github.com/nanashi8/nanashi8.github.io/actions/workflows/css-lint.yml/badge.svg)](https://github.com/nanashi8/nanashi8.github.io/actions/workflows/css-lint.yml)
[![ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯](https://github.com/nanashi8/nanashi8.github.io/actions/workflows/build.yml/badge.svg)](https://github.com/nanashi8/nanashi8.github.io/actions/workflows/build.yml)
```

---

## å“è³ªåŸºæº–

### ã‚³ãƒŸãƒƒãƒˆå¯èƒ½æ¡ä»¶

âœ… ã™ã¹ã¦ã‚¯ãƒªã‚¢ã§åˆã‚ã¦ã‚³ãƒŸãƒƒãƒˆå¯èƒ½:

- [ ] TypeScriptå‹ã‚¨ãƒ©ãƒ¼: **0ä»¶**
- [ ] ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼: **0ä»¶**
- [ ] CSSãƒªãƒ³ãƒˆã‚¨ãƒ©ãƒ¼: **0ä»¶** (è­¦å‘Šã¯è¨±å®¹)
- [ ] Pre-commit Hook: **ã™ã¹ã¦æˆåŠŸ**

### æ¨å¥¨åŸºæº–

æœ›ã¾ã—ã„çŠ¶æ…‹ï¼ˆåŠªåŠ›ç›®æ¨™ï¼‰:

- [ ] ESLint warnings: **0ä»¶**
- [ ] E2Eãƒ†ã‚¹ãƒˆ: **ã™ã¹ã¦æˆåŠŸ**
- [ ] Visual Regression: **å·®åˆ†ãªã—**
- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º: **å‰å›æ¯”+10%ä»¥å†…**

### å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹

#### ç¾åœ¨ã®çŠ¶æ…‹ (2025-12-02)

| é …ç›® | ç¾åœ¨å€¤ | ç›®æ¨™å€¤ | çŠ¶æ…‹ |
|-----|-------|-------|------|
| TypeScriptã‚¨ãƒ©ãƒ¼ | 0 | 0 | âœ… |
| ESLint problems | 56 | 0 | âš ï¸ |
| CSSãƒªãƒ³ãƒˆã‚¨ãƒ©ãƒ¼ | 0 | 0 | âœ… |
| CSSç·è¡Œæ•° | 12,255 | - | - |
| CSSé‡è¤‡ãƒ«ãƒ¼ãƒ« | 0 | 0 | âœ… |
| ãƒ“ãƒ«ãƒ‰æ™‚é–“ | 2.4ç§’ | <5ç§’ | âœ… |
| CSSãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º | 116KB | <150KB | âœ… |

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Pre-commit HookãŒå®Ÿè¡Œã•ã‚Œãªã„

#### åŸå› 1: HuskyãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„

```bash
# è§£æ±ºæ–¹æ³•
npx husky install
```

#### åŸå› 2: å®Ÿè¡Œæ¨©é™ãŒãªã„

```bash
# è§£æ±ºæ–¹æ³•
chmod +x .husky/pre-commit
```

#### åŸå› 3: Gitè¨­å®šå•é¡Œ

```bash
# core.hooksPathç¢ºèª
git config core.hooksPath

# å‡ºåŠ›ä¾‹: .husky
# ä½•ã‚‚å‡ºåŠ›ã•ã‚Œãªã„å ´åˆ:
git config core.hooksPath .husky
```

### Pre-commit Hookã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ãŸã„å ´åˆ

**âš ï¸ ç·Šæ€¥æ™‚ã®ã¿ä½¿ç”¨**:

```bash
git commit --no-verify -m "emergency fix"
```

### TypeScriptå‹ãƒã‚§ãƒƒã‚¯ãŒé…ã„

#### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢

```bash
# node_moduleså‰Šé™¤ã—ã¦å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
rm -rf node_modules
npm install
```

#### tsconfigæœ€é©åŒ–

```json
{
  "compilerOptions": {
    "skipLibCheck": true,  // ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å‹ãƒã‚§ãƒƒã‚¯ã‚’ã‚¹ã‚­ãƒƒãƒ—
    "incremental": true     // ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ãƒ“ãƒ«ãƒ‰æœ‰åŠ¹åŒ–
  }
}
```

### CSS Lintã‚¨ãƒ©ãƒ¼ãŒè§£æ±ºã—ãªã„

#### å€‹åˆ¥ãƒ«ãƒ¼ãƒ«ç„¡åŠ¹åŒ–

```css
/* stylelint-disable-next-line selector-class-pattern */
.legacy-class-name {
  color: red;
}
```

#### ãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã‚’ç„¡åŠ¹åŒ–ï¼ˆæœ€çµ‚æ‰‹æ®µï¼‰

```css
/* stylelint-disable */
/* ... æ—¢å­˜CSS ... */
/* stylelint-enable */
```

### ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã™ã‚‹

#### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢

```bash
# Viteã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰Šé™¤
rm -rf node_modules/.vite

# distå‰Šé™¤
rm -rf dist

# å†ãƒ“ãƒ«ãƒ‰
npm run build
```

#### ä¾å­˜é–¢ä¿‚ã®å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
rm -rf node_modules package-lock.json
npm install
```

---

## ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### é–‹ç™ºé–‹å§‹æ™‚

- [ ] `npm install` ã§ä¾å­˜é–¢ä¿‚ã‚’æœ€æ–°åŒ–
- [ ] `npm run dev` ã§é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
- [ ] VS Code ESLintæ‹¡å¼µæ©Ÿèƒ½ãŒå‹•ä½œä¸­

### ã‚³ãƒŸãƒƒãƒˆå‰

- [ ] `npm run typecheck` ã§å‹ã‚¨ãƒ©ãƒ¼0ä»¶
- [ ] `npm run lint` ã§ç¢ºèªï¼ˆè­¦å‘Šã¯å¾Œã§å¯¾å‡¦ï¼‰
- [ ] `npm run build` ã§ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- [ ] Simple Browserã§ç›®è¦–ç¢ºèª

### ãƒ—ãƒƒã‚·ãƒ¥å‰

- [ ] ãƒ­ãƒ¼ã‚«ãƒ«ã§pre-commitãƒ•ãƒƒã‚¯æˆåŠŸ
- [ ] ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ˜ç¢º
- [ ] å¤§ããªå¤‰æ›´ã¯å°ã•ãã‚³ãƒŸãƒƒãƒˆåˆ†å‰²

### ãƒªãƒªãƒ¼ã‚¹å‰

- [ ] GitHub Actions ã™ã¹ã¦æˆåŠŸ
- [ ] E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ»æˆåŠŸ
- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºç¢ºèª
- [ ] æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã§å‹•ä½œç¢ºèª

---

## å‚è€ƒè³‡æ–™

- [Huskyå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://typicode.github.io/husky/)
- [Playwrightå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://playwright.dev/)
- [GitHub Actionså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.github.com/ja/actions)
- [Stylelintå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://stylelint.io/)

---

**æ”¹è¨‚å±¥æ­´**:
- 2025-12-02: åˆç‰ˆä½œæˆï¼ˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰å®Œäº†å¾Œï¼‰
