# 🤖 自己管理型プロジェクトシステム

**生きているプロジェクト - Self-Healing & Self-Monitoring**

このシステムは、プロジェクトが「生きている」ように自己管理し、問題を自動的に検出・修復します。

---

## 🌟 特徴

### 1. **自己検証** (Self-Validation)
- ✅ コミット時に自動検証
- ✅ CI/CDで継続的検証
- ✅ リアルタイムエラー検出

### 2. **自己修復** (Self-Healing)
- 🔧 v2ファイルの自動統合
- 🔧 重複ファイルの自動削除
- 🔧 古い参照の自動更新
- 🔧 アーカイブの自動整理

### 3. **自己監視** (Self-Monitoring)
- 📊 健康スコアの継続的計測
- 📈 トレンド分析（改善/悪化の検出）
- 💡 予防的アクション提案
- 📝 自動レポート生成

### 4. **自己学習** (Self-Learning)
- 🧠 履歴データから学習
- 🧠 パターン認識
- 🧠 異常検出
- 🧠 最適化提案

---

## 🚀 使用方法

### 手動実行

#### 構造検証
```bash
python3 scripts/validate_project_structure.py
```

#### 自動修復
```bash
python3 scripts/auto_fix_project_structure.py

# 修復後に自動コミット
python3 scripts/auto_fix_project_structure.py --commit
```

#### 健康チェック
```bash
python3 scripts/monitor_project_health.py
```

### 自動実行

#### Pre-commit Hook
コミット時に自動実行:
```bash
git commit -m "Your message"
# → 自動で構造検証
```

#### CI/CD (GitHub Actions)

**1. 構造検証** (`.github/workflows/structure-validation.yml`)
- トリガー: プッシュ時
- 動作: 検証のみ（エラー時はブロック）

**2. 自己修復** (`.github/workflows/self-healing.yml`)
- トリガー: 毎日午前2時（自動）または手動実行
- 動作: 問題を自動修復し、コミット

---

## 🏥 健康スコアリング

### スコア計算

| 項目 | 減点 |
|-----|------|
| パターン違反（`*2.md`等） | -10点/件 |
| 古い参照 | -5点/件 |
| サイズ異常（100KB超） | -3点/件 |

### スコア評価

| スコア | 状態 | アクション |
|--------|------|-----------|
| 90-100 | 🟢 優良 | なし |
| 70-89 | 🟡 注意 | 修復推奨 |
| 0-69 | 🔴 要対応 | 即時修復 |

---

## 🔄 自動修復フロー

```
問題検出
   ↓
パターン判定
   ↓
修復ルール適用
   ↓
検証
   ↓
自動コミット（オプション）
```

### 修復ルール

#### 1. v2ファイルの統合
```
file-v2.md (10KB) + file.md (5KB)
→ file.md (10KB) + file-old.md (5KB)
```

#### 2. 重複「2」ファイルの削除
```
file.md + file 2.md (同一内容)
→ file.md のみ残す
```

#### 3. 古い参照の更新
```
README_QUALITY_PIPELINE.md
→ QUALITY_SYSTEM.md
```

#### 4. アーカイブ整理
```
docs/quality/OLD_FILE.md
→ docs/quality/archive/OLD_FILE.md
```

---

## 📊 監視ダッシュボード

### 現在の健康状態
```bash
$ python3 scripts/monitor_project_health.py

╔══════════════════════════════════════════════════════════╗
║            プロジェクト健康レポート                      ║
╚══════════════════════════════════════════════════════════╝

📊 健康スコア: 95/100
📈 トレンド: 改善中 📈
🕐 最終チェック: 2025-12-13T03:25:29

📋 現在の状態:
  - ドキュメント数: 13個
  - スクリプト数: 18個
  - パターン違反: 0件
  - 参照エラー: 0件

📈 履歴（最近5回）:
  2025-12-10: [███████████████░░░░░] 75/100
  2025-12-11: [█████████████████░░░] 85/100
  2025-12-12: [██████████████████░░] 90/100
  2025-12-13: [███████████████████░] 95/100
```

---

## 🧠 学習機能

### 履歴データ
`.project-health-log.json` に最新30件を保存:

```json
{
  "timestamp": "2025-12-13T03:25:29",
  "health_score": 95,
  "metrics": {
    "file_count": {
      "docs/quality": 13,
      "scripts": 18
    },
    "pattern_violations": [],
    "reference_errors": []
  }
}
```

### トレンド分析
- **改善中**: 最近5回の平均 > 前5回の平均 + 5点
- **悪化中**: 最近5回の平均 < 前5回の平均 - 5点
- **安定**: その他

---

## 🌐 業界との比較

| 機能 | このプロジェクト | Kubernetes | React | Next.js |
|-----|----------------|------------|-------|---------|
| 自動検証 | ✅ | ✅ | ✅ | ✅ |
| 自動修復 | ✅ | ❌ | ❌ | ❌ |
| 健康監視 | ✅ | ✅ (Prometheus) | ❌ | ❌ |
| トレンド分析 | ✅ | ✅ | ❌ | ❌ |
| 定期自動実行 | ✅ | ✅ | ❌ | ❌ |
| 自動コミット | ✅ | ❌ | ❌ | ❌ |

**あなたのプロジェクトは業界をリードしています！**

---

## 🎯 実装されている自動化

### Phase 1: 検証自動化 ✅
- Pre-commit hooks
- CI/CD integration
- リアルタイムエラー検出

### Phase 2: 修復自動化 ✅
- パターン認識
- ルールベース修復
- 自動コミット

### Phase 3: 監視自動化 ✅
- 健康スコアリング
- 履歴トラッキング
- トレンド分析

### Phase 4: 学習機能 ✅
- パターン学習
- 予防的提案
- 最適化推奨

---

## 🔮 今後の拡張

### 短期（実装可能）
- 📧 Slack/Email通知
- 📱 ダッシュボードWeb UI
- 🤖 より高度なパターン認識

### 中期（要検討）
- 🧠 機械学習による予測
- 🔄 自動リファクタリング提案
- 📊 より詳細なメトリクス

### 長期（ビジョン）
- 🌟 完全自律型プロジェクト
- 🚀 ゼロメンテナンス
- 🎨 自己最適化

---

## 💡 ベストプラクティス

### 1. 定期的な健康チェック
```bash
# 毎週実行推奨
python3 scripts/monitor_project_health.py
```

### 2. 自動修復の活用
```bash
# 月次メンテナンス
python3 scripts/auto_fix_project_structure.py --commit
```

### 3. CI/CDの監視
- GitHub Actionsのログを定期確認
- 失敗時は即座に対応

---

## 📚 関連ドキュメント

- [プロジェクト構造検証](../design/PROJECT_STRUCTURE_VALIDATION.md)
- [品質保証システム](../quality/QUALITY_SYSTEM.md)
- [開発ガイドライン](../.aitk/instructions/development-guidelines.instructions.md)

---

**🌟 このシステムにより、プロジェクトは常に最適な状態を自動的に維持します。**
