---
title: ドキュメント整理計画（配線を切らない方式）
created: 2026-01-09
updated: 2026-01-09
status: implemented
tags: [documentation, organization, plan]
---

# ドキュメント整理計画（配線を切らない方式）

作成日: 2026-01-09  
方針: **既存ファイルは移動せず、運用ルールの明確化で段階的に改善**

---

## 基本方針

### 原則
1. **既存のファイル配置は維持**（リンク切れゼロ）
2. **新規ファイルの配置ルールを明確化**
3. **INDEX.md を自動生成化**（現状追従を容易に）
4. **段階的な改善**（優先度に応じて整理）

### 実施しないこと
- 既存ファイルの移動（リンク切れリスクあり）
- ディレクトリ構造の大規模変更
- 命名規則の強制的な統一

---

## 実施内容

### フェーズ 1: 運用ルールの明確化（即実施）

#### 1.1 docs/README.md の作成
**目的**: ドキュメント配置・運用の統一ルールを明文化

**内容**
- ディレクトリごとの役割定義
- 新規ファイルの配置先判断フロー
- 命名規則（推奨）
- Front Matter の必須項目
- リンク記法のベストプラクティス

#### 1.2 配置先判断フローチャート
```
新規ドキュメント作成時の判断フロー：

1. どのカテゴリ？
   - 仕様書 → specifications/
   - 実装レポート → reports/
   - 計画 → plans/
   - ガイドライン → guidelines/
   - 開発手順 → development/ または how-to/
   - 品質レポート → quality/
   - プロセス → processes/
   - メンテナンス → maintenance/

2. サブカテゴリは？
   - AI関連 → 該当ディレクトリ内にサブフォルダ（例: specifications/ai/）
   - 特定機能 → 該当ディレクトリ内にサブフォルダ（例: features/constellation/）
   - 文法/パッセージ → guidelines/grammar/ または guidelines/passage/

3. 古いドキュメント？
   - はい → archive/ 配下の対応ディレクトリ（例: archive/specifications/）
   - いいえ → 該当ディレクトリ直下

4. docs直下に置くのは？
   - INDEX.md（目次）
   - README.md（運用ルール）
   - ごく例外的な全体横断ドキュメント（要相談）
```

#### 1.3 命名規則（推奨）
**新規ファイル向け**
- 形式: `kebab-case.md`
- 日付付き: `feature-name-YYYY-MM-DD.md`
- 頭文字略語: `ai-`, `ui-`, `api-` など小文字推奨
- 例外: プロジェクト固有の大文字略語（`NEW_HORIZON` など）は許容

**既存ファイル**
- 現状の命名を維持（変更不要）
- 新規参照時のリンクは既存名をそのまま使用

---

### フェーズ 2: INDEX.md の自動生成化（1〜2週間以内）

#### 2.1 現状の問題
- INDEX.md が手動更新（最終更新: 2025-12-21）
- 記載ファイル数 301 ≠ 実際 459（乖離大）
- カテゴリ分類が実ディレクトリ構造と微妙にズレ

#### 2.2 自動生成スクリプトの作成
**ファイル名**: `scripts/generate-docs-index.ts`

**機能**
1. docs/ 配下を再帰的にスキャン
2. Front Matter からメタデータを抽出（status, tags, title など）
3. ディレクトリごとにファイル数を集計
4. カテゴリ別・タグ別の索引を生成
5. 参照数の多いファイルを自動検出（上位10件）
6. INDEX.md を自動更新

**実行タイミング**
- 手動実行: `npm run generate-index`
- CI/CD: コミット前 husky hook（任意）
- 定期実行: 週次 GitHub Actions（任意）

**メリット**
- 常に最新の状態を反映
- 手動メンテナンス不要
- ファイル数・構造変化を自動追従

#### 2.3 INDEX.md の構成案
```markdown
# ドキュメント総合目次

**総ファイル数**: 459（自動集計）
**最終更新**: 2026-01-09（自動生成）

## ディレクトリ構造

- specifications/ (38)
- plans/ (39)
- reports/ (34)
- development/ (34)
- quality/ (29)
- ...

## 重要ファイル（参照数順）

1. [integration-guide.md](ai-systems/integration-guide.md) - 22 参照
2. [PHASE1_2_COMPLETION_REPORT.md](PHASE1_2_COMPLETION_REPORT.md) - 8 参照
...

## タグ別索引

### ai (47 files)
- [integration-guide.md](ai-systems/integration-guide.md)
...

## ステータス別

### implemented (234 files)
...

### draft (45 files)
...
```

---

### フェーズ 3: 段階的な改善（3ヶ月以内）

#### 3.1 サブディレクトリの導入（任意）
**対象**: ファイル数が多いディレクトリ

**plans/ (39 files) → 細分化案**
```
plans/
  ai/              # AI関連計画（10件程度）
  features/        # 機能別計画（15件程度）
  roadmap/         # 長期計画（3件）
  archive/         # 完了済み計画（5件程度）
  [その他直下]     # 分類未定（6件程度）
```

**実施方法**
1. 新規サブディレクトリを作成
2. **新規ファイルのみ**サブディレクトリに配置
3. 既存ファイルは移動しない（段階的に自然減を待つ）
4. 必要に応じて「このファイルは plans/ai/ に移行しました」リダイレクトを追加

#### 3.2 重複役割ディレクトリの整理指針
**現状**: `quality/` と `reports/` で品質レポートが分散

**整理方針**（移動なし）
- **新規の品質レポート**: `quality/` に統一配置
- **既存の reports/ 内の品質ファイル**: そのまま維持
- **README による誘導**: 各ディレクトリの README に「品質レポートは quality/ を参照」と記載

#### 3.3 docs直下ファイルの扱い
**現状**: 23 ファイルが直下に散在

**方針**
- **既存ファイル**: そのまま維持（移動しない）
- **新規ファイル**: 原則としてサブディレクトリに配置
- **例外**: INDEX.md, README.md のみ直下を許可
- **非推奨マーク**: 直下ファイルの Front Matter に `deprecated: false` を追加し、将来の移行候補であることを明示

---

### フェーズ 4: アーカイブ化の推進（6ヶ月以内）

#### 4.1 古いドキュメントの特定
**基準**
- Front Matter の `status: archived` または `status: deprecated`
- 最終更新が 1 年以上前
- 参照数が 0（他ドキュメントからリンクされていない）

#### 4.2 アーカイブ化の手順
1. 対象ファイルを特定（自動スクリプト）
2. Front Matter に `status: archived` を追加
3. ファイル冒頭に警告を追加:
   ```markdown
   > ⚠️ **このドキュメントはアーカイブされています**  
   > 最終更新: YYYY-MM-DD  
   > 現在の情報は [新しいドキュメント](link) を参照してください
   ```
4. `archive/` 配下に移動（**参照数 0 の場合のみ**）

---

## 運用ルール

### 新規ドキュメント作成時
1. `docs/README.md` の配置先判断フローを参照
2. Front Matter を必ず追加（`scripts/add-frontmatter.ts` を使用可能）
3. 命名は `kebab-case.md` 推奨
4. 作成後、`npm run generate-index` を実行（INDEX.md 更新）

### 既存ドキュメント編集時
1. Front Matter の `updated` 日付を更新
2. 大きな変更の場合、`status` を更新（draft → review → implemented）
3. リンク切れがないか確認
4. 移動・削除は**原則禁止**（参照数を確認してから判断）

### 定期メンテナンス（月次推奨）
1. `npm run generate-index` で INDEX.md を更新
2. 参照数 0 のファイルを抽出（アーカイブ候補）
3. Front Matter の `updated` が古いファイルをレビュー
4. リンク切れチェック（`scripts/check-broken-links.ts` を作成予定）

---

## 期待される効果

### 短期（1ヶ月）
- ドキュメント配置の迷いが減る（README による明確化）
- INDEX.md が常に最新（自動生成化）
- 新規ファイルの品質向上（Front Matter 必須化）

### 中期（3ヶ月）
- サブディレクトリ導入で大規模ディレクトリの探索性向上
- 重複役割ディレクトリの自然な収束（新規ファイルを統一配置先へ）
- 古いドキュメントの可視化（アーカイブ候補の特定）

### 長期（6ヶ月）
- ドキュメント総数の適正化（アーカイブ化推進）
- 参照の多いファイルの明確化（INDEX.md の自動集計）
- 構造改善の自然な進行（移動なしで段階的に整理）

---

## 実装優先度

### P0（即実施）
- [ ] `docs/README.md` 作成
- [ ] 配置先判断フローの文書化
- [ ] Front Matter テンプレートの整備

### P1（1〜2週間以内）
- [ ] `scripts/generate-docs-index.ts` 作成
- [ ] INDEX.md 自動生成の初回実行
- [ ] npm scripts への追加（`npm run generate-index`）

### P2（1ヶ月以内）
- [ ] サブディレクトリ作成（plans/ai/, specifications/api/ など）
- [ ] 各ディレクトリの README 追加（役割説明）
- [ ] Front Matter 一括チェックスクリプト

### P3（3ヶ月以内）
- [ ] アーカイブ候補の自動抽出スクリプト
- [ ] リンク切れチェックスクリプト
- [ ] 定期メンテナンスの GitHub Actions 化

---

## 次のアクション

1. **P0 を即実施**: `docs/README.md` と Front Matter テンプレートを作成
2. **P1 を並行着手**: INDEX.md 自動生成スクリプトの開発
3. **段階的な導入**: 新規ファイルから新ルールを適用、既存ファイルは維持

---

## 補足: なぜ移動しないのか

### リスク回避
- リンク切れによる情報アクセス断絶
- 修正漏れによる混乱
- git blame の履歴追跡困難化

### 段階的改善のメリット
- 新規ファイルから徐々に改善
- 既存資産を尊重しつつ前進
- 失敗時の影響が局所的

### 自然な収束
- 古いファイルは参照されなくなり自然にアーカイブ候補へ
- 新しいファイルは統一ルールで配置
- 5年後には自然に整理された状態になる見込み
