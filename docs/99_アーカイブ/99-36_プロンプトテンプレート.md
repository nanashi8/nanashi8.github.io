# SimpleWord プロンプトテンプレート集

**対象**: GitHub Copilot / AIアシスタント  
**プロジェクト**: SimpleWord v2.0  
**最終更新**: 2025-10-25

このドキュメントは、SimpleWordの開発で頻繁に使用するプロンプトのテンプレート集です。コピー＆ペーストして使用してください。

---

## 目次

1. [機能追加](#機能追加)
2. [バグ修正](#バグ修正)
3. [リファクタリング](#リファクタリング)
4. [ドキュメント更新](#ドキュメント更新)
5. [テスト作成](#テスト作成)
6. [パフォーマンス改善](#パフォーマンス改善)
7. [UI/UX改善](#uiux改善)

---

## 機能追加

### 新しいUIコンポーネントの追加

```
SimpleWordプロジェクトに新しいUIコンポーネントを追加してください。

【要件】
- コンポーネント名: [コンポーネント名]
- 配置場所: QuizComponents/
- 目的: [目的を記述]
- 表示内容: [表示する内容]

【制約】
- SwiftUIで実装
- 日本語コメントで「何を」「なぜ」を記述
- Previewを必ず含める
- 既存のStyleGuide.swiftのスタイルを使用
- インデントはスペース4つ

【参考】
- docs/COMPREHENSIVE_SPECIFICATION.md の UI/UX仕様を参照
- 既存のQuizComponents/を参考にする
```

### 学習アルゴリズムの調整

```
AdaptiveSchedulerの優先度計算ロジックを調整してください。

【現状】
[現在のロジックの説明]

【変更内容】
[変更したい内容]

【期待される効果】
[この変更により期待される学習効果]

【制約】
- 既存の優先度要素（dueFactor, accFactor等）との整合性を保つ
- ロジック変更の理由を日本語コメントで明記
- バックワード互換性を維持
- ユニットテストを更新

【参考】
- Features/Study/Logic/AdaptiveScheduler.swift
- docs/COMPREHENSIVE_SPECIFICATION.md の学習アルゴリズムセクション
```

### 設定項目の追加

```
QuizSettingsに新しい設定項目を追加してください。

【追加する設定】
- 項目名: [設定項目名]
- データ型: [Bool/Int/String/etc]
- デフォルト値: [デフォルト値]
- 説明: [設定の目的と効果]

【実装箇所】
1. QuizSettingsModel にプロパティ追加
2. Codable の互換性を維持（decodeIfPresent使用）
3. QuizSettingsView.swift にUI要素追加
4. QuizView.swift で設定値を参照

【制約】
- 後方互換性を必ず維持
- デフォルト値を適切に設定
- UserDefaultsに永続化
- 日本語のラベルを付ける

【参考】
- Stores/QuizSettings.swift
- Views/QuizSettingsView.swift
- docs/仕様書/02_出題設定_仕様書.md
```

---

## バグ修正

### クラッシュバグの修正

```
SimpleWordで[場所]において[状況]でクラッシュが発生します。

【再現手順】
1. [手順1]
2. [手順2]
3. [クラッシュ発生]

【エラーメッセージ】
```
[エラーメッセージをここに貼り付け]
```

【期待される動作】
[本来あるべき動作]

【調査してほしいこと】
- クラッシュの原因特定
- 安全な修正方法の提案
- 同様の問題が他にないか確認

【制約】
- 既存の動作を壊さない
- エラーハンドリングを適切に行う
- 修正内容を日本語コメントで説明
```

### 表示バグの修正

```
[画面名]で[UI要素]の表示が正しくありません。

【現状】
[現在の表示状態を説明]

【期待される表示】
[本来あるべき表示]

【発生条件】
- デバイス: [iPhone 15 / iPad等]
- iOS: [15.0 / 16.0等]
- 再現率: [常に / 時々]

【参考】
- 該当ファイル: [ファイルパス]
- 関連する仕様書: [仕様書へのパス]
```

---

## リファクタリング

### コンポーネント分離

```
[ファイル名]が[行数]行と大きくなっているため、コンポーネントを分離してください。

【現状】
- ファイル: [ファイルパス]
- 現在の行数: [行数]
- 問題点: [可読性、保守性等の問題]

【分離したい部分】
1. [コンポーネント名1]: [責務]
2. [コンポーネント名2]: [責務]
3. [コンポーネント名3]: [責務]

【制約】
- 既存の動作を完全に維持
- 各コンポーネントは単一責任
- QuizComponents/に配置
- 日本語コメントで責務を明記

【手順】
1. 新しいコンポーネントファイルを作成
2. ロジックを移行
3. 元のファイルから参照
4. ビルド確認
5. 動作テスト
```

### ロジックの簡素化

```
[ファイル名]の[メソッド/関数名]が複雑になっているため、簡素化してください。

【現状】
[現在のロジックの説明]

【問題点】
- 可読性が低い
- テストしにくい
- 保守が困難

【期待される改善】
- ロジックを小さな関数に分割
- 命名を明確に
- コメントで意図を説明

【制約】
- 既存の動作を維持
- パフォーマンスを悪化させない
- 既存のテストが通ること
```

---

## ドキュメント更新

### 仕様書の更新

```
[機能名]の仕様書を現在の実装に合わせて更新してください。

【対象ドキュメント】
- [ドキュメントパス]

【更新内容】
1. [追加/変更された機能]
2. [削除された機能]
3. [変更されたパラメータ]

【確認してほしいこと】
- 実装との整合性
- コード例の正確性
- 図表の更新

【参考】
- 実装ファイル: [ファイルパス]
- 関連ドキュメント: [他のドキュメント]
```

### 包括的仕様書の更新

```
docs/COMPREHENSIVE_SPECIFICATION.mdを最新の状態に更新してください。

【更新が必要なセクション】
- [セクション名1]: [更新内容]
- [セクション名2]: [更新内容]

【追加が必要な情報】
- [新機能名]: [説明]

【確認事項】
- すべてのファイルパスが正確か
- コード例が最新か
- アーキテクチャ図が正確か
```

---

## テスト作成

### ユニットテストの追加

```
[クラス名/関数名]のユニットテストを作成してください。

【テスト対象】
- ファイル: [ファイルパス]
- クラス/関数: [名前]
- 責務: [何をテストするか]

【テストケース】
1. [正常系1]: [説明]
2. [正常系2]: [説明]
3. [異常系1]: [説明]
4. [境界値]: [説明]

【モック】
- [依存するクラス名]: Mockを作成

【期待される品質】
- カバレッジ80%以上
- 各テストケースは独立
- テスト名は説明的に
- 日本語コメントで意図を明記
```

### UIテストの追加

```
[画面名]のUIテストを作成してください。

【テストシナリオ】
1. [ユーザー操作1]
2. [ユーザー操作2]
3. [期待される結果]

【確認項目】
- 画面遷移が正しいか
- ボタンが正しく動作するか
- データが正しく表示されるか

【制約】
- XCUITestを使用
- テスト名は説明的に
- ウェイトを適切に設定
```

---

## パフォーマンス改善

### 読み込み速度の改善

```
[処理名]の実行速度を改善してください。

【現状】
- 処理内容: [説明]
- 現在の実行時間: [秒]
- データ量: [件数/サイズ]

【目標】
- 目標実行時間: [秒]

【調査してほしいこと】
- ボトルネックの特定
- 最適化の提案
- メモリ使用量への影響

【制約】
- 既存の動作を維持
- コードの可読性を保つ
- メモリリークを起こさない
```

### メモリ使用量の削減

```
[機能名]のメモリ使用量を削減してください。

【現状】
- 現在のメモリ使用量: [MB]
- 問題点: [説明]

【改善案を検討してほしい項目】
- キャッシュ戦略
- 不要なデータの保持
- 遅延ローディング

【制約】
- パフォーマンスを悪化させない
- ユーザー体験を損なわない
```

---

## UI/UX改善

### アニメーションの追加

```
[UI要素]にアニメーションを追加してください。

【要件】
- 対象: [要素名]
- タイミング: [いつアニメーションするか]
- アニメーション内容: [どう動くか]
- 所要時間: [秒]

【参考】
- 既存のアニメーション: QuizView.swiftの光るエフェクト
- アニメーションタイプ: spring / easeInOut / linear

【制約】
- iOS 15.0以降で動作すること
- パフォーマンスへの影響を最小限に
- アクセシビリティ設定を尊重
```

### レイアウトの改善

```
[画面名]のレイアウトを改善してください。

【現状の問題】
- [問題点1]
- [問題点2]

【改善要件】
- [要件1]
- [要件2]

【対応デバイス】
- iPhone SE (小画面)
- iPhone 15 (標準)
- iPhone 15 Pro Max (大画面)
- iPad

【制約】
- Dynamic Typeに対応
- 横向きでも適切に表示
- Safe Areaを考慮
```

---

## 汎用テンプレート

### 調査依頼

```
[トピック]について調査してください。

【背景】
[なぜこの調査が必要か]

【調査項目】
1. [項目1]
2. [項目2]
3. [項目3]

【期待する成果物】
- 調査結果のレポート
- 実装の提案（該当する場合）
- 参考資料のリスト

【参考】
- [関連ドキュメント]
- [関連コード]
```

### コードレビュー依頼

```
以下のコードをレビューしてください。

【コード】
```swift
[コードをここに貼り付け]
```

【レビュー観点】
- コーディング規約への準拠
- 非推奨構文の使用
- パフォーマンス
- セキュリティ
- テスト容易性
- 可読性・保守性

【参考】
- docs/CUSTOM_INSTRUCTIONS.md
- .copilot/deprecated-patterns.md
```

---

## プロンプト使用時のコツ

### 1. 文脈を明確にする

プロンプトの冒頭で、必ずプロジェクト名と参照すべきドキュメントを指定：

```
SimpleWordプロジェクトで作業します。
docs/COMPREHENSIVE_SPECIFICATION.mdを参照してください。
```

### 2. 具体的な制約を示す

コーディング規約や制約を明示：

```
【制約】
- インデントはスペース4つ
- 日本語コメントで意図を説明
- iOS 15.0以降で動作
- 非推奨構文を使用しない
```

### 3. 参考資料を指定

関連するファイルやドキュメントを明示：

```
【参考】
- Features/Study/Logic/AdaptiveScheduler.swift
- docs/COMPREHENSIVE_SPECIFICATION.md の学習アルゴリズムセクション
```

### 4. 期待する成果物を明確に

何を作成・変更してほしいかを明確に：

```
【期待する成果物】
- 新規ファイル: QuizComponents/NewComponent.swift
- 変更: QuizView.swift の該当部分
- 更新: docs/仕様書/01_クイズ機能_仕様書.md
```

### 5. 段階的に依頼する

大きな変更は段階的に：

```
フェーズ1: 調査と設計
フェーズ2: コア機能の実装
フェーズ3: UIの統合
フェーズ4: テストとドキュメント
```

---

## よくある質問

### Q: プロンプトが長すぎる場合は？

A: 重要な情報のみを残し、詳細は参考資料へのリンクで対応：

```
詳細は docs/COMPREHENSIVE_SPECIFICATION.md のセクション X.X を参照
```

### Q: AIの提案が期待と違う場合は？

A: より具体的な制約や例を追加：

```
【期待する実装例】
```swift
[期待するコードの例]
```

このようなコードを生成してください。
```

### Q: 複数のファイルにまたがる変更は？

A: ファイルごとに分けて依頼：

```
【ファイル1】
[変更内容1]

【ファイル2】
[変更内容2]

それぞれのファイルを順番に変更してください。
```

---

## まとめ

これらのプロンプトテンプレートを活用することで、AIとの協働作業を効率化できます。

### 使用時のベストプラクティス

1. **テンプレートをカスタマイズ**: プロジェクトに合わせて調整
2. **文脈を常に提供**: プロジェクト名と参考資料を明示
3. **具体的に依頼**: 曖昧な表現を避ける
4. **段階的に進める**: 大きな変更は小さなステップに分割
5. **確認を怠らない**: AIの出力を必ずレビュー

---

**最終更新**: 2025-10-25  
**バージョン**: 2.0
