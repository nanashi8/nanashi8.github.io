#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
CSV漢字表記修正スクリプト
簡単な漢字をひらがなで表記している箇所を修正します
"""

import re
import sys

def fix_csv_file(filepath):
    """CSVファイルの簡単な漢字表記を修正"""
    
    # 読み込み
    with open(filepath, 'r', encoding='utf-8') as f:
        content = f.read()
    
    # 修正マップ（簡単な漢字をひらがなで書いている箇所）
    replacements = {
        # 動物（カタカナ表記が適切）
        ',りんご,': ',リンゴ,',
        ',とり,': ',鳥,',
        ',ねこ,': ',猫,',
        ',いぬ,': ',犬,',
        ',ねずみ,': ',ネズミ,',
        ',うさぎ,': ',ウサギ,',
        ',あひる,': ',アヒル,',
        ',かえる,': ',カエル,',
        ',わし,': ',ワシ,',
        ',くじら,': ',クジラ,',
        ',さかな,': ',魚,',
        ',にわとり': ',ニワトリ',
        ',うし,': ',牛,',
        ',ぶた,': ',ブタ,',
        ',うま,': ',馬,',
        ',はち,': ',ハチ,',
        ',あり,': ',アリ,',
        
        # 植物
        ',き,': ',木,',
        ',はな,': ',花,',
        ',は,': ',葉,',
        ',くさ,': ',草,',
        
        # 食べ物
        ',くだもの,': ',果物,',
        ',やさい,': ',野菜,',
        ',ごはん': ',ご飯',
        ',にく,': ',肉,',
        ',たまご,': ',卵,',
        ',ぎゅうにゅう': ',牛乳',
        ',みず,': ',水,',
        ',おちゃ': ',お茶',
        ',あさごはん': ',朝ご飯',
        ',ひるごはん': ',昼ご飯',
        ',ゆうごはん': ',夕ご飯',
        
        # 学校・日常
        ',がっこう': ',学校',
        ',せんせい': ',先生',
        ',がくせい': ',学生',
        ',ほん,': ',本,',
        ',ぺん': ',ペン',
        ',えんぴつ': ',鉛筆',
        ',つくえ': ',机,',
        ',いす,': ',椅子,',
        ',へや,': ',部屋,',
        ',いえ,': ',家,',
        ',くるま': ',車',
        ',でんしゃ': ',電車',
        ',ひこうき': ',飛行機',
        ',くうこう': ',空港',
        ',きっぷ': ',切符',
        ',ちず,': ',地図,',
        ',まち,': ',町,',
        ',むら,': ',村,',
        ',いちば': ',市場',
        ',みせ,': ',店,',
        ',ぎんこう': ',銀行',
        ',びょういん': ',病院',
        ',けいさつ': ',警察',
        ',しょうぼうし': ',消防士',
        ',でんわ': ',電話',
        ',おんがく': ',音楽',
        ',えいが': ',映画',
        ',としょかん': ',図書館',
        ',ともだち': ',友達',
        ',かぞく': ',家族',
        ',おかあさん': ',お母さん',
        ',おとうさん': ',お父さん',
        ',むすこ': ',息子',
        ',しまい': ',姉妹',
        ',きょうだい': ',兄弟',
        
        # 形容詞・感情
        ',しあわせ': ',幸せ',
        ',かなしい': ',悲しい',
        ',おこる': ',怒る',
        ',さむい': ',寒い',
        ',あつい': ',暑い',
        ',あたたかい': ',温かい',
        ',すずしい': ',涼しい',
        
        # 季節・自然
        ',なつ,': ',夏,',
        ',はる,': ',春,',
        ',あき,': ',秋,',
        ',ふゆ': ',冬',
        ',あめ,': ',雨,',
        ',ゆき,': ',雪,',
        ',たいよう': ',太陽',
        ',つき,': ',月,',
        ',ほし,': ',星,',
        ',ひかり': ',光',
        ',くらい': ',暗い',
        
        # 動詞
        ',あける': ',開ける',
        ',しめる': ',閉める',
        ',はじめる': ',始める',
        ',おえる': ',終える',
        ',つかう': ',使う',
        ',つくる': ',作る',
        ',もつ': ',持つ',
        ',える': ',得る',
        ',みる,': ',見る,',
        ',きく': ',聞く',
        ',いう': ',言う',
        ',はなす': ',話す',
        ',かく': ',書く',
        ',よむ': ',読む',
        ',まなぶ': ',学ぶ',
        ',かんがえる': ',考える',
        ',しっている': ',知っている',
        ',すきである': ',好きである',
        ',あいする': ',愛する',
        ',ほしい': ',欲しい',
        ',ひつようである': ',必要である',
        
        # その他、説明文中の簡単な漢字
        '（りんご）': '（リンゴ）',
        '（子猫）': '（子猫）',
        '（子犬）': '（子犬）',
        '果物（りんご': '果物（リンゴ',
        'ひな;': 'ヒナ;',
        'ひな鳥': 'ヒナ鳥',
        'おたまじゃくし': 'オタマジャクシ',
        'がちょう': 'ガチョウ',
        'がんもの': '雁もの',
        'はちみつ': 'ハチミツ',
        'にんじん': 'ニンジン',
        'かご': 'カゴ',
        'かわいい': '可愛い',
        'ひとりで': '一人で',
        'さびしい': '寂しい',
    }
    
    # 修正を適用
    for old, new in replacements.items():
        content = content.replace(old, new)
    
    # 書き込み
    with open(filepath, 'w', encoding='utf-8') as f:
        f.write(content)
    
    print(f"修正完了: {filepath}")

if __name__ == '__main__':
    if len(sys.argv) < 2:
        print("使用法: python fix_csv.py <CSVファイルパス>")
        sys.exit(1)
    
    for filepath in sys.argv[1:]:
        fix_csv_file(filepath)
