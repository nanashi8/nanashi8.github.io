# å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Ÿç¾æ–¹ç­–

**ä½œæˆæ—¥**: 2025å¹´10æœˆ19æ—¥  
**å¯¾è±¡**: QuizView.swift (1,100è¡Œ) ã®å‡ºé¡Œãƒ­ã‚¸ãƒƒã‚¯åˆ†é›¢  
**ç›®çš„**: å®‰å…¨ã‹ã¤ç¢ºå®Ÿã«å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’å®Ÿç¾ã™ã‚‹

---

## ç›®æ¬¡

1. [å‰ææ¡ä»¶ã®æ•´å‚™](#å‰ææ¡ä»¶ã®æ•´å‚™)
2. [ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ‰‹é †æ›¸](#ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ‰‹é †æ›¸)
3. [AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‘ã‘ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ](#aiã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‘ã‘ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ)
4. [ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ](#ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ)
5. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## å‰ææ¡ä»¶ã®æ•´å‚™

ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’é–‹å§‹ã™ã‚‹å‰ã«ã€ä»¥ä¸‹ã‚’å¿…ãšæ•´å‚™ã™ã‚‹ã“ã¨ã€‚

### 1. è‡ªå‹•ãƒ†ã‚¹ãƒˆã®ä½œæˆ

**ç›®çš„**: ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ï¼ˆæ—¢å­˜æ©Ÿèƒ½ã®ç ´å£Šï¼‰ã‚’æ—©æœŸæ¤œå‡ºã™ã‚‹

**å®Ÿæ–½å†…å®¹**:

```swift
// SimpleWordTests/QuizViewTests.swift
import XCTest
@testable import SimpleWord

final class QuizViewTests: XCTestCase {
    
    // ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
    var testCSVData: [QuestionItem]!
    var quizSettings: QuizSettings!
    var scoreStore: ScoreStore!
    var wordScoreStore: WordScoreStore!
    var currentCSV: CurrentCSV!
    
    override func setUp() {
        super.setUp()
        
        // ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®åˆæœŸåŒ–
        testCSVData = [
            QuestionItem(
                id: "1",
                question: "apple",
                answer: "ã‚Šã‚“ã”",
                category: "æœç‰©",
                relatedWordsCSV: "fruit;orange",
                relatedFieldsCSV: "é£Ÿã¹ç‰©"
            ),
            QuestionItem(
                id: "2",
                question: "cat",
                answer: "çŒ«",
                category: "å‹•ç‰©",
                relatedWordsCSV: "dog;animal",
                relatedFieldsCSV: "ãƒšãƒƒãƒˆ"
            )
        ]
        
        quizSettings = QuizSettings()
        scoreStore = ScoreStore()
        wordScoreStore = WordScoreStore()
        currentCSV = CurrentCSV()
        currentCSV.items = testCSVData
    }
    
    // åŸºæœ¬çš„ãªå‡ºé¡Œæ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
    func testQuizStartsWithFirstQuestion() throws {
        // Given: ã‚¯ã‚¤ã‚ºãŒé–‹å§‹ã•ã‚Œã‚‹å‰
        XCTAssertNil(currentCSV.currentQuestionItem)
        
        // When: ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹
        // (QuizView ã® start() ãƒ­ã‚¸ãƒƒã‚¯ã‚’æŠ½å‡ºã—ãŸã‚¯ãƒ©ã‚¹ã§ãƒ†ã‚¹ãƒˆ)
        
        // Then: æœ€åˆã®å•é¡ŒãŒå‡ºé¡Œã•ã‚Œã‚‹
        XCTAssertNotNil(currentCSV.currentQuestionItem)
    }
    
    // æ­£è§£æ™‚ã®ã‚¹ã‚³ã‚¢æ›´æ–°ãƒ†ã‚¹ãƒˆ
    func testCorrectAnswerUpdatesScore() throws {
        // Given: å•é¡ŒãŒå‡ºé¡Œã•ã‚Œã¦ã„ã‚‹
        let questionID = "1"
        
        // When: æ­£è§£ã‚’é¸æŠ
        // (å›ç­”å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè¡Œ)
        
        // Then: ã‚¹ã‚³ã‚¢ãŒæ›´æ–°ã•ã‚Œã‚‹
        // XCTAssertEqual(scoreStore.passedCount, 1)
    }
    
    // é¸æŠè‚¢ç”Ÿæˆã®ãƒ†ã‚¹ãƒˆ
    func testGeneratesCorrectNumberOfChoices() throws {
        // Given: 4æŠå•é¡Œã®è¨­å®š
        quizSettings.numberOfChoices = 4
        
        // When: é¸æŠè‚¢ã‚’ç”Ÿæˆ
        // (é¸æŠè‚¢ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè¡Œ)
        
        // Then: 4ã¤ã®é¸æŠè‚¢ãŒç”Ÿæˆã•ã‚Œã‚‹
        // XCTAssertEqual(choices.count, 4)
    }
}
```

**ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**:
- [ ] QuizView ã®ä¸»è¦æ©Ÿèƒ½ã‚’ã‚«ãƒãƒ¼ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ä½œæˆ
- [ ] ãƒ†ã‚¹ãƒˆãŒ greenï¼ˆæˆåŠŸï¼‰ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] CI/CD ã§ãƒ†ã‚¹ãƒˆãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«è¨­å®š

---

### 2. Git ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ç¢ºç«‹

**ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥**:

```bash
# ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
git checkout -b refactor/quiz-logic-extraction

# å„ã‚¹ãƒ†ãƒƒãƒ—ã§å°ã•ãã‚³ãƒŸãƒƒãƒˆ
git add SimpleWord/QuizEngine.swift
git commit -m "refactor: Extract QuizEngine class (Step 1/10)"

# ãƒ“ãƒ«ãƒ‰ï¼†ãƒ†ã‚¹ãƒˆæˆåŠŸã‚’ç¢ºèªã—ã¦ã‹ã‚‰æ¬¡ã¸
xcodebuild test -scheme SimpleWord
```

**ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„**:

```
refactor: [Step X/Y] <å¤‰æ›´å†…å®¹>

- è©³ç´°1
- è©³ç´°2

ãƒ“ãƒ«ãƒ‰: âœ… æˆåŠŸ
ãƒ†ã‚¹ãƒˆ: âœ… å…¨ã¦é€šé
å‹•ä½œç¢ºèª: âœ… UIæ­£å¸¸
```

**ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**:
- [ ] feature ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
- [ ] å„ã‚¹ãƒ†ãƒƒãƒ—ã§å¿…ãšã‚³ãƒŸãƒƒãƒˆ
- [ ] ã‚³ãƒŸãƒƒãƒˆå‰ã«ãƒ“ãƒ«ãƒ‰ï¼†ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
- [ ] ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«çµæœã‚’è¨˜è¼‰

---

### 3. ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—ã®ä½œæˆ

**QuizView ã®ä¾å­˜é–¢ä¿‚ã‚’å¯è¦–åŒ–**:

```
QuizView
â”œâ”€â”€ @EnvironmentObject
â”‚   â”œâ”€â”€ QuizSettings (å‡ºé¡Œè¨­å®š)
â”‚   â”œâ”€â”€ ScoreStore (ã‚¹ã‚³ã‚¢ç®¡ç†)
â”‚   â”œâ”€â”€ WordScoreStore (å˜èªåˆ¥ã‚¹ã‚³ã‚¢)
â”‚   â””â”€â”€ CurrentCSV (CSV ãƒ‡ãƒ¼ã‚¿)
â”œâ”€â”€ å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ QuestionCardView (å•é¡Œè¡¨ç¤º)
â”‚   â”œâ”€â”€ ChoiceCardView (é¸æŠè‚¢è¡¨ç¤º) - å­˜åœ¨ã—ãªã„å¯èƒ½æ€§
â”‚   â”œâ”€â”€ DontKnowCardView (åˆ†ã‹ã‚‰ãªã„ã‚«ãƒ¼ãƒ‰)
â”‚   â””â”€â”€ QuizStatisticsView (çµ±è¨ˆè¡¨ç¤º)
â”œâ”€â”€ å†…éƒ¨çŠ¶æ…‹ (@State)
â”‚   â”œâ”€â”€ currentQuestion: QuestionItem?
â”‚   â”œâ”€â”€ choices: [Choice]
â”‚   â”œâ”€â”€ selectedChoiceID: String?
â”‚   â”œâ”€â”€ isAnswered: Bool
â”‚   â”œâ”€â”€ isCorrect: Bool
â”‚   â””â”€â”€ ... (ä»–30å€‹ä»¥ä¸Š)
â””â”€â”€ ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰
    â”œâ”€â”€ start() - ã‚¯ã‚¤ã‚ºé–‹å§‹
    â”œâ”€â”€ selectChoice() - å›ç­”å‡¦ç†
    â”œâ”€â”€ nextQuestion() - æ¬¡ã®å•é¡Œ
    â”œâ”€â”€ giveUp() - åˆ†ã‹ã‚‰ãªã„
    â””â”€â”€ ... (ä»–10å€‹ä»¥ä¸Š)
```

**ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**:
- [ ] ã™ã¹ã¦ã® @EnvironmentObject ã‚’åˆ—æŒ™
- [ ] ã™ã¹ã¦ã® @State å¤‰æ•°ã‚’åˆ—æŒ™
- [ ] ã™ã¹ã¦ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ—æŒ™
- [ ] ã™ã¹ã¦ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨è²¬å‹™ã‚’åˆ—æŒ™

---

### 4. Xcode ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã®è‡ªå‹•åŒ–

**æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®‰å…¨ã«è¿½åŠ ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**:

```bash
#!/bin/bash
# add_file_to_xcode.sh
# ä½¿ã„æ–¹: ./add_file_to_xcode.sh SimpleWord/QuizEngine.swift

FILE_PATH="$1"
PROJECT_FILE="SimpleWord.xcodeproj/project.pbxproj"

# Xcode ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
if ! command -v xcodebuild &> /dev/null; then
    echo "Error: Xcode is not installed"
    exit 1
fi

# ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
if [ ! -f "$FILE_PATH" ]; then
    echo "Error: File not found: $FILE_PATH"
    exit 1
fi

# Xcode ã‚’ä½¿ã£ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ï¼ˆGUIãªã—ã§ï¼‰
# æ³¨: ã“ã‚Œã¯æ‰‹å‹•ã§ Xcode ã‚’é–‹ã„ã¦è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
echo "Warning: ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ Xcode ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æ‰‹å‹•ã§è¿½åŠ ã—ã¦ãã ã•ã„"
echo "1. Xcode ã‚’é–‹ã"
echo "2. File > Add Files to 'SimpleWord'..."
echo "3. $FILE_PATH ã‚’é¸æŠ"
echo "4. 'Copy items if needed' ã®ãƒã‚§ãƒƒã‚¯ã‚’å¤–ã™"
echo "5. Target 'SimpleWord' ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹"
echo "6. Add ã‚’ã‚¯ãƒªãƒƒã‚¯"

# ä»£æ›¿æ¡ˆ: ruby ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§è‡ªå‹•è¿½åŠ 
# gem install xcodeproj ãŒå¿…è¦
ruby << RUBY
require 'xcodeproj'
project = Xcodeproj::Project.open('SimpleWord.xcodeproj')
target = project.targets.first
file_ref = project.new_file('$FILE_PATH')
target.add_file_references([file_ref])
project.save
RUBY

echo "ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ ã—ã¾ã—ãŸ: $FILE_PATH"
```

**ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**:
- [ ] ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [ ] xcodeproj gem ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (`gem install xcodeproj`)
- [ ] æ‰‹å‹•è¿½åŠ ã®æ‰‹é †ã‚’æ–‡æ›¸åŒ–

---

## ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ‰‹é †æ›¸

### æ¦‚è¦

QuizView (1,100è¡Œ) ã‹ã‚‰å‡ºé¡Œãƒ­ã‚¸ãƒƒã‚¯ã‚’æŠ½å‡ºã—ã€ä»¥ä¸‹ã®æ§‹é€ ã«åˆ†é›¢ã™ã‚‹ï¼š

```
SimpleWord/
â”œâ”€â”€ Features/
â”‚   â””â”€â”€ Quiz/
â”‚       â”œâ”€â”€ QuizEngine.swift (æ–°è¦: å‡ºé¡Œç®¡ç†ã®ä¸­å¿ƒ)
â”‚       â”œâ”€â”€ QuestionSelector.swift (æ–°è¦: é¸æŠè‚¢ç”Ÿæˆ)
â”‚       â”œâ”€â”€ ScoreUpdater.swift (æ–°è¦: æ¡ç‚¹ãƒ»è¨˜éŒ²)
â”‚       â””â”€â”€ Views/
â”‚           â””â”€â”€ QuizView.swift (ç°¡ç´ åŒ–: UIè¡¨ç¤ºã®ã¿)
```

**é‡è¦**: å„ã‚¹ãƒ†ãƒƒãƒ—ã§å¿…ãšä»¥ä¸‹ã‚’å®Ÿè¡Œ

1. âœ… ãƒ“ãƒ«ãƒ‰æˆåŠŸã‚’ç¢ºèª
2. âœ… ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆgreen ã‚’ç¶­æŒï¼‰
3. âœ… å®Ÿæ©Ÿãƒ»ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§å‹•ä½œç¢ºèª
4. âœ… Git ã‚³ãƒŸãƒƒãƒˆ

å¤±æ•—ã—ãŸã‚‰ã™ãã« `git reset --hard HEAD` ã§ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã€‚

---

### Phase 1: åŸºç›¤æº–å‚™ï¼ˆæ‰€è¦æ™‚é–“: 1-2æ™‚é–“ï¼‰

#### Step 1.1: ãƒ†ã‚¹ãƒˆã®ä½œæˆ

```bash
# ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
touch SimpleWordTests/QuizViewTests.swift

# ä¸Šè¨˜ã®ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè£…

# ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
xcodebuild test -scheme SimpleWord -destination 'platform=iOS Simulator,name=iPhone 17'

# âœ… ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ: ãƒ†ã‚¹ãƒˆãŒå…¨ã¦ green
```

**ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¡ä»¶**: ãƒ†ã‚¹ãƒˆãŒ red ã®å ´åˆã¯åŸå› ã‚’ä¿®æ­£ã—ã¦ã‹ã‚‰æ¬¡ã¸

#### Step 1.2: Git ãƒ–ãƒ©ãƒ³ãƒä½œæˆ

```bash
# ç¾åœ¨ã®çŠ¶æ…‹ã‚’ã‚³ãƒŸãƒƒãƒˆ
git add -A
git commit -m "chore: Prepare for refactoring - add tests"

# ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
git checkout -b refactor/quiz-logic-extraction

# âœ… ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ: ãƒ–ãƒ©ãƒ³ãƒãŒä½œæˆã•ã‚ŒãŸ
git branch --show-current
```

#### Step 1.3: ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—ä½œæˆ

```bash
# ãƒãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
touch å‚è€ƒè³‡æ–™/QuizViewä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—.md

# QuizView ã‚’åˆ†æã—ã¦ãƒãƒƒãƒ—ã‚’ä½œæˆï¼ˆæ‰‹å‹•ï¼‰
# - ã™ã¹ã¦ã® @State å¤‰æ•°ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—
# - ã™ã¹ã¦ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—
# - ä¾å­˜ã™ã‚‹ Store ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—

# âœ… ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ: ãƒãƒƒãƒ—ãŒå®Œæˆ
```

---

### Phase 2: QuizEngine ã®æŠ½å‡ºï¼ˆæ‰€è¦æ™‚é–“: 2-3æ™‚é–“ï¼‰

#### Step 2.1: QuizEngine ã‚¯ãƒ©ã‚¹ã®ã‚¹ã‚±ãƒ«ãƒˆãƒ³ä½œæˆ

**ç›®çš„**: æœ€å°é™ã® QuizEngine ã‚’ä½œæˆã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ ã™ã‚‹

```bash
# ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
mkdir -p SimpleWord/Features/Quiz
touch SimpleWord/Features/Quiz/QuizEngine.swift
```

**ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹** (`QuizEngine.swift`):

```swift
// SimpleWord/Features/Quiz/QuizEngine.swift

import Foundation
import Combine

/// QuizView ã‹ã‚‰å‡ºé¡Œãƒ­ã‚¸ãƒƒã‚¯ã‚’æŠ½å‡ºã—ãŸã‚¨ãƒ³ã‚¸ãƒ³ã‚¯ãƒ©ã‚¹
/// Phase 2.1: æœ€å°é™ã®ã‚¹ã‚±ãƒ«ãƒˆãƒ³å®Ÿè£…
final class QuizEngine: ObservableObject {
    
    // ä¾å­˜ã™ã‚‹ Storeï¼ˆå¾Œã§æ³¨å…¥ï¼‰
    private let quizSettings: QuizSettings
    private let scoreStore: ScoreStore
    private let wordScoreStore: WordScoreStore
    private let currentCSV: CurrentCSV
    
    /// åˆæœŸåŒ–
    init(
        quizSettings: QuizSettings,
        scoreStore: ScoreStore,
        wordScoreStore: WordScoreStore,
        currentCSV: CurrentCSV
    ) {
        self.quizSettings = quizSettings
        self.scoreStore = scoreStore
        self.wordScoreStore = wordScoreStore
        self.currentCSV = currentCSV
    }
    
    /// ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹ã™ã‚‹ï¼ˆç¾æ™‚ç‚¹ã§ã¯ç©ºå®Ÿè£…ï¼‰
    func start() {
        print("QuizEngine: start() called")
    }
}
```

**Xcode ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ **:

1. Xcode ã‚’é–‹ã
2. SimpleWord ã‚°ãƒ«ãƒ¼ãƒ—ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ New Group â†’ "Features"
3. Features ã‚°ãƒ«ãƒ¼ãƒ—ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ New Group â†’ "Quiz"
4. Quiz ã‚°ãƒ«ãƒ¼ãƒ—ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ Add Files to "SimpleWord"...
5. `QuizEngine.swift` ã‚’é¸æŠ
6. "Copy items if needed" ã®ãƒã‚§ãƒƒã‚¯ã‚’**å¤–ã™**
7. Target "SimpleWord" ã«ãƒã‚§ãƒƒã‚¯
8. Add ã‚’ã‚¯ãƒªãƒƒã‚¯

**ãƒ“ãƒ«ãƒ‰ç¢ºèª**:

```bash
xcodebuild clean build -scheme SimpleWord -destination 'platform=iOS Simulator,name=iPhone 17'

# âœ… ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ: BUILD SUCCEEDED
```

**ãƒ†ã‚¹ãƒˆç¢ºèª**:

```bash
xcodebuild test -scheme SimpleWord -destination 'platform=iOS Simulator,name=iPhone 17'

# âœ… ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ: ãƒ†ã‚¹ãƒˆãŒå…¨ã¦ greenï¼ˆå¤‰æ›´ã—ã¦ã„ãªã„ã®ã§å½“ç„¶ï¼‰
```

**Git ã‚³ãƒŸãƒƒãƒˆ**:

```bash
git add SimpleWord/Features/Quiz/QuizEngine.swift
git commit -m "refactor: [Step 2.1/10] Add QuizEngine skeleton

- Create QuizEngine class with minimal implementation
- Add to Xcode project

ãƒ“ãƒ«ãƒ‰: âœ… æˆåŠŸ
ãƒ†ã‚¹ãƒˆ: âœ… å…¨ã¦é€šé (0 failures)
å‹•ä½œç¢ºèª: âœ… æ—¢å­˜æ©Ÿèƒ½ã«å½±éŸ¿ãªã—"
```

**ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¡ä»¶**: ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆ

```bash
git reset --hard HEAD~1
rm SimpleWord/Features/Quiz/QuizEngine.swift
# Xcode ã§ãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§ã‚‚å‰Šé™¤
```

---

#### Step 2.2: QuizView ã§ QuizEngine ã‚’åˆæœŸåŒ–

**ç›®çš„**: QuizView ã‹ã‚‰ QuizEngine ã‚’å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼ˆã¾ã ãƒ­ã‚¸ãƒƒã‚¯ã¯ç§»å‹•ã—ãªã„ï¼‰

**QuizView.swift ã‚’ç·¨é›†**:

```swift
// QuizView.swift

struct QuizView: View {
    
    // ...existing code... (æ—¢å­˜ã® @EnvironmentObject ãªã©)
    
    // ğŸ†• QuizEngine ã‚’è¿½åŠ 
    @StateObject private var quizEngine: QuizEngine
    
    // ğŸ†• ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã§ QuizEngine ã‚’åˆæœŸåŒ–
    init(
        quizSettings: QuizSettings,
        scoreStore: ScoreStore,
        wordScoreStore: WordScoreStore,
        currentCSV: CurrentCSV
    ) {
        _quizEngine = StateObject(wrappedValue: QuizEngine(
            quizSettings: quizSettings,
            scoreStore: scoreStore,
            wordScoreStore: wordScoreStore,
            currentCSV: currentCSV
        ))
    }
    
    var body: some View {
        // ...existing code...
    }
    
    // ...existing code...
}
```

**å•é¡Œ**: QuizView ã¯ @EnvironmentObject ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚ã€init ã§ã¯å—ã‘å–ã‚Œãªã„

**è§£æ±ºç­–**: QuizEngine ã®åˆæœŸåŒ–ã‚’ onAppear ã§è¡Œã†

**ä¿®æ­£ç‰ˆ**:

```swift
// QuizView.swift

struct QuizView: View {
    
    @EnvironmentObject var quizSettings: QuizSettings
    @EnvironmentObject var scoreStore: ScoreStore
    @EnvironmentObject var wordScoreStore: WordScoreStore
    @EnvironmentObject var currentCSV: CurrentCSV
    
    // ğŸ†• QuizEngineï¼ˆå¾Œã§åˆæœŸåŒ–ï¼‰
    @State private var quizEngine: QuizEngine?
    
    var body: some View {
        // ...existing code...
        
        .onAppear {
            // ğŸ†• QuizEngine ã‚’åˆæœŸåŒ–
            if quizEngine == nil {
                quizEngine = QuizEngine(
                    quizSettings: quizSettings,
                    scoreStore: scoreStore,
                    wordScoreStore: wordScoreStore,
                    currentCSV: currentCSV
                )
            }
            
            // æ—¢å­˜ã® onAppear å‡¦ç†...
        }
    }
}
```

**ãƒ“ãƒ«ãƒ‰ç¢ºèª**:

```bash
xcodebuild clean build -scheme SimpleWord -destination 'platform=iOS Simulator,name=iPhone 17'

# âœ… ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ: BUILD SUCCEEDED
```

**å®Ÿè¡Œç¢ºèª**:

1. ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚’èµ·å‹•
2. ã‚¢ãƒ—ãƒªã‚’èµ·å‹•
3. ã‚¯ã‚¤ã‚ºç”»é¢ã‚’é–‹ã
4. Xcode ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã« "QuizEngine: start() called" ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

**Git ã‚³ãƒŸãƒƒãƒˆ**:

```bash
git add SimpleWord/QuizView.swift
git commit -m "refactor: [Step 2.2/10] Initialize QuizEngine in QuizView

- Add QuizEngine as @State property
- Initialize in onAppear
- No logic migration yet

ãƒ“ãƒ«ãƒ‰: âœ… æˆåŠŸ
ãƒ†ã‚¹ãƒˆ: âœ… å…¨ã¦é€šé
å‹•ä½œç¢ºèª: âœ… UIæ­£å¸¸ã€æ—¢å­˜æ©Ÿèƒ½å‹•ä½œ"
```

---

#### Step 2.3: start() ãƒ­ã‚¸ãƒƒã‚¯ã®ç§»è¡Œ

**ç›®çš„**: QuizView ã® start() ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ QuizEngine ã«ç§»è¡Œ

**ç¾åœ¨ã® QuizView ã® start() ã‚’ç¢ºèª**:

```swift
// QuizView.swift å†…ã® start() ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆç°¡ç•¥ç‰ˆï¼‰

private func start() {
    // CSV ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
    let allItems = currentCSV.items
    
    // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    let filteredItems = allItems.filter { item in
        // ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿
        // ã‚¹ã‚³ã‚¢ãƒ•ã‚£ãƒ«ã‚¿
        // ãªã©
    }
    
    // æœ€åˆã®å•é¡Œã‚’é¸æŠ
    currentQuestion = filteredItems.first
    
    // é¸æŠè‚¢ã‚’ç”Ÿæˆ
    generateChoices()
}
```

**QuizEngine ã«ç§»è¡Œ**:

```swift
// QuizEngine.swift

final class QuizEngine: ObservableObject {
    
    // ...existing code...
    
    // ğŸ†• ç¾åœ¨ã®å•é¡Œ
    @Published var currentQuestion: QuestionItem?
    
    // ğŸ†• é¸æŠè‚¢
    @Published var choices: [Choice] = []
    
    /// ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹ã™ã‚‹
    func start() {
        // CSV ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
        let allItems = currentCSV.items
        
        // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆQuizView ã®æ—¢å­˜ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚³ãƒ”ãƒ¼ï¼‰
        let filteredItems = allItems.filter { item in
            // TODO: ãƒ•ã‚£ãƒ«ã‚¿ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚³ãƒ”ãƒ¼
            return true
        }
        
        // æœ€åˆã®å•é¡Œã‚’é¸æŠ
        currentQuestion = filteredItems.first
        
        // é¸æŠè‚¢ã‚’ç”Ÿæˆ
        generateChoices()
    }
    
    /// é¸æŠè‚¢ã‚’ç”Ÿæˆã™ã‚‹ï¼ˆä»®å®Ÿè£…ï¼‰
    private func generateChoices() {
        // TODO: é¸æŠè‚¢ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚³ãƒ”ãƒ¼
        choices = []
    }
}
```

**QuizView ã‚’æ›´æ–°**:

```swift
// QuizView.swift

struct QuizView: View {
    
    // ...existing code...
    
    // ğŸ”„ currentQuestion ã‚’ QuizEngine ã‹ã‚‰å–å¾—
    // @State private var currentQuestion: QuestionItem? // å‰Šé™¤
    
    // ğŸ”„ choices ã‚’ QuizEngine ã‹ã‚‰å–å¾—
    // @State private var choices: [Choice] = [] // å‰Šé™¤
    
    var body: some View {
        VStack {
            // ğŸ”„ quizEngine ã‹ã‚‰å–å¾—
            if let question = quizEngine?.currentQuestion {
                QuestionCardView(question: question)
            }
            
            // ğŸ”„ quizEngine ã‹ã‚‰å–å¾—
            ForEach(quizEngine?.choices ?? []) { choice in
                // ...
            }
        }
        .onAppear {
            // ...existing code...
            
            // ğŸ”„ QuizEngine ã® start() ã‚’å‘¼ã¶
            quizEngine?.start()
        }
    }
    
    // ğŸ—‘ï¸ æ—¢å­˜ã® start() ãƒ¡ã‚½ãƒƒãƒ‰ã¯å‰Šé™¤ï¼ˆQuizEngine ã«ç§»è¡Œã—ãŸãŸã‚ï¼‰
    // private func start() { ... }
}
```

**âš ï¸ æ³¨æ„**: ã“ã®æ®µéšã§ã¯å®Ÿéš›ã®ãƒ­ã‚¸ãƒƒã‚¯ã¯ã‚³ãƒ”ãƒ¼ã—ã¦ã„ãªã„ãŸã‚ã€å‹•ä½œã—ãªã„å¯èƒ½æ€§ãŒé«˜ã„

**æ®µéšçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**:

1. ã¾ãš QuizEngine ã® start() ã« print æ–‡ã ã‘å…¥ã‚Œã¦å‹•ä½œç¢ºèª
2. æ¬¡ã«ç°¡å˜ãªãƒ­ã‚¸ãƒƒã‚¯ï¼ˆå•é¡Œã®å–å¾—ã®ã¿ï¼‰ã‚’ç§»è¡Œ
3. æ®µéšçš„ã«è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€é¸æŠè‚¢ç”Ÿæˆï¼‰ã‚’ç§»è¡Œ

**ãƒ“ãƒ«ãƒ‰ç¢ºèª**:

```bash
xcodebuild clean build -scheme SimpleWord -destination 'platform=iOS Simulator,name=iPhone 17'

# âœ… ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ: BUILD SUCCEEDEDï¼ˆã¾ãŸã¯å…·ä½“çš„ãªã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ï¼‰
```

**ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¡ä»¶**: ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒè§£æ±ºã§ããªã„å ´åˆ

```bash
git reset --hard HEAD~1
```

---

### Phase 3ä»¥é™ã¯çœç•¥ï¼ˆåŒæ§˜ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’ç¹°ã‚Šè¿”ã™ï¼‰

å„ãƒ•ã‚§ãƒ¼ã‚ºã§ï¼š
1. å°ã•ãªå˜ä½ã§ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç§»è¡Œ
2. ãƒ“ãƒ«ãƒ‰ç¢ºèª
3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
4. å‹•ä½œç¢ºèª
5. Git ã‚³ãƒŸãƒƒãƒˆ

---

## AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‘ã‘ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆGitHub Copilot ãªã©ï¼‰ã«å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’ä¾é ¼ã™ã‚‹éš›ã®æ¨å¥¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€‚

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ1: äº‹å‰æº–å‚™

```
# ã‚¿ã‚¹ã‚¯
QuizView.swift (1,100è¡Œ) ã®å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’å®‰å…¨ã«å®Ÿæ–½ã—ãŸã„ã€‚
ã¾ãšäº‹å‰æº–å‚™ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚

# å®Ÿæ–½å†…å®¹
1. QuizViewTests.swift ã‚’ä½œæˆã—ã€æ—¢å­˜æ©Ÿèƒ½ã®ä¸»è¦ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ä½œæˆ
2. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦å…¨ã¦ green ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
3. Git ã§ç¾åœ¨ã®çŠ¶æ…‹ã‚’ã‚³ãƒŸãƒƒãƒˆï¼ˆã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: "chore: Add tests before refactoring"ï¼‰
4. ä½œæ¥­ç”¨ãƒ–ãƒ©ãƒ³ãƒ refactor/quiz-logic-extraction ã‚’ä½œæˆ
5. QuizView ã®ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—ã‚’ä½œæˆï¼ˆå‚è€ƒè³‡æ–™/QuizViewä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—.mdï¼‰

# åˆ¶ç´„
- æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã¯ä¸€åˆ‡å¤‰æ›´ã—ãªã„ï¼ˆãƒ†ã‚¹ãƒˆè¿½åŠ ã®ã¿ï¼‰
- å„ã‚¹ãƒ†ãƒƒãƒ—ã§ãƒ“ãƒ«ãƒ‰ï¼†ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- å¤±æ•—ã—ãŸå ´åˆã¯å³åº§ã«ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

# å®Œäº†æ¡ä»¶
- [ ] ãƒ†ã‚¹ãƒˆãŒä½œæˆã•ã‚Œã€å…¨ã¦ green
- [ ] Git ã‚³ãƒŸãƒƒãƒˆå®Œäº†
- [ ] ãƒ–ãƒ©ãƒ³ãƒä½œæˆå®Œäº†
- [ ] ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—ä½œæˆå®Œäº†

# å‚è€ƒè³‡æ–™
- å‚è€ƒè³‡æ–™/ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¤±æ•—åˆ†æ_20251019.md
- å‚è€ƒè³‡æ–™/å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Ÿç¾æ–¹ç­–.mdï¼ˆã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
```

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ2: Step 2.1ï¼ˆQuizEngine ã‚¹ã‚±ãƒ«ãƒˆãƒ³ä½œæˆï¼‰

```
# ã‚¿ã‚¹ã‚¯
Phase 2, Step 2.1: QuizEngine ã‚¯ãƒ©ã‚¹ã®ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

# å®Ÿæ–½å†…å®¹
1. SimpleWord/Features/Quiz/QuizEngine.swift ã‚’ä½œæˆ
2. æœ€å°é™ã® QuizEngine ã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ï¼ˆå‚è€ƒè³‡æ–™ã®é€šã‚Šï¼‰
3. Xcode ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ 
   - Xcode ã‚’é–‹ãå¿…è¦ãŒã‚ã‚‹å ´åˆã¯æ‰‹é †ã‚’æç¤º
   - ã¾ãŸã¯ xcodeproj gem ã‚’ä½¿ã£ã¦è‡ªå‹•è¿½åŠ 
4. ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ã“ã¨ã‚’ç¢ºèª
5. ãƒ†ã‚¹ãƒˆãŒå…¨ã¦ green ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
6. Git ã‚³ãƒŸãƒƒãƒˆ

# åˆ¶ç´„
- QuizView ã¯ä¸€åˆ‡å¤‰æ›´ã—ãªã„
- QuizEngine ã¯ç©ºå®Ÿè£…ã§OKï¼ˆprintæ–‡ã®ã¿ï¼‰
- ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰å³åº§ã«ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

# å®Œäº†æ¡ä»¶
- [ ] QuizEngine.swift ãŒä½œæˆã•ã‚ŒãŸ
- [ ] Xcode ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ ã•ã‚ŒãŸ
- [ ] ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- [ ] ãƒ†ã‚¹ãƒˆå…¨ã¦ green
- [ ] Git ã‚³ãƒŸãƒƒãƒˆå®Œäº†ï¼ˆã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯æ‰‹é †æ›¸ã®é€šã‚Šï¼‰

# ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¡ä»¶
- ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒè§£æ±ºã§ããªã„
- ãƒ†ã‚¹ãƒˆãŒ red ã«ãªã£ãŸ
- Xcode ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®è¿½åŠ ã«å¤±æ•—ã—ãŸ

ä¸Šè¨˜ã®å ´åˆã¯ `git reset --hard HEAD` ã§å…ƒã«æˆ»ã—ã¦ãã ã•ã„ã€‚

# å‚è€ƒè³‡æ–™
- å‚è€ƒè³‡æ–™/å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Ÿç¾æ–¹ç­–.md ã®ã€ŒStep 2.1ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³
```

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ3: Step 2.2ï¼ˆQuizEngine åˆæœŸåŒ–ï¼‰

```
# ã‚¿ã‚¹ã‚¯
Phase 2, Step 2.2: QuizView ã§ QuizEngine ã‚’åˆæœŸåŒ–ã—ã¦ãã ã•ã„ã€‚

# å®Ÿæ–½å†…å®¹
1. QuizView.swift ã« @State private var quizEngine: QuizEngine? ã‚’è¿½åŠ 
2. onAppear ã§ QuizEngine ã‚’åˆæœŸåŒ–
3. QuizEngine.start() ã‚’å‘¼ã³å‡ºã™ï¼ˆæ—¢å­˜ã® start() ã¯æ®‹ã™ï¼‰
4. ãƒ“ãƒ«ãƒ‰æˆåŠŸã‚’ç¢ºèª
5. ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§å‹•ä½œç¢ºèªï¼ˆQuizEngine.start() ãŒå‘¼ã°ã‚Œã‚‹ã“ã¨ã‚’ãƒ­ã‚°ã§ç¢ºèªï¼‰
6. Git ã‚³ãƒŸãƒƒãƒˆ

# åˆ¶ç´„
- æ—¢å­˜ã® QuizView ã®ãƒ­ã‚¸ãƒƒã‚¯ã¯ä¸€åˆ‡å¤‰æ›´ã—ãªã„
- QuizEngine.start() ã¯ç©ºå®Ÿè£…ï¼ˆprintæ–‡ã®ã¿ï¼‰ã§OK
- æ—¢å­˜ã® start() ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã¾ã å‰Šé™¤ã—ãªã„

# å®Œäº†æ¡ä»¶
- [ ] QuizView ã« quizEngine ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒè¿½åŠ ã•ã‚ŒãŸ
- [ ] onAppear ã§åˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- [ ] ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§å‹•ä½œç¢ºèªï¼ˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã« "QuizEngine: start() called" ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼‰
- [ ] Git ã‚³ãƒŸãƒƒãƒˆå®Œäº†

# ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¡ä»¶
- ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼
- å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼
- UI ãŒè¡¨ç¤ºã•ã‚Œãªã„

ä¸Šè¨˜ã®å ´åˆã¯ `git reset --hard HEAD~1` ã§å…ƒã«æˆ»ã—ã¦ãã ã•ã„ã€‚

# å‚è€ƒè³‡æ–™
- å‚è€ƒè³‡æ–™/å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Ÿç¾æ–¹ç­–.md ã®ã€ŒStep 2.2ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³
```

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ4: å„ã‚¹ãƒ†ãƒƒãƒ—ã®æ±ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```
# ã‚¿ã‚¹ã‚¯
Phase [X], Step [X.Y]: [ã‚¿ã‚¹ã‚¯ã®èª¬æ˜]

# å®Ÿæ–½å†…å®¹
1. [å…·ä½“çš„ãªä½œæ¥­1]
2. [å…·ä½“çš„ãªä½œæ¥­2]
3. ãƒ“ãƒ«ãƒ‰æˆåŠŸã‚’ç¢ºèª
4. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆå…¨ã¦ greenï¼‰
5. ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§å‹•ä½œç¢ºèª
6. Git ã‚³ãƒŸãƒƒãƒˆ

# åˆ¶ç´„
- 1ã‚¹ãƒ†ãƒƒãƒ—ã§å¤‰æ›´ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯1ã¤ã¾ã§
- æ—¢å­˜ã®ãƒ†ã‚¹ãƒˆã‚’å£Šã•ãªã„
- ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰å³åº§ã«ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

# å®Œäº†æ¡ä»¶
- [ ] [å®Œäº†æ¡ä»¶1]
- [ ] [å®Œäº†æ¡ä»¶2]
- [ ] ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- [ ] ãƒ†ã‚¹ãƒˆå…¨ã¦ green
- [ ] å‹•ä½œç¢ºèªOK
- [ ] Git ã‚³ãƒŸãƒƒãƒˆå®Œäº†

# ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¡ä»¶
- ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒè§£æ±ºã§ããªã„
- ãƒ†ã‚¹ãƒˆãŒ red
- UI ãŒå‹•ä½œã—ãªã„

ä¸Šè¨˜ã®å ´åˆã¯ `git reset --hard HEAD~[N]` ã§å…ƒã«æˆ»ã—ã¦ãã ã•ã„ã€‚

# æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ãŒå®Œäº†ã—ãŸã‚‰ã€æ¬¡ã¯ Phase [X], Step [X.Y+1] ã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚

# å‚è€ƒè³‡æ–™
- å‚è€ƒè³‡æ–™/å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Ÿç¾æ–¹ç­–.md
- å‚è€ƒè³‡æ–™/QuizViewä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—.md
```

---

## ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### äº‹å‰æº–å‚™ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] QuizViewTests.swift ã‚’ä½œæˆ
- [ ] ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦å…¨ã¦ green
- [ ] Git ã§ç¾åœ¨ã®çŠ¶æ…‹ã‚’ã‚³ãƒŸãƒƒãƒˆ
- [ ] ä½œæ¥­ç”¨ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
- [ ] QuizView ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—ã‚’ä½œæˆ
- [ ] xcodeproj gem ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆ`gem install xcodeproj`ï¼‰

### å„ã‚¹ãƒ†ãƒƒãƒ—ã®å®Ÿè¡Œãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

å„ã‚¹ãƒ†ãƒƒãƒ—ã§ä»¥ä¸‹ã‚’å¿…ãšå®Ÿè¡Œï¼š

- [ ] ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´
- [ ] ãƒ“ãƒ«ãƒ‰æˆåŠŸã‚’ç¢ºèªï¼ˆ`xcodebuild clean build ...`ï¼‰
- [ ] ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã—ã¦å…¨ã¦ greenï¼ˆ`xcodebuild test ...`ï¼‰
- [ ] ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§å‹•ä½œç¢ºèª
- [ ] Git ã‚³ãƒŸãƒƒãƒˆï¼ˆã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«çµæœã‚’è¨˜è¼‰ï¼‰

### ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆï¼š

- [ ] ã‚¨ãƒ©ãƒ¼å†…å®¹ã‚’ãƒ­ã‚°ã«è¨˜éŒ²
- [ ] `git reset --hard HEAD~1` ã§å‰ã®ã‚³ãƒŸãƒƒãƒˆã«æˆ»ã‚‹
- [ ] ãƒ“ãƒ«ãƒ‰æˆåŠŸã‚’ç¢ºèª
- [ ] ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã—ã¦ green ã‚’ç¢ºèª
- [ ] ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§å‹•ä½œç¢ºèª
- [ ] å•é¡Œã®åŸå› ã‚’åˆ†æ
- [ ] åˆ¥ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’æ¤œè¨

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ1: ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã€ŒQuizEngine.swift not foundã€

**åŸå› **: Xcode ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¿½åŠ ã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–**:

1. Xcode ã‚’é–‹ã
2. SimpleWord ã‚°ãƒ«ãƒ¼ãƒ—ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ Add Files to "SimpleWord"...
3. QuizEngine.swift ã‚’é¸æŠ
4. "Copy items if needed" ã®ãƒã‚§ãƒƒã‚¯ã‚’å¤–ã™
5. Target "SimpleWord" ã«ãƒã‚§ãƒƒã‚¯
6. Add ã‚’ã‚¯ãƒªãƒƒã‚¯

**ã¾ãŸã¯**:

```bash
# xcodeproj gem ã‚’ä½¿ã£ã¦è‡ªå‹•è¿½åŠ 
ruby -e "
require 'xcodeproj'
project = Xcodeproj::Project.open('SimpleWord.xcodeproj')
target = project.targets.first
file_ref = project.new_file('SimpleWord/Features/Quiz/QuizEngine.swift')
target.add_file_references([file_ref])
project.save
"
```

---

### å•é¡Œ2: ãƒ†ã‚¹ãƒˆãŒ red ã«ãªã£ãŸ

**åŸå› **: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã§æ—¢å­˜æ©Ÿèƒ½ã‚’ç ´å£Šã—ãŸ

**è§£æ±ºç­–**:

1. ã©ã®ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ãŸã‹ã‚’ç¢ºèª
2. å¤‰æ›´ã‚’å…ƒã«æˆ»ã™ï¼ˆ`git reset --hard HEAD~1`ï¼‰
3. ã‚ˆã‚Šå°ã•ãªå˜ä½ã§å¤‰æ›´ã‚’è¡Œã†
4. ãƒ†ã‚¹ãƒˆã‚’1ã¤ãšã¤ green ã«ã—ãªãŒã‚‰é€²ã‚ã‚‹

---

### å•é¡Œ3: UI ãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **: QuizView ã®çŠ¶æ…‹å¤‰æ•°ãŒæ­£ã—ãæ›´æ–°ã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–**:

1. Xcode ã®ãƒ‡ãƒãƒƒã‚¬ã§ QuizEngine ã®çŠ¶æ…‹ã‚’ç¢ºèª
2. `@Published` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒæ­£ã—ãå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
3. QuizView ãŒ quizEngine ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ­£ã—ãå‚ç…§ã—ã¦ã„ã‚‹ã‹ç¢ºèª

---

### å•é¡Œ4: ã€Œé€²ã¾ãªã„ã€ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®å ±å‘Šï¼‰

**åŸå› **: UI ã®åå¿œæ€§ã®å•é¡Œã€ã¾ãŸã¯ãƒ­ã‚¸ãƒƒã‚¯ã®ãƒã‚°

**è§£æ±ºç­–**:

1. Xcode ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç¢ºèª
2. ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’è¨­å®šã—ã¦ãƒ‡ãƒãƒƒã‚°
3. QuizEngine ã®å„ãƒ¡ã‚½ãƒƒãƒ‰ã« print æ–‡ã‚’å…¥ã‚Œã¦å®Ÿè¡Œãƒ•ãƒ­ãƒ¼ã‚’ç¢ºèª
4. å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆã¯ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

---

## ã¾ã¨ã‚

å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’æˆåŠŸã•ã›ã‚‹ã«ã¯ï¼š

1. **äº‹å‰æº–å‚™ã‚’å¾¹åº•ã™ã‚‹**ï¼ˆãƒ†ã‚¹ãƒˆã€Gitã€ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—ï¼‰
2. **å°ã•ãåˆ»ã‚€**ï¼ˆ1ã‚¹ãƒ†ãƒƒãƒ— = 1ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ï¼‰
3. **ç¢ºèªã‚’æ€ ã‚‰ãªã„**ï¼ˆãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€å‹•ä½œç¢ºèªï¼‰
4. **ã™ãã«ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**ï¼ˆå•é¡ŒãŒå‡ºãŸã‚‰æ·±è¿½ã„ã—ãªã„ï¼‰
5. **è¨˜éŒ²ã‚’æ®‹ã™**ï¼ˆGit ã‚³ãƒŸãƒƒãƒˆã€ãƒ­ã‚°ï¼‰

ã“ã®æ‰‹é †æ›¸ã¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½¿ãˆã°ã€AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã‚‚å®‰å…¨ã«å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’å®Ÿæ–½ã§ãã‚‹ã€‚

---

**æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: 

1. ã“ã®æ‰‹é †æ›¸ã‚’èª­ã‚“ã§ç†è§£ã™ã‚‹
2. äº‹å‰æº–å‚™ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’å®Œäº†ã™ã‚‹
3. AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã€Œãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ1: äº‹å‰æº–å‚™ã€ã‚’æ¸¡ã—ã¦å®Ÿè¡Œã™ã‚‹
4. å„ã‚¹ãƒ†ãƒƒãƒ—ã‚’é †ç•ªã«å®Ÿè¡Œã™ã‚‹
