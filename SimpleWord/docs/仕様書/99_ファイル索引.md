# ファイル索引

**最終更新: 2025-10-19**

このドキュメントは、SimpleWord プロジェクトの主要ファイルと仕様書の索引です。

## 仕様書一覧（docs/仕様書/）

編集作業を始める前に、該当する仕様書を確認してください。

### 00_編集ガイド.md
- **内容**: プロジェクト全体の編集ガイドライン
- **対象者**: 開発者・編集者
- **確認タイミング**: 初回編集時、大規模変更前

### 01_クイズ機能_仕様書.md
- **内容**: クイズ画面（QuizView）の詳細仕様
- **最近の更新**: アニメーション機能、カード分離、解説表示改善
- **関連ファイル**: QuizView.swift、AdaptiveScheduler.swift

### 02_出題設定_仕様書.md
- **内容**: 出題設定画面（QuizSettingsView）の詳細
- **関連機能**: CSV選択、分野・難易度フィルタ、学習モード
- **関連ファイル**: QuizSettingsView.swift、QuizSettings.swift

### 03_問題集管理_CSV_仕様書.md
- **内容**: CSV管理画面の実装
- **関連機能**: CSV一覧表示、削除、インポート/エクスポート
- **関連ファイル**: CSVManagerView.swift、FileUtils.swift

### 04_ナビゲーター機能_仕様書.md
- **内容**: 単語一覧表示機能
- **関連機能**: ファイル監視、検索・フィルタ
- **関連ファイル**: NavigatorView.swift、FileWatcher.swift

### 05_成績表示_仕様書.md
- **内容**: 学習結果の表示機能
- **関連機能**: CSV別・単語別の成績、グラフ表示
- **関連ファイル**: ScoreView.swift、ScoreStore.swift、WordScoreStore.swift

### 06_IDマップ管理_仕様書.md
- **内容**: 単語IDの整合性管理
- **関連機能**: ID生成、整合性チェック、修復
- **関連ファイル**: IDMapAdminView.swift、IDFactory.swift

### 07_CSV編集_仕様書.md
- **内容**: アプリ内CSV編集機能
- **注意**: 大規模編集は外部ツール推奨
- **関連ファイル**: CSVEditorView.swift、CSVLoader.swift

### 08_外観_仕様書.md
- **内容**: ライト/ダークモード切り替え
- **関連機能**: システム設定追従、カスタムテーマ
- **関連ファイル**: Appearance.swift、SimpleWordApp.swift

### 09_出題ロジック_仕様書.md
- **内容**: 適応型学習アルゴリズムの詳細
- **関連機能**: バッチ学習、補修モード、優先度計算
- **関連ファイル**: AdaptiveScheduler.swift、StudyRecord.swift

## 主要ファイル索引

### アプリケーション
```
SimpleWordApp.swift             - アプリのエントリーポイント
ContentView.swift               - メインナビゲーション
```

### クイズ関連
```
QuizView.swift (1100行)        - クイズメイン画面
QuestionDetailView.swift        - 単語詳細表示
```

### 設定・管理
```
QuizSettingsView.swift          - 出題設定画面
CSVManagerView.swift            - CSV管理画面
NavigatorView.swift             - 単語一覧画面
```

### 成績表示
```
ScoreView.swift                 - 成績切り替え画面
QuizResultsByCSVView.swift      - CSV別成績
QuizResultsDetailView.swift     - CSV詳細
WordScoresView.swift            - 単語別成績
```

### データモデル
```
QuestionItem.swift              - 問題データ構造
QuizSettings.swift              - 設定データ
StudyRecord.swift               - 学習履歴
```

### ストア（状態管理）
```
QuizSettings.swift              - 出題設定（@EnvironmentObject）
ScoreStore.swift                - CSV別成績の永続化
WordScoreStore.swift            - 単語別成績の永続化
CurrentCSV.swift                - 現在のCSV名
AppearanceManager.swift         - 外観設定
```

### ユーティリティ
```
CSVLoader.swift                 - CSV読み込み・解析
FileUtils.swift                 - ファイル操作
FileWatcher.swift               - ファイル変更監視
IDFactory.swift                 - ID生成・管理
```

### ビジネスロジック
```
AdaptiveScheduler.swift         - 適応型学習スケジューラ
LearningAnalytics.swift         - 学習傾向分析
FileStudyProgressRepository.swift - 学習進捗永続化
```

### UIコンポーネント
```
StyleGuide.swift                - 共通UIコンポーネント
  - SectionCard                 - カード型コンテナ
  - SectionHeader               - セクションヘッダ
  - DifficultyBadge             - 難易度バッジ
  - TagCapsule                  - タグ表示
```

## AI作業効率化ファイル（.copilot/）

**表示方法**: Finder で `⌘ + Shift + .` を押す

```
.copilot/
├── README.md                   - AI作業ガイド（必読）
├── structure-map.md            - アーキテクチャマップ
├── quick-ref.md                - 実装パターン集
├── changelog.md                - 変更履歴
├── task-template.md            - タスク分割テンプレート
├── components/                 - コンポーネント仕様書
│   ├── QuizStatisticsView.md
│   ├── QuestionCardView.md
│   ├── ChoiceCardView.md
│   ├── DontKnowCardView.md
│   └── QuizNavigationButtonsView.md
└── prompts/                    - プロンプトテンプレート
    ├── refactor-component.md   - リファクタリング手順
    ├── add-feature.md          - 新機能追加手順
    └── fix-bug.md              - バグ修正手順
```

## 編集時の参照順序

### 小規模変更（単一ファイル、100行以内）
1. `.copilot/quick-ref.md` - 実装パターン確認
2. 該当する仕様書（01_〜09_）
3. `.copilot/changelog.md` に記録

### 中規模変更（複数ファイル、新機能）
1. `.copilot/structure-map.md` - 影響範囲確認
2. `.copilot/prompts/add-feature.md` - 手順確認
3. 該当する仕様書（01_〜09_）
4. `.copilot/components/` - 分割仕様（必要に応じて）
5. `.copilot/changelog.md` に記録

### 大規模リファクタリング
1. `.copilot/structure-map.md` - 全体像把握
2. `.copilot/prompts/refactor-component.md` - 手順確認
3. `.copilot/task-template.md` - タスク分割
4. 各フェーズで該当仕様書を参照
5. `.copilot/structure-map.md` を更新
6. `.copilot/changelog.md` に詳細記録

## CSV ファイル（Resources/）

```
中学古典単語.csv
中学歴史.csv
中学英会話.csv
中学英単語.csv
高校単語.csv
サンプル単語.csv
```

**CSV形式**:
```csv
term,reading,meaning,etymology,relatedWords,relatedFields,difficulty
example,イグザンプル,例・見本,ラテン語...,sample;instance,English,中級
```

**注意事項**:
- エンコーディング: UTF-8
- 区切り文字: カンマ（,）
- 複数値の区切り: セミコロン（;）
  - relatedWords: `word1;word2;word3`
  - relatedFields: `field1;field2`

## テストファイル

```
SimpleWordTests/
├── SimpleWordTests.swift       - 基本的なユニットテスト
└── (その他のテストファイル)

SimpleWordUITests/
├── SimpleWordUITests.swift     - UIテスト
└── SimpleWordUITestsLaunchTests.swift
```

## プロジェクト設定

```
SimpleWord.xcodeproj/           - Xcodeプロジェクトファイル
  ├── project.pbxproj           - プロジェクト設定（直接編集非推奨）
  └── xcuserdata/               - ユーザー固有設定（Git管理外）
```

## その他の重要ファイル

```
.github/instructions/
└── CustumInstruction.instructions.md  - GitHub Copilot 指示

README.md                       - プロジェクト概要

.gitignore                      - Git除外設定
```

## ファイル検索のヒント

### Xcode での検索
- `⌘ + Shift + O`: ファイル名で開く
- `⌘ + Shift + F`: プロジェクト全体を検索
- `⌘ + F`: 現在のファイル内を検索

### ターミナルでの検索
```bash
# ファイル名で検索
find . -name "QuizView.swift"

# 内容で検索（grep）
grep -r "AdaptiveScheduler" SimpleWord/

# AI効率化ファイルの確認
ls -la .copilot/
```

## 更新履歴

- **2025-10-19**: 
  - 全仕様書を「復元ガイド」から「編集ガイド」に改訂
  - AI作業効率化ファイル（.copilot/）の索引を追加
  - 最新の実装状況（アニメーション機能等）を反映
  - 編集者向けの実用的な内容に変更

## 関連リンク

- `.copilot/README.md` - AI作業効率化の詳細
- `00_編集ガイド.md` - 編集開始前の必読ガイド
- Apple Developer Documentation - SwiftUI
- GitHub Copilot Documentation
