# SimpleWord - クイックスタートガイド

**最終更新**: 2025年10月30日  
**対象読者**: 初めて SimpleWord プロジェクトに触れる開発者

---

## 📋 このガイドについて

このガイドでは、SimpleWord プロジェクトをセットアップして実行するまでの手順を、分かりやすく説明します。

**所要時間**: 約15分

---

## 🚀 セットアップ手順

### 1. 環境確認

以下の環境が整っているか確認してください：

- **macOS**: Ventura (13.0) 以降
- **Xcode**: 15.0 以降
- **iOS Simulator** または **実機**: iOS 15.0 以降

### 2. プロジェクトを開く

```bash
# SimpleWord.xcodeproj を Xcode で開く
open SimpleWord.xcodeproj
```

### 3. ビルド・実行

1. Xcode でプロジェクトが開いたら、上部のスキーム選択で適切なデバイスを選択
   - シミュレータ: iPhone 15 Pro など
   - 実機: 接続した実機

2. **⌘ + R** でビルド・実行

3. 初回ビルドには数分かかることがあります

---

## 🎯 アプリの使い方

### 初回起動時の設定

1. **アプリを起動**
   - ホーム画面（カード式メニュー）が表示されます

2. **「出題設定」をタップ**
   - CSV ファイルを選択
   - 分野・難易度を設定（オプション）
   - バッチサイズ（一度に出題する問題数）を設定

3. **「クイズをはじめる」をタップ**
   - クイズ画面に移動します

### クイズ画面の使い方

#### 基本操作
- **4択から選択**: タップすると正誤が表示されます
- **「分からない」ボタン**: 正解を表示して次へ進みます
- **「前へ」「次へ」ボタン**: 問題間を移動できます

#### 画面の見方
- **上部**: 現在選択中のCSV名と学習モード
- **正答率表示**: パーセンテージとバー
- **合格数/総出題数**: 光るアニメーションで進捗を実感
- **選択肢カード**: 回答後に語源が表示されます

---

## 📁 プロジェクト構造の理解

### Feature-First アーキテクチャ

SimpleWord は **Feature-First / Vertical Slice Architecture** を採用しています。

```
SimpleWord/
├── Features/                # 機能ごとに縦割りで管理
│   ├── Quiz/               # クイズ機能
│   │   ├── QuizView.swift
│   │   ├── Models/         # データモデル
│   │   ├── ViewModels/     # 状態管理（Store）
│   │   ├── Services/       # ビジネスロジック
│   │   └── Views/          # UI コンポーネント
│   ├── QuizSettings/       # 出題設定機能
│   ├── WordList/           # 単語リスト機能
│   ├── Results/            # 成績表示機能
│   └── CSVEditor/          # CSV編集機能
├── Common/                  # 共通コンポーネント
│   ├── Models/             # 共通データモデル
│   ├── Extensions/         # 拡張機能
│   └── Utility/            # ユーティリティ
├── Resources/               # リソースファイル
│   └── *.csv               # 単語データ
└── ContentView.swift        # ホーム画面
```

### 主要な概念

#### 1. **Store パターン**（状態管理）
```swift
// WordScoreStore: 単語別の成績を管理
@EnvironmentObject var wordScoreStore: WordScoreStore

// QuizSessionStore: クイズセッションの状態を管理
@StateObject private var sessionStore = QuizSessionStore.shared

// CurrentCSV: 現在選択中のCSVを管理
@EnvironmentObject var currentCSV: CurrentCSV
```

#### 2. **Services**（ビジネスロジック）
```swift
// QuizDataLoader: CSVからクイズデータを読み込む
let dataLoader = QuizDataLoader()

// QuizBatchManager: バッチ学習を管理
let batchManager = QuizBatchManager()

// QuizQuestionGenerator: 選択肢を生成
let generator = QuizQuestionGenerator()
```

#### 3. **Models**（データ構造）
```swift
// QuestionItem: 問題の基本情報
struct QuestionItem {
    let id: UUID
    let word: String
    let meaning: String
    // ...
}

// WordScore: 単語別の成績
struct WordScore {
    var totalAttempts: Int
    var correctCount: Int
    var lastStudied: Date?
}
```

---

## 🔧 開発の進め方

### 1. 新機能を追加する場合

**Feature-First の原則**に従って、機能ごとにフォルダを作成：

```
Features/
└── NewFeature/              # 新機能
    ├── NewFeatureView.swift # メイン画面
    ├── Models/              # データモデル
    ├── ViewModels/          # 状態管理
    ├── Services/            # ビジネスロジック
    └── Views/               # UI部品
```

### 2. 既存機能を修正する場合

**責務を確認**してから修正：

- **UI の修正**: `Views/` または `〇〇View.swift`
- **状態管理の修正**: `ViewModels/` の `Store`
- **ロジックの修正**: `Services/`
- **データ構造の修正**: `Models/`

### 3. ファイルが大きくなった場合

**[ファイル分割ガイド](./ファイル分割ガイド.md)** を参照して分割：

- View: 200〜300行を超えたら分割を検討
- ViewModel: 300〜400行を超えたら分割を検討
- 複数の責務が混在している場合は即座に分割

---

## 📚 次に読むべきドキュメント

### アーキテクチャを理解する
1. **[docs/ARCHITECTURE_GUIDE.md](../ARCHITECTURE_GUIDE.md)**
   - プロジェクト全体のアーキテクチャ
   - 設計原則と規約

2. **[docs/COMPREHENSIVE_SPECIFICATION.md](../COMPREHENSIVE_SPECIFICATION.md)**
   - 包括的な仕様書
   - 主要機能の詳細

### 開発を効率化する
1. **[AIとのやり取り_クイックリファレンス.md](./AIとのやり取り_クイックリファレンス.md)**
   - AI を使った開発の基本

2. **[ファイル分割ガイド.md](./ファイル分割ガイド.md)**
   - コード整理の実践

---

## ❓ よくある質問

### Q1: ビルドエラーが出る
**A**: 以下を確認してください
- Xcode のバージョンが 15.0 以降か
- iOS Deployment Target が 15.0 に設定されているか
- Clean Build Folder (⌘ + Shift + K) を試す

### Q2: CSV ファイルが表示されない
**A**: 以下を確認してください
- `Resources/` フォルダに `.csv` ファイルがあるか
- Xcode プロジェクトに追加されているか（Target Membership）

### Q3: 成績がリセットされる
**A**: 
- 開発中はシミュレータのデータがリセットされることがあります
- `WordScoreStore` は UserDefaults に保存されます
- アプリを削除すると成績もリセットされます

---

## 🆘 困ったときは

1. **[機能復元ガイド_v2.md](./機能復元ガイド_v2.md)** - 機能が動かない場合
2. **[AIとのやり取り_ケーススタディ集.md](./AIとのやり取り_ケーススタディ集.md)** - AI に相談する方法
3. **GitHub Issues** - バグ報告・質問

---

## ✅ チェックリスト

開発を始める前に、以下を確認してください：

- [ ] Xcode 15.0 以降をインストール済み
- [ ] プロジェクトがビルド・実行できる
- [ ] ホーム画面が表示される
- [ ] クイズが正常に動作する
- [ ] プロジェクト構造を理解した
- [ ] 次に読むべきドキュメントを確認した

---

**おめでとうございます！** 🎉  
これで SimpleWord プロジェクトでの開発を始める準備が整いました。
