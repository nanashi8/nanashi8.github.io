# 中学英単語問題CSV作成・拡充 Instruction（改訂版）

この文書は、プロジェクトで使用する `中学英単語.csv` を一貫して、かつ手作業で作成・拡充しやすくするための具体的な作成要領です。

目的
- CSV ファイルを直接編集して問題データを追加・修正する担当者が守るべきルールを定める。
- 自動処理（スクリプト）との整合性を保ち、後工程でのマッピング／正規化作業を最小化する。

前提
- 文字コード: UTF-8（BOM なし）
- 区切り文字: カンマ ( , )
- 改行: LF 推奨（macOS 標準）
- ファイル先頭に必ずヘッダ行を残す（下記ヘッダ順を厳守）

必須ヘッダ（順序固定）
1. 語句
2. 発音（カタカナ）
3. 和訳
4. 語源等解説（日本語）
5. 関連語（英語）と意味（日本語）
6. 関連分野（日本語）
7. 難易度

各列の定義と入力ルール
- 語句
    - 英語の見出し語。小文字で記載（例: apple, whale）。複合語はスペースで区切る（例: school bag）。先頭/末尾の空白は入れない。
    - 記号は原則避ける。例外: 短縮形 (don't)、ハイフンを含む語 (mother-in-law) は許容するが、入力時に一貫した書式で記載する。
- 発音（カタカナ）
    - 日本語カタカナ表記で入力（外来語の慣用表記）。アクセントや細かい発音記号は省略して構わない。空欄可（分からない場合は空欄）。
- 和訳
    - 主要な日本語訳。意味が複数ある場合は代表訳を入れる。訳語中にカンマを含めない（必要なら句点・全角スペース等を使う）。
- 語源等解説（日本語）
    - 40〜200 文字程度の短めの日本語説明。語源・用法・覚え方など、学習に役立つ補足情報を簡潔に記載する。必須ではないが可能な限り埋める。
- 関連語（英語）と意味（日本語）
    - フォーマット: 英語:日本語 のペアを複数入れる場合はセミコロン (;) で区切る。
    - 例: "dolphin:イルカ; whale:くじら" または単一: "kitten:子猫"
    - 英語は見出し語と同様に小文字で表記し、日本語意味は短い語句で記す。
    - ペア内やペア間でカンマは使わない（カンマはCSV区切りと衝突するため）。
- 関連分野（日本語）
    - プロジェクトで定める分野名（例: 自然, 日常, 家族・住居, 食べ物, 交通, 学校, 医療・健康, 科学・物理, 文化・芸術 など）。
    - 可能な限り既存の分野カテゴリと一致させる。複数ある場合は原則1つに統一（どうしても複数必要なときはセミコロンで区切るが、自動マッピングがある場合は要相談）。
- 難易度
    - 1〜3 の整数
    - 1: 中学1年生レベル、2: 中学2年生レベル、3: 中学3年生〜高校受験レベル相当

フォーマット上の技術的注意点
- カンマ区切りのため、各セル内でカンマを使用しないこと（日本語説明や訳語でどうしても区切りを表現したい場合は全角句点「。」や全角スペースを利用する）。
- セルに改行を含めない。長い説明は1行に収める。改行が必要な場合は後処理でのエスケープ仕様を合わせるが、原則禁止。
- 文字はできるだけ半角の英数字（語句列）と全角日本語（訳・説明列）を使い分ける。
- 同一語句の重複行は作らない。別意義がある場合は「語句」を変える（例: record (verb) / record (noun) の区別が必要な場合は訳や補足で区別する、または語句列に `record_v` のようなタグを使うことは避ける）。

入力チェックと正規化（作業者向け簡易チェックリスト）
- [ ] ファイルが UTF-8（BOM なし）で保存されている
- [ ] ヘッダが正しい順序で1行目にある
- [ ] 各行の列数が7列になっている（空欄セルは許容）
- [ ] `語句` が小文字でトリムされている（余分な空白なし）
- [ ] `関連語` のペアは `英語:日本語` で、複数は `;` で区切られている
- [ ] `難易度` が 1〜3 のいずれかの値であること

<!-- 共通ルール（関連分野） -->
## 共通ルール（関連分野）
このプロジェクト内の全ての作成要領で共通して適用されるルールです。CSV の `関連分野（日本語）` 列には、必ず下記の「20 個」のいずれか1語（単一語）を指定してください。

必須事項：
- 必ず“1語”で記載すること（空白や句点を含まない単語）。
- 複数指定は禁止（セミコロン `;` やカンマ `,` で複数記載しない）。
- 該当するものが無い場合は `その他` を指定すること。
- 表記ゆれ（全角半角、末尾空白、異体字）を避け、下記の語を正確に使うこと。

利用可能な20カテゴリ（必ずこの中から1つを選んで入力）:

1. 日常
2. 学校
3. 家族
4. 食べ物
5. 交通
6. 旅行
7. 健康
8. 動物
9. 自然
10. 地理
11. 科学
12. 文法
13. 文化
14. 時間
15. テクノロジー
16. 買い物
17. 職業
18. スポーツ
19. 感情
20. その他

管理上の注意:
- カテゴリを追加・変更する場合は `SimpleWord/docs/作成要領/中学英単語_カテゴリ一覧.md` を更新し、すべての作成要領で整合性を取ること。
- CSV 編集時は最初にカテゴリ一覧を参照し、必ず上記の語を用いること。

項目別の作業ポリシー（ガイドライン）
- 訳語は簡潔に。長い逐語訳は避ける。
- 語源や解説は学習に有用なヒントに限定。文献引用や長大な注釈は別ファイルに保管する。
- 関連語は学習の連想や品詞クロスリファレンスに役立つ語を優先する（同義語・反意語・派生語など）。
- 分野は既存カテゴリに合わせて選ぶ。カテゴリが不明な場合は `日常` を暫定で使う。

例（ヘッダと1行）
```
語句,発音（カタカナ）,和訳,語源等解説（日本語）,関連語（英語）と意味（日本語）,関連分野（日本語）,難易度
apple,アップル,りんご,丸く甘い果実。見た目で結びつけると覚えやすい。,fruit:果物,食べ物,1
```

関連ワークフローと自動検証
- 変更を行ったら `Tools/` にある CSV 検証スクリプト（存在する場合）を実行して整合性を確認すること。
- 大量追加や外部データからの取り込みは、まずテスト用の少数行でインポート→検証→本番反映の順で行う。

よくあるミスと対処法
- カンマをセル内で使用してしまう → 全角句点「。」に置換。
- 関連語の区切りがカンマになっている → セミコロンに置換。
- 同一の語句が複数行存在する → 意味差があるかを確認し、不要な重複は削除する。

改訂履歴
- 2025-10-13: 現行 CSV ヘッダと実例に合わせて全文を整理・明確化。

以上。追加の自動チェック項目や既存カテゴリ一覧を用意するとさらに作業がしやすくなります。必要ならカテゴリ一覧やサンプルスクリプトの整備も行います。
