# 中学英会話問題CSV 作成・拡充ガイド

このドキュメントは、アプリで読み込みやすい形式で `中学英会話.csv` を作成・拡張するための手順です。現状の `Resources/中学英会話.csv`（サンプル）に合わせて、ヘッダ名やフォーマットの注意点、例、検証方法を具体的に示します。

---

## 概要
- 目的: 中学生が学習する日常英会話フレーズを、アプリに取り込みやすいCSV形式で整理する。
- エンコーディング: UTF-8 を推奨（BOMなし）。
- 改行: Unix 形式（\n）推奨。
- 区切り: カンマ (,) を列区切りに使用。セル内にカンマを含める場合はダブルクォートで囲む。
- 関連語・関連分野の複数列挙にはセミコロン (;) を使う（例: `apple:りんご;banana:バナナ`）。

---

## 推奨ヘッダ（ファイルの1行目）
アプリの `CSVLoader` は複数のヘッダ名に柔軟に対応しますが、推奨する「正確なヘッダ」は次の通りです。既存のCSVはこのヘッダ順で整っています。

1. 語句
2. 発音（カタカナ）
3. 和訳
4. 語源等解説（日本語）
5. 関連語（英語）と意味（日本語）
6. 関連分野（日本語）
7. 難易度

ヘッダが存在しないCSVも読み込み可能ですが、列の位置がずれると誤ったマッピングになるため、可能なら必ずヘッダ行を付けてください。

CSVLoader が受け付ける主なヘッダの同義語（参考）:
- 語句: `term`, `word`, `question`, `語句`, `単語`, `フレーズ`
- 発音: `reading`, `読み`, `読み方`, `読み（カタカナ）`
- 和訳: `meaning`, `definition`, `translation`, `意味`, `和訳`, `意味（日本語）`
- 語源等解説: `etymology`, `語源等解説`, `解説`
- 関連語: `related words`, `関連語`, `関連語と意味`（CSV内で英語:日本語 のペアをセミコロン区切りで並べるのが推奨）
- 関連分野: `related fields`, `関連分野`（セミコロン区切り）
- 難易度: `difficulty`, `難易度`（数値 1〜3）

---

## 各列の詳細と記入ルール
### 1) 語句
- 英語のフレーズを記入します。疑問符や感嘆符を含めて構いません（例: `How are you?`, `Hello!`）。
- 表記は自然な会話文を推奨。

### 2) 発音（カタカナ）
- 中学生が読みやすいカタカナで発音を表記します。長いフレーズは単語ごとに区切って書いてください（例: `ハウ アー ユー`）。
- 空でも問題ありませんが、あると学習時に便利です。

### 3) 和訳
- 日本語訳を簡潔に記述します（例: `こんにちは`, `どちらの出身ですか`）。
- 複数意味がある場合は代表的な訳を1つか、スラッシュ等で簡潔に分ける（過度な長文は避ける）。

### 4) 語源等解説（日本語）
- **目的**: フレーズを記憶しやすくするための「なるほど！」と思える情報を提供します。
- **記載内容**（以下のいずれか、または組み合わせ）:
  1. **言い回しの由来**: なぜこの表現が使われるようになったか（例: "How are you?"は元々「どのようにあなたはいますか」という健康状態を尋ねる表現から）
  2. **単語の語源**: フレーズ内の重要単語の語源（例: "Hello"は"holla"（注目を引く叫び声）が由来）
  3. **文化的背景**: その表現が使われる文化的な理由や場面（例: "Thank you"の後に"You're welcome"と返すのは「歓迎します」という意味から）
  4. **記憶のコツ**: 日本語との対比や覚えやすい連想（例: "Nice to meet you"は「会えて嬉しい」→「ナイス（良い）に会う」）
  5. **使用場面の具体例**: いつ・どこで使うかの具体的なシーン（例: "Excuse me"は道を尋ねる前、店員を呼ぶとき、人の前を通るとき等）
  6. **類似表現との違い**: 似た表現との使い分け（例: "Sorry"と"Excuse me"の違い）

- **記載時の注意**:
  - 中学生にも分かりやすい言葉で簡潔に（目安: 50〜150文字）
  - 「なるほど！」「そういうことか！」と納得できる内容を優先
  - 長文になる場合はダブルクォートで囲む
  - 可能な限り1〜2つのポイントに絞る（詰め込みすぎない）

- **良い例**:
  - `How are you? → "How（どのように）+ are you（あなたはいる）"で直訳は「どんな状態ですか」。元々は健康を気遣う表現。`
  - `Thank you → thankは「感謝する」、語源は古英語のthancian。you（あなた）に感謝を伝える最も基本的な表現。`
  - `Excuse me → excuse（許す）+ me（私を）で「私を許してください」が由来。人に話しかける前や、軽い謝罪に使う。`

- **避けるべき例**:
  - 単に「挨拶の表現」だけ（具体性がない）
  - 文法用語の羅列（中学生に理解しにくい）
  - 関連語の列挙（関連語欄に記載すべき内容）

### 5) 関連語（英語）と意味（日本語）
- 関連するフレーズや語を `英語:意味` の形式で列挙し、複数はセミコロン `;` で区切ります。
- 例: `Where do you live?:どこに住んでいますか;I'm from Osaka:大阪出身です`
- ここに記載した英語単語はアプリ内でナビゲーション（関連語リンク）として参照されます。可能であれば、CSV 内に存在する `語句` と一致する英語表記を優先してください。

### 6) 関連分野（日本語）
- 単一の分野名を一語で記述します。
- 例: `日常`, `学校`,`時間`, `旅行`, `買い物`, `食事`, `趣味`, `健康`
- 分野の粒度は他のCSVと合わせておおむね20カテゴリ程度に統一してください（プロジェクト内の `CSVLoader` に簡易EN→JPマッピングが実装されています）。

<!-- 共通ルール（関連分野） -->
## 共通ルール（関連分野）
このプロジェクトの全作成要領に共通する必須ルールです。CSV の `関連分野（日本語）` 列には、必ず下記の「20 個」のいずれか1語（単一語）を指定してください。

必須事項：
- 必ず一語（空白や句読点を含まない単語）で入力すること。
- 複数指定は禁止（セミコロン `;` やカンマ `,` での複数記載はしない）。
- 該当するカテゴリが無い場合は `その他` を指定すること。
- 表記ゆれ（全角半角、末尾空白等）を避け、下記の語を正確に使うこと。

利用可能な20カテゴリ（必ずこの中から1つを選んで入力）:
1. 日常
2. 学校
3. 家族
4. 食べ物
5. 交通
6. 旅行
7. 健康
8. 動物
9. 自然
10. 地理
11. 科学
12. 文法
13. 文化
14. 時間
15. テクノロジー
16. 買い物
17. 職業
18. スポーツ
19. 感情
20. その他

管理上の注意:
- カテゴリを追加・変更する場合は `SimpleWord/docs/作成要領/中学英単語_カテゴリ一覧.md` を更新し、すべての作成要領で整合性を取ってください。
- CSV 編集時は必ずカテゴリ一覧を参照し、上記の語のいずれかを入力してください。

### 7) 難易度
- 数値で `1`（簡単）〜`3`（難しい）を指定します。
- 目安: 1=中1レベル、2=中2レベル、3=中3/入試対策レベル。

---

## 書式上の注意（よくあるミスと対処）
- セル内にカンマが含まれる場合は `"` でセルを囲んでください。例: `"I'm fine, thank you."`。
- セル内で改行を入れる場合もダブルクォートで囲みますが、可能な限り解説は短く1行に収めてください。
- 関連語の区切りはセミコロン `;` を使うこと。コンマ `,` は列区切りと誤認されます。
- 同じ `語句` を複数行で重複させないこと。表記ゆれ（大文字小文字・末尾の句読点）にも注意して一意に保ってください。
- 数字だけを変えた単純なバリエーション（例: "バッグを1個持っています。","バッグを2個持っています。"）は避けてください。

---

## 例（ヘッダと複数行）
```csv
語句,発音（カタカナ）,和訳,語源等解説（日本語）,関連語（英語）と意味（日本語）,関連分野（日本語）,難易度
Hello!,ハロー,こんにちは,"英語の挨拶の定番。helloは1800年代に電話の発明者エジソンが""もしもし""の意味で使い始めたのが起源。それ以前はhollaという注意を引く叫び声が語源。",Hi:やあ;Good morning:おはよう,日常,1
How are you?,ハウ アー ユー,お元気ですか,"How（どのように）+ are you（あなたはいる）で直訳は""どんな状態ですか""。中世英語では健康状態を気遣う表現として使われ始めた。現代では軽い挨拶として定着。",I'm fine:元気です;How's it going?:調子はどう,日常,1
Thank you,サンキュー,ありがとう,"thankは古英語のthancian（感謝する）が語源。youを付けることで""あなたに感謝します""という意味に。最も基本的で万能な感謝の表現。",Thanks:ありがとう（カジュアル);Thanks a lot:どうもありがとう,日常,1
Excuse me,エクスキューズ ミー,すみません,"excuse（許す）+ me（私を）で直訳は""私を許してください""。人に話しかける前、道を尋ねるとき、人の前を通るときなど幅広く使える。Sorryより軽い謝罪にも使う。",Sorry:ごめんなさい;Pardon me:失礼します,日常,1
Nice to meet you,ナイス トゥ ミート ユー,お会いできて嬉しいです,"Nice（良い・嬉しい）+ to meet you（あなたに会うこと）で""あなたに会えて良かった""という意味。初対面の挨拶として定番。meetの語源は古英語のmetan（出会う）。",Pleased to meet you:お会いできて光栄です;Good to see you:会えて良かった,日常,2
I'm sorry,アイム ソーリー,ごめんなさい,"sorryは古英語のsarig（悲しい・残念）が語源。""私は悲しい（残念に思う）""という気持ちを表す。謝罪だけでなく、同情や慰めにも使う。",Excuse me:すみません;I apologize:お詫びします,感情,1
```

**解説ポイント**:
- 各フレーズに「なるほど！」と思える語源や由来を記載
- 直訳を示すことで単語の構造を理解しやすく
- 歴史的背景や文化的文脈を簡潔に説明
- 使い分けのヒントを含める
- 長文の場合はダブルクォートで囲む

---

## 編集フローと検証方法
1. CSV を編集する際は Git ブランチを切る（例: `edit/chukyu-eikaiwa`）。
2. まず少数行を編集してアプリのロードで期待どおりに表示されるか確認する。
3. ローカルで簡易検証ツールを実行:

```bash
# CSV のフォーマットチェック（リポジトリ内のスクリプトを利用）
python3 Tools/csv_validator.py Resources/中学英会話.csv
```

4. `CSVLoader` の挙動を手早く確認したい場合は、リポジトリ内のチェックスクリプトを利用できます（Swift スクリプトやユニットテストを参照）。

---

## 作成時の品質ガイドライン（運用上のルール）
- 実際に中学生が使う/聞くであろう自然な表現だけを追加すること。
- 同じ意味・用途のフレーズを重複して登録しないこと。
- 関連語に登録する英語表記は可能な限り `語句` 列と一致させ、リンクできるようにする。
- 関連分野はプロジェクト内での整合性を保つ。必要なら既存CSVを参照してカテゴリ語を揃える。
- 難易度判定は保守的に行い、レビューで調整するプロセスを持つこと。
- **語源等解説の記載方針**:
  - 単なる「挨拶表現」「感謝の言葉」などの分類のみは避ける
  - 必ず1つ以上の具体的な情報（語源、由来、文化背景、使い分け等）を含める
  - 単語を分解して直訳を示すと理解しやすい（例: How are you → どのように + あなたはいる）
  - 歴史的な変遷や使われ始めた背景があれば簡潔に記載
  - 類似表現との違いや使い分けを明記すると記憶に残りやすい
  - 目標: 学習者が「へぇ、そうなんだ！」と納得できる情報を提供

---

## 変更履歴
- 2025-10-25: 語源等解説欄を改訂。言い回しの由来、単語の語源、文化的背景、記憶のコツ、使用場面、類似表現との違いなど、「なるほど！」と思える情報を含むよう詳細化。例文を6つに拡充し、具体的な記載方法を明示。
- 2025-10-13: 現行 `Resources/中学英会話.csv` の実例に合わせてヘッダとフォーマット例を明確化。

---

ご希望があれば、このガイドに沿ったテンプレートCSV（空のヘッダ入りファイル）を自動生成してコミット用に作成します。どうしますか？
