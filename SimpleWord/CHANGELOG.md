# 変更履歴 (CHANGELOG)

**プロジェクト**: SimpleWord  
**作成日**: 2025年11月5日  
**最終更新**: 2025年11月5日

---

## 📋 概要

SimpleWordアプリの主要な変更を時系列で記録します。

---

## [未リリース] - 開発中

### 主要機能
- ✅ 適応型学習アルゴリズム
- ✅ CSV種類別の最適化された表示順序
- ✅ バッチ学習と補修モード
- ✅ タイマー機能
- ✅ 音声読み上げ機能
- ✅ ヘッダ駆動型CSVパーサ
- ✅ ローテーション機能

### アーキテクチャ
- ✅ コンポーネント指向の設計
- ✅ 環境オブジェクトによる状態管理
- ✅ 単一の実装・単一路線・単一管理点の原則

---

## [1.0.0] - 2025年11月

### 追加
- **ヘッダ駆動型CSVパーサ**
  - HeaderLabels構造体による動的マッピング
  - CSV種類を問わず統一的なデータアクセス
  - 新しいCSV形式への容易な対応

- **CSV種類別の最適な表示順序**
  - 中学歴史: 年号 → 解説 → 登場人物 → ...
  - 中学古典単語: 語句 → 読み → 用法 → ...
  - 中学英単語・英会話: 語句(発音) → 語源 → 関連語 → ...

- **固定列選択肢生成**
  - すべてのCSV種類で一貫した選択肢表示
  - ヘッダ駆動型パーサの影響を受けない正確な選択肢

- **エラー解決プロトコル**
  - 体系的なエラー解決手順の確立
  - SwiftUI頻出エラーパターン集
  - 実機/シミュレータでの動作確認の必須化

- **シミュレーションポリシー**
  - AIのビルド/シミュレーター実行に関する事前確認モード
  - 実行レベル（L0〜L4）の定義
  - 作業テンプレートの整備

### 変更
- **QuizViewのコンポーネント化**
  - 約600行のモノリシックなコードを7つのコンポーネントに分割
  - 各コンポーネントが独立してテスト可能に
  - 変更時の影響範囲を最小化

- **環境オブジェクトの一元管理**
  - SimpleWordApp.swiftで環境オブジェクトを初期化
  - すべてのビューで共有される単一のソースオブトゥルース
  - 無限ループ問題の解決

- **ドキュメント体系の再構築**
  - docs/配下を4つのカテゴリに整理
  - 01_仕様書、02_実装ガイド、03_開発ガイド、04_レポート
  - すべてのドキュメントをナンバリング

### 修正
- **画面遷移の無限ループ問題**
  - 環境オブジェクトの注入漏れを修正
  - `.onReceive`による無限ループを修正
  - CPU使用率100%の問題を解決

- **ファイル混入問題**
  - QuizView.swiftからREADME.mdの内容を除去
  - README.mdからPythonスクリプトを抽出して適切な場所に保存
  - gitコマンドを使わない復元手法を確立

- **Copilot Prompt Files構造の最適化**
  - 1ファイルにつき1つの`applyTo`に修正
  - Swift専用、CSV専用、グローバル設定に分離

### 削除
- **未使用ファイルの削除**
  - 約20ファイルの古いビュー・モデル・ストアを削除
  - Common/Data、Common/Modelsの未使用コード
  - 参考資料の古いドキュメント

- **重複実装の削除**
  - CSVパーサを単一実装に統合
  - スコア管理をWordScoreStoreに統合
  - 設定管理をQuizSettingsに統合

---

## [0.1.0] - 2025年10月（初期バージョン）

### 追加
- **基本的なクイズ機能**
  - 4択クイズの実装
  - CSV読み込み機能
  - スコア記録機能

- **適応型学習の基礎**
  - バッチ学習
  - 正答率に基づく繰り返し回数調整
  - 補修モードの基本実装

- **タイマー機能**
  - 問題ごとの制限時間設定
  - 残り時間のカウントダウン表示
  - 時間切れ時の自動処理

- **音声読み上げ機能**
  - AVFoundationを使用した日本語音声読み上げ
  - 設定でON/OFF可能

---

## 🔄 今後の予定

### v1.1.0（計画中）
- [ ] ユニットテストの追加
- [ ] パフォーマンス最適化
- [ ] アクセシビリティの改善
- [ ] UIテストの追加

### v1.2.0（計画中）
- [ ] CI/CDパイプラインの構築
- [ ] コードカバレッジの測定
- [ ] 自動リファクタリングツールの導入

### v2.0.0（検討中）
- [ ] クラウド同期機能
- [ ] マルチデバイス対応
- [ ] SNS連携
- [ ] グループ学習機能

---

## 📚 関連ドキュメント

- **開発履歴**: `docs/04_レポート/01_開発履歴.md`
- **技術的課題と解決策**: `docs/04_レポート/02_技術的課題と解決策.md`
- **コード品質改善レポート**: `docs/04_レポート/03_コード品質改善レポート.md`
- **アーカイブ**: `docs/99_アーカイブ/`

---

## 📝 変更履歴の記法

このCHANGELOGは[Keep a Changelog](https://keepachangelog.com/ja/1.0.0/)の形式に基づいています。

### カテゴリ
- **追加**: 新機能
- **変更**: 既存機能の変更
- **非推奨**: 間もなく削除される機能
- **削除**: 削除された機能
- **修正**: バグ修正
- **セキュリティ**: セキュリティ関連の修正

---

**以上、変更履歴をまとめました。** 📝
